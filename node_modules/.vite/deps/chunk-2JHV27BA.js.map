{
  "version": 3,
  "sources": ["../../.pnpm/react-fast-compare@3.2.2/node_modules/react-fast-compare/index.js", "../../.pnpm/invariant@2.2.4/node_modules/invariant/browser.js", "../../.pnpm/shallowequal@1.1.0/node_modules/shallowequal/index.js", "../../.pnpm/@zudoku+react-helmet-async@2.0.5_react@19.1.0/node_modules/@zudoku/react-helmet-async/lib/index.esm.js", "../../zudoku/src/lib/components/context/BypassProtectedRoutesContext.ts", "../../zudoku/src/lib/core/RouteGuard.tsx", "../../zudoku/src/lib/util/useExposedProps.tsx", "../../zudoku/src/lib/components/DeveloperHint.tsx", "../../zudoku/src/lib/components/NotFoundPage.tsx", "../../zudoku/src/lib/ui/SyntaxHighlight.tsx", "../../zudoku/src/lib/errors/ErrorAlert.tsx", "../../zudoku/src/lib/errors/RouterError.tsx", "../../.pnpm/react-is@19.1.0/node_modules/react-is/cjs/react-is.production.js", "../../.pnpm/react-is@19.1.0/node_modules/react-is/cjs/react-is.development.js", "../../.pnpm/react-is@19.1.0/node_modules/react-is/index.js", "../../zudoku/src/lib/components/SlotletProvider.tsx", "../../zudoku/src/lib/core/plugins.ts", "../../zudoku/src/lib/ui/DropdownMenu.tsx", "../../.pnpm/vaul@1.1.2_@types+react-dom@19.1.2_@types+react@19.1.1__@types+react@19.1.1_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/vaul/dist/index.mjs", "../../zudoku/src/lib/ui/Drawer.tsx", "../../.pnpm/@mdx-js+react@3.1.0_@types+react@19.1.1_react@19.1.0/node_modules/@mdx-js/react/lib/index.js", "../../.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/queryCache.js", "../../.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/mutationCache.js", "../../.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js", "../../.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/queryClient.js", "../../.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/hydration.js", "../../.pnpm/@tanstack+react-query@5.74.3_react@19.1.0/node_modules/@tanstack/react-query/build/modern/HydrationBoundary.js", "../../zudoku/src/lib/errors/ServerError.tsx", "../../.pnpm/react-router@7.5.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/react-router/dist/development/dom-export.mjs", "../../zudoku/src/lib/plugins/openapi/StaggeredRender.tsx", "../../zudoku/src/lib/components/Bootstrap.tsx", "../../zudoku/src/lib/util/useScrollToTop.ts", "../../zudoku/src/lib/components/Footer.tsx", "../../zudoku/src/lib/ui/Skeleton.tsx", "../../zudoku/src/lib/components/Banner.tsx", "../../zudoku/src/lib/components/navigation/ZudokuLogo.tsx", "../../zudoku/src/lib/components/navigation/PoweredByZudoku.tsx", "../../zudoku/src/lib/util/detectOS.ts", "../../zudoku/src/lib/components/Search.tsx", "../../zudoku/src/lib/components/ThemeSwitch.tsx", "../../.pnpm/@babel+runtime@7.27.0/node_modules/@babel/runtime/helpers/esm/extends.js", "../../.pnpm/react-is@16.13.1/node_modules/react-is/cjs/react-is.production.min.js", "../../.pnpm/react-is@16.13.1/node_modules/react-is/cjs/react-is.development.js", "../../.pnpm/react-is@16.13.1/node_modules/react-is/index.js", "../../.pnpm/hoist-non-react-statics@3.3.2/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js", "../../.pnpm/@tanem+react-nprogress@5.0.55_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@tanem/react-nprogress/dist/react-nprogress.esm.js", "../../zudoku/src/lib/components/TopNavigation.tsx", "../../zudoku/src/lib/components/MobileTopNavigation.tsx", "../../zudoku/src/lib/components/Header.tsx", "../../zudoku/src/lib/ui/Drawer.tsx", "../../zudoku/src/lib/components/navigation/SidebarWrapper.tsx", "../../zudoku/src/lib/components/navigation/Sidebar.tsx", "../../zudoku/src/lib/components/Main.tsx", "../../zudoku/src/lib/components/Layout.tsx", "../../zudoku/src/lib/components/ErrorPage.tsx", "../../zudoku/src/lib/components/StatusPage.tsx", "../../.pnpm/react-error-boundary@5.0.0_react@19.1.0/node_modules/react-error-boundary/dist/react-error-boundary.esm.js", "../../.pnpm/nanoevents@9.1.0/node_modules/nanoevents/index.js", "../../zudoku/src/lib/core/ZudokuContext.ts", "../../zudoku/src/lib/errors/TopLevelError.tsx", "../../zudoku/src/lib/util/requestIdleCallbackPolyfill.ts", "../../zudoku/src/lib/components/context/ComponentsContext.tsx", "../../zudoku/src/lib/components/context/RouterEventsEmitter.tsx", "../../zudoku/src/lib/components/context/ZudokuProvider.tsx", "../../zudoku/src/lib/components/Zudoku.tsx", "../../zudoku/src/lib/components/index.ts"],
  "sourcesContent": ["/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.3\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    // START: Modifications:\n    // Apply guards for `Object.create(null)` handling. See:\n    // - https://github.com/FormidableLabs/react-fast-compare/issues/64\n    // - https://github.com/epoberezkin/fast-deep-equal/issues/49\n    if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === 'function' && typeof b.valueOf === 'function') return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString && typeof a.toString === 'function' && typeof b.toString === 'function') return a.toString() === b.toString();\n    // END: Modifications\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n", "//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n", "// src/index.tsx\nimport React3, { Component as Component3 } from \"react\";\nimport fastCompare from \"react-fast-compare\";\nimport invariant from \"invariant\";\n\n// src/Provider.tsx\nimport React2, { Component } from \"react\";\n\n// src/server.ts\nimport React from \"react\";\n\n// src/constants.ts\nvar TAG_NAMES = /* @__PURE__ */ ((TAG_NAMES2) => {\n  TAG_NAMES2[\"BASE\"] = \"base\";\n  TAG_NAMES2[\"BODY\"] = \"body\";\n  TAG_NAMES2[\"HEAD\"] = \"head\";\n  TAG_NAMES2[\"HTML\"] = \"html\";\n  TAG_NAMES2[\"LINK\"] = \"link\";\n  TAG_NAMES2[\"META\"] = \"meta\";\n  TAG_NAMES2[\"NOSCRIPT\"] = \"noscript\";\n  TAG_NAMES2[\"SCRIPT\"] = \"script\";\n  TAG_NAMES2[\"STYLE\"] = \"style\";\n  TAG_NAMES2[\"TITLE\"] = \"title\";\n  TAG_NAMES2[\"FRAGMENT\"] = \"Symbol(react.fragment)\";\n  return TAG_NAMES2;\n})(TAG_NAMES || {});\nvar SEO_PRIORITY_TAGS = {\n  link: { rel: [\"amphtml\", \"canonical\", \"alternate\"] },\n  script: { type: [\"application/ld+json\"] },\n  meta: {\n    charset: \"\",\n    name: [\"generator\", \"robots\", \"description\"],\n    property: [\n      \"og:type\",\n      \"og:title\",\n      \"og:url\",\n      \"og:image\",\n      \"og:image:alt\",\n      \"og:description\",\n      \"twitter:url\",\n      \"twitter:title\",\n      \"twitter:description\",\n      \"twitter:image\",\n      \"twitter:image:alt\",\n      \"twitter:card\",\n      \"twitter:site\"\n    ]\n  }\n};\nvar VALID_TAG_NAMES = Object.values(TAG_NAMES);\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HTML_TAG_MAP = Object.entries(REACT_TAG_MAP).reduce(\n  (carry, [key, value]) => {\n    carry[value] = key;\n    return carry;\n  },\n  {}\n);\nvar HELMET_ATTRIBUTE = \"data-rh\";\n\n// src/utils.ts\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\",\n  PRIORITIZE_SEO_TAGS: \"prioritizeSeoTags\"\n};\nvar getInnermostProperty = (propsList, property) => {\n  for (let i = propsList.length - 1; i >= 0; i -= 1) {\n    const props = propsList[i];\n    if (Object.prototype.hasOwnProperty.call(props, property)) {\n      return props[property];\n    }\n  }\n  return null;\n};\nvar getTitleFromPropsList = (propsList) => {\n  let innermostTitle = getInnermostProperty(propsList, \"title\" /* TITLE */);\n  const innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n  if (Array.isArray(innermostTitle)) {\n    innermostTitle = innermostTitle.join(\"\");\n  }\n  if (innermostTemplate && innermostTitle) {\n    return innermostTemplate.replace(/%s/g, () => innermostTitle);\n  }\n  const innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || void 0;\n};\nvar getOnChangeClientState = (propsList) => getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || (() => {\n});\nvar getAttributesFromPropsList = (tagType, propsList) => propsList.filter((props) => typeof props[tagType] !== \"undefined\").map((props) => props[tagType]).reduce((tagAttrs, current) => ({ ...tagAttrs, ...current }), {});\nvar getBaseTagFromPropsList = (primaryAttributes, propsList) => propsList.filter((props) => typeof props[\"base\" /* BASE */] !== \"undefined\").map((props) => props[\"base\" /* BASE */]).reverse().reduce((innermostBaseTag, tag) => {\n  if (!innermostBaseTag.length) {\n    const keys = Object.keys(tag);\n    for (let i = 0; i < keys.length; i += 1) {\n      const attributeKey = keys[i];\n      const lowerCaseAttributeKey = attributeKey.toLowerCase();\n      if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n        return innermostBaseTag.concat(tag);\n      }\n    }\n  }\n  return innermostBaseTag;\n}, []);\nvar warn = (msg) => console && typeof console.warn === \"function\" && console.warn(msg);\nvar getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {\n  const approvedSeenTags = {};\n  return propsList.filter((props) => {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\n        `Helmet: ${tagName} should be of type \"Array\". Instead found type \"${typeof props[tagName]}\"`\n      );\n    }\n    return false;\n  }).map((props) => props[tagName]).reverse().reduce((approvedTags, instanceTags) => {\n    const instanceSeenTags = {};\n    instanceTags.filter((tag) => {\n      let primaryAttributeKey;\n      const keys2 = Object.keys(tag);\n      for (let i = 0; i < keys2.length; i += 1) {\n        const attributeKey = keys2[i];\n        const lowerCaseAttributeKey = attributeKey.toLowerCase();\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === \"rel\" /* REL */ && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === \"rel\" /* REL */ && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        }\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === \"innerHTML\" /* INNER_HTML */ || attributeKey === \"cssText\" /* CSS_TEXT */ || attributeKey === \"itemprop\" /* ITEM_PROP */)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n      const value = tag[primaryAttributeKey].toLowerCase();\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n      return false;\n    }).reverse().forEach((tag) => approvedTags.push(tag));\n    const keys = Object.keys(instanceSeenTags);\n    for (let i = 0; i < keys.length; i += 1) {\n      const attributeKey = keys[i];\n      const tagUnion = {\n        ...approvedSeenTags[attributeKey],\n        ...instanceSeenTags[attributeKey]\n      };\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n    return approvedTags;\n  }, []).reverse();\n};\nvar getAnyTrueFromPropsList = (propsList, checkedTag) => {\n  if (Array.isArray(propsList) && propsList.length) {\n    for (let index = 0; index < propsList.length; index += 1) {\n      const prop = propsList[index];\n      if (prop[checkedTag]) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\nvar reducePropsToState = (propsList) => ({\n  baseTag: getBaseTagFromPropsList([\"href\" /* HREF */], propsList),\n  bodyAttributes: getAttributesFromPropsList(\"bodyAttributes\" /* BODY */, propsList),\n  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n  encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n  htmlAttributes: getAttributesFromPropsList(\"htmlAttributes\" /* HTML */, propsList),\n  linkTags: getTagsFromPropsList(\n    \"link\" /* LINK */,\n    [\"rel\" /* REL */, \"href\" /* HREF */],\n    propsList\n  ),\n  metaTags: getTagsFromPropsList(\n    \"meta\" /* META */,\n    [\n      \"name\" /* NAME */,\n      \"charset\" /* CHARSET */,\n      \"http-equiv\" /* HTTPEQUIV */,\n      \"property\" /* PROPERTY */,\n      \"itemprop\" /* ITEM_PROP */\n    ],\n    propsList\n  ),\n  noscriptTags: getTagsFromPropsList(\"noscript\" /* NOSCRIPT */, [\"innerHTML\" /* INNER_HTML */], propsList),\n  onChangeClientState: getOnChangeClientState(propsList),\n  scriptTags: getTagsFromPropsList(\n    \"script\" /* SCRIPT */,\n    [\"src\" /* SRC */, \"innerHTML\" /* INNER_HTML */],\n    propsList\n  ),\n  styleTags: getTagsFromPropsList(\"style\" /* STYLE */, [\"cssText\" /* CSS_TEXT */], propsList),\n  title: getTitleFromPropsList(propsList),\n  titleAttributes: getAttributesFromPropsList(\"titleAttributes\" /* TITLE */, propsList),\n  prioritizeSeoTags: getAnyTrueFromPropsList(propsList, HELMET_PROPS.PRIORITIZE_SEO_TAGS)\n});\nvar flattenArray = (possibleArray) => Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\nvar checkIfPropsMatch = (props, toMatch) => {\n  const keys = Object.keys(props);\n  for (let i = 0; i < keys.length; i += 1) {\n    if (toMatch[keys[i]] && toMatch[keys[i]].includes(props[keys[i]])) {\n      return true;\n    }\n  }\n  return false;\n};\nvar prioritizer = (elementsList, propsToMatch) => {\n  if (Array.isArray(elementsList)) {\n    return elementsList.reduce(\n      (acc, elementAttrs) => {\n        if (checkIfPropsMatch(elementAttrs, propsToMatch)) {\n          acc.priority.push(elementAttrs);\n        } else {\n          acc.default.push(elementAttrs);\n        }\n        return acc;\n      },\n      { priority: [], default: [] }\n    );\n  }\n  return { default: elementsList, priority: [] };\n};\nvar without = (obj, key) => {\n  return {\n    ...obj,\n    [key]: void 0\n  };\n};\n\n// src/server.ts\nvar SELF_CLOSING_TAGS = [\"noscript\" /* NOSCRIPT */, \"script\" /* SCRIPT */, \"style\" /* STYLE */];\nvar encodeSpecialCharacters = (str, encode = true) => {\n  if (encode === false) {\n    return String(str);\n  }\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\nvar generateElementAttributesAsString = (attributes) => Object.keys(attributes).reduce((str, key) => {\n  const attr = typeof attributes[key] !== \"undefined\" ? `${key}=\"${attributes[key]}\"` : `${key}`;\n  return str ? `${str} ${attr}` : attr;\n}, \"\");\nvar generateTitleAsString = (type, title, attributes, encode) => {\n  const attributeString = generateElementAttributesAsString(attributes);\n  const flattenedTitle = flattenArray(title);\n  return attributeString ? `<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeString}>${encodeSpecialCharacters(\n    flattenedTitle,\n    encode\n  )}</${type}>` : `<${type} ${HELMET_ATTRIBUTE}=\"true\">${encodeSpecialCharacters(\n    flattenedTitle,\n    encode\n  )}</${type}>`;\n};\nvar generateTagsAsString = (type, tags, encode = true) => tags.reduce((str, t) => {\n  const tag = t;\n  const attributeHtml = Object.keys(tag).filter(\n    (attribute) => !(attribute === \"innerHTML\" /* INNER_HTML */ || attribute === \"cssText\" /* CSS_TEXT */)\n  ).reduce((string, attribute) => {\n    const attr = typeof tag[attribute] === \"undefined\" ? attribute : `${attribute}=\"${encodeSpecialCharacters(tag[attribute], encode)}\"`;\n    return string ? `${string} ${attr}` : attr;\n  }, \"\");\n  const tagContent = tag.innerHTML || tag.cssText || \"\";\n  const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n  return `${str}<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeHtml}${isSelfClosing ? `/>` : `>${tagContent}</${type}>`}`;\n}, \"\");\nvar convertElementAttributesToReactProps = (attributes, initProps = {}) => Object.keys(attributes).reduce((obj, key) => {\n  const mapped = REACT_TAG_MAP[key];\n  obj[mapped || key] = attributes[key];\n  return obj;\n}, initProps);\nvar generateTitleAsReactComponent = (_type, title, attributes) => {\n  const initProps = {\n    key: title,\n    [HELMET_ATTRIBUTE]: true\n  };\n  const props = convertElementAttributesToReactProps(attributes, initProps);\n  return [React.createElement(\"title\" /* TITLE */, props, title)];\n};\nvar generateTagsAsReactComponent = (type, tags) => tags.map((tag, i) => {\n  const mappedTag = {\n    key: i,\n    [HELMET_ATTRIBUTE]: true\n  };\n  Object.keys(tag).forEach((attribute) => {\n    const mapped = REACT_TAG_MAP[attribute];\n    const mappedAttribute = mapped || attribute;\n    if (mappedAttribute === \"innerHTML\" /* INNER_HTML */ || mappedAttribute === \"cssText\" /* CSS_TEXT */) {\n      const content = tag.innerHTML || tag.cssText;\n      mappedTag.dangerouslySetInnerHTML = { __html: content };\n    } else {\n      mappedTag[mappedAttribute] = tag[attribute];\n    }\n  });\n  return React.createElement(type, mappedTag);\n});\nvar getMethodsForTag = (type, tags, encode = true) => {\n  switch (type) {\n    case \"title\" /* TITLE */:\n      return {\n        toComponent: () => generateTitleAsReactComponent(type, tags.title, tags.titleAttributes),\n        toString: () => generateTitleAsString(type, tags.title, tags.titleAttributes, encode)\n      };\n    case \"bodyAttributes\" /* BODY */:\n    case \"htmlAttributes\" /* HTML */:\n      return {\n        toComponent: () => convertElementAttributesToReactProps(tags),\n        toString: () => generateElementAttributesAsString(tags)\n      };\n    default:\n      return {\n        toComponent: () => generateTagsAsReactComponent(type, tags),\n        toString: () => generateTagsAsString(type, tags, encode)\n      };\n  }\n};\nvar getPriorityMethods = ({ metaTags, linkTags, scriptTags, encode }) => {\n  const meta = prioritizer(metaTags, SEO_PRIORITY_TAGS.meta);\n  const link = prioritizer(linkTags, SEO_PRIORITY_TAGS.link);\n  const script = prioritizer(scriptTags, SEO_PRIORITY_TAGS.script);\n  const priorityMethods = {\n    toComponent: () => [\n      ...generateTagsAsReactComponent(\"meta\" /* META */, meta.priority),\n      ...generateTagsAsReactComponent(\"link\" /* LINK */, link.priority),\n      ...generateTagsAsReactComponent(\"script\" /* SCRIPT */, script.priority)\n    ],\n    toString: () => (\n      // generate all the tags as strings and concatenate them\n      `${getMethodsForTag(\"meta\" /* META */, meta.priority, encode)} ${getMethodsForTag(\n        \"link\" /* LINK */,\n        link.priority,\n        encode\n      )} ${getMethodsForTag(\"script\" /* SCRIPT */, script.priority, encode)}`\n    )\n  };\n  return {\n    priorityMethods,\n    metaTags: meta.default,\n    linkTags: link.default,\n    scriptTags: script.default\n  };\n};\nvar mapStateOnServer = (props) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    encode = true,\n    htmlAttributes,\n    noscriptTags,\n    styleTags,\n    title = \"\",\n    titleAttributes,\n    prioritizeSeoTags\n  } = props;\n  let { linkTags, metaTags, scriptTags } = props;\n  let priorityMethods = {\n    toComponent: () => {\n    },\n    toString: () => \"\"\n  };\n  if (prioritizeSeoTags) {\n    ({ priorityMethods, linkTags, metaTags, scriptTags } = getPriorityMethods(props));\n  }\n  return {\n    priority: priorityMethods,\n    base: getMethodsForTag(\"base\" /* BASE */, baseTag, encode),\n    bodyAttributes: getMethodsForTag(\"bodyAttributes\" /* BODY */, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(\"htmlAttributes\" /* HTML */, htmlAttributes, encode),\n    link: getMethodsForTag(\"link\" /* LINK */, linkTags, encode),\n    meta: getMethodsForTag(\"meta\" /* META */, metaTags, encode),\n    noscript: getMethodsForTag(\"noscript\" /* NOSCRIPT */, noscriptTags, encode),\n    script: getMethodsForTag(\"script\" /* SCRIPT */, scriptTags, encode),\n    style: getMethodsForTag(\"style\" /* STYLE */, styleTags, encode),\n    title: getMethodsForTag(\"title\" /* TITLE */, { title, titleAttributes }, encode)\n  };\n};\nvar server_default = mapStateOnServer;\n\n// src/HelmetData.ts\nvar instances = [];\nvar isDocument = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nvar HelmetData = class {\n  instances = [];\n  canUseDOM = isDocument;\n  context;\n  value = {\n    setHelmet: (serverState) => {\n      this.context.helmet = serverState;\n    },\n    helmetInstances: {\n      get: () => this.canUseDOM ? instances : this.instances,\n      add: (instance) => {\n        (this.canUseDOM ? instances : this.instances).push(instance);\n      },\n      remove: (instance) => {\n        const index = (this.canUseDOM ? instances : this.instances).indexOf(instance);\n        (this.canUseDOM ? instances : this.instances).splice(index, 1);\n      }\n    }\n  };\n  constructor(context, canUseDOM) {\n    this.context = context;\n    this.canUseDOM = canUseDOM || false;\n    if (!canUseDOM) {\n      context.helmet = server_default({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n  }\n};\n\n// src/Provider.tsx\nvar defaultValue = {};\nvar Context = React2.createContext(defaultValue);\nvar HelmetProvider = class _HelmetProvider extends Component {\n  static canUseDOM = isDocument;\n  helmetData;\n  constructor(props) {\n    super(props);\n    this.helmetData = new HelmetData(this.props.context || {}, _HelmetProvider.canUseDOM);\n  }\n  render() {\n    return /* @__PURE__ */ React2.createElement(Context.Provider, { value: this.helmetData.value }, this.props.children);\n  }\n};\n\n// src/Dispatcher.tsx\nimport { Component as Component2 } from \"react\";\nimport shallowEqual from \"shallowequal\";\n\n// src/client.ts\nvar updateTags = (type, tags) => {\n  const headElement = document.head || document.querySelector(\"head\" /* HEAD */);\n  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);\n  const oldTags = [].slice.call(tagNodes);\n  const newTags = [];\n  let indexToDelete;\n  if (tags && tags.length) {\n    tags.forEach((tag) => {\n      const newElement = document.createElement(type);\n      for (const attribute in tag) {\n        if (Object.prototype.hasOwnProperty.call(tag, attribute)) {\n          if (attribute === \"innerHTML\" /* INNER_HTML */) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === \"cssText\" /* CSS_TEXT */) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            const attr = attribute;\n            const value = typeof tag[attr] === \"undefined\" ? \"\" : tag[attr];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n      if (oldTags.some((existingTag, index) => {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n  oldTags.forEach((tag) => tag.parentNode?.removeChild(tag));\n  newTags.forEach((tag) => headElement.appendChild(tag));\n  return {\n    oldTags,\n    newTags\n  };\n};\nvar updateAttributes = (tagName, attributes) => {\n  const elementTag = document.getElementsByTagName(tagName)[0];\n  if (!elementTag) {\n    return;\n  }\n  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  const helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  const attributesToRemove = [...helmetAttributes];\n  const attributeKeys = Object.keys(attributes);\n  for (const attribute of attributeKeys) {\n    const value = attributes[attribute] || \"\";\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n    const indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n  for (let i = attributesToRemove.length - 1; i >= 0; i -= 1) {\n    elementTag.removeAttribute(attributesToRemove[i]);\n  }\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\nvar updateTitle = (title, attributes) => {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n  updateAttributes(\"title\" /* TITLE */, attributes);\n};\nvar commitTagChanges = (newState, cb) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    htmlAttributes,\n    linkTags,\n    metaTags,\n    noscriptTags,\n    onChangeClientState,\n    scriptTags,\n    styleTags,\n    title,\n    titleAttributes\n  } = newState;\n  updateAttributes(\"body\" /* BODY */, bodyAttributes);\n  updateAttributes(\"html\" /* HTML */, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  const tagUpdates = {\n    baseTag: updateTags(\"base\" /* BASE */, baseTag),\n    linkTags: updateTags(\"link\" /* LINK */, linkTags),\n    metaTags: updateTags(\"meta\" /* META */, metaTags),\n    noscriptTags: updateTags(\"noscript\" /* NOSCRIPT */, noscriptTags),\n    scriptTags: updateTags(\"script\" /* SCRIPT */, scriptTags),\n    styleTags: updateTags(\"style\" /* STYLE */, styleTags)\n  };\n  const addedTags = {};\n  const removedTags = {};\n  Object.keys(tagUpdates).forEach((tagType) => {\n    const { newTags, oldTags } = tagUpdates[tagType];\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  if (cb) {\n    cb();\n  }\n  onChangeClientState(newState, addedTags, removedTags);\n};\nvar _helmetCallback = null;\nvar handleStateChangeOnClient = (newState) => {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(() => {\n      commitTagChanges(newState, () => {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\nvar client_default = handleStateChangeOnClient;\n\n// src/Dispatcher.tsx\nvar HelmetDispatcher = class extends Component2 {\n  rendered = false;\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(nextProps, this.props);\n  }\n  componentDidUpdate() {\n    this.emitChange();\n  }\n  componentWillUnmount() {\n    const { helmetInstances } = this.props.context;\n    helmetInstances.remove(this);\n    this.emitChange();\n  }\n  emitChange() {\n    const { helmetInstances, setHelmet } = this.props.context;\n    let serverState = null;\n    const state = reducePropsToState(\n      helmetInstances.get().map((instance) => {\n        const props = { ...instance.props };\n        delete props.context;\n        return props;\n      })\n    );\n    if (HelmetProvider.canUseDOM) {\n      client_default(state);\n    } else if (server_default) {\n      serverState = server_default(state);\n    }\n    setHelmet(serverState);\n  }\n  // componentWillMount will be deprecated\n  // for SSR, initialize on first render\n  // constructor is also unsafe in StrictMode\n  init() {\n    if (this.rendered) {\n      return;\n    }\n    this.rendered = true;\n    const { helmetInstances } = this.props.context;\n    helmetInstances.add(this);\n    this.emitChange();\n  }\n  render() {\n    this.init();\n    return null;\n  }\n};\n\n// src/index.tsx\nvar Helmet = class extends Component3 {\n  static defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true,\n    prioritizeSeoTags: false\n  };\n  shouldComponentUpdate(nextProps) {\n    return !fastCompare(without(this.props, \"helmetData\"), without(nextProps, \"helmetData\"));\n  }\n  mapNestedChildrenToProps(child, nestedChildren) {\n    if (!nestedChildren) {\n      return null;\n    }\n    switch (child.type) {\n      case \"script\" /* SCRIPT */:\n      case \"noscript\" /* NOSCRIPT */:\n        return {\n          innerHTML: nestedChildren\n        };\n      case \"style\" /* STYLE */:\n        return {\n          cssText: nestedChildren\n        };\n      default:\n        throw new Error(\n          `<${child.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`\n        );\n    }\n  }\n  flattenArrayTypeChildren(child, arrayTypeChildren, newChildProps, nestedChildren) {\n    return {\n      ...arrayTypeChildren,\n      [child.type]: [\n        ...arrayTypeChildren[child.type] || [],\n        {\n          ...newChildProps,\n          ...this.mapNestedChildrenToProps(child, nestedChildren)\n        }\n      ]\n    };\n  }\n  mapObjectTypeChildren(child, newProps, newChildProps, nestedChildren) {\n    switch (child.type) {\n      case \"title\" /* TITLE */:\n        return {\n          ...newProps,\n          [child.type]: nestedChildren,\n          titleAttributes: { ...newChildProps }\n        };\n      case \"body\" /* BODY */:\n        return {\n          ...newProps,\n          bodyAttributes: { ...newChildProps }\n        };\n      case \"html\" /* HTML */:\n        return {\n          ...newProps,\n          htmlAttributes: { ...newChildProps }\n        };\n      default:\n        return {\n          ...newProps,\n          [child.type]: { ...newChildProps }\n        };\n    }\n  }\n  mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n    let newFlattenedProps = { ...newProps };\n    Object.keys(arrayTypeChildren).forEach((arrayChildName) => {\n      newFlattenedProps = {\n        ...newFlattenedProps,\n        [arrayChildName]: arrayTypeChildren[arrayChildName]\n      };\n    });\n    return newFlattenedProps;\n  }\n  warnOnInvalidChildren(child, nestedChildren) {\n    invariant(\n      VALID_TAG_NAMES.some((name) => child.type === name),\n      typeof child.type === \"function\" ? `You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.` : `Only elements types ${VALID_TAG_NAMES.join(\n        \", \"\n      )} are allowed. Helmet does not support rendering <${child.type}> elements. Refer to our API for more information.`\n    );\n    invariant(\n      !nestedChildren || typeof nestedChildren === \"string\" || Array.isArray(nestedChildren) && !nestedChildren.some((nestedChild) => typeof nestedChild !== \"string\"),\n      `Helmet expects a string as a child of <${child.type}>. Did you forget to wrap your children in braces? ( <${child.type}>{\\`\\`}</${child.type}> ) Refer to our API for more information.`\n    );\n    return true;\n  }\n  mapChildrenToProps(children, newProps) {\n    let arrayTypeChildren = {};\n    React3.Children.forEach(children, (child) => {\n      if (!child || !child.props) {\n        return;\n      }\n      const { children: nestedChildren, ...childProps } = child.props;\n      const newChildProps = Object.keys(childProps).reduce((obj, key) => {\n        obj[HTML_TAG_MAP[key] || key] = childProps[key];\n        return obj;\n      }, {});\n      let { type } = child;\n      if (typeof type === \"symbol\") {\n        type = type.toString();\n      } else {\n        this.warnOnInvalidChildren(child, nestedChildren);\n      }\n      switch (type) {\n        case \"Symbol(react.fragment)\" /* FRAGMENT */:\n          newProps = this.mapChildrenToProps(nestedChildren, newProps);\n          break;\n        case \"link\" /* LINK */:\n        case \"meta\" /* META */:\n        case \"noscript\" /* NOSCRIPT */:\n        case \"script\" /* SCRIPT */:\n        case \"style\" /* STYLE */:\n          arrayTypeChildren = this.flattenArrayTypeChildren(\n            child,\n            arrayTypeChildren,\n            newChildProps,\n            nestedChildren\n          );\n          break;\n        default:\n          newProps = this.mapObjectTypeChildren(child, newProps, newChildProps, nestedChildren);\n          break;\n      }\n    });\n    return this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n  }\n  render() {\n    const { children, ...props } = this.props;\n    let newProps = { ...props };\n    let { helmetData } = props;\n    if (children) {\n      newProps = this.mapChildrenToProps(children, newProps);\n    }\n    if (helmetData && !(helmetData instanceof HelmetData)) {\n      const data = helmetData;\n      helmetData = new HelmetData(data.context, true);\n      delete newProps.helmetData;\n    }\n    return helmetData ? /* @__PURE__ */ React3.createElement(HelmetDispatcher, { ...newProps, context: helmetData.value }) : /* @__PURE__ */ React3.createElement(Context.Consumer, null, (context) => /* @__PURE__ */ React3.createElement(HelmetDispatcher, { ...newProps, context }));\n  }\n};\nexport {\n  Helmet,\n  HelmetData,\n  HelmetProvider\n};\n", "import { createContext } from \"react\";\n\nexport const BypassProtectedRoutesContext = createContext(false);\n", "import { useQuery } from \"@tanstack/react-query\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { use } from \"react\";\nimport { matchPath, Outlet, useLocation, useNavigate } from \"react-router\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"zudoku/ui/Dialog.js\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport { BypassProtectedRoutesContext } from \"../components/context/BypassProtectedRoutesContext.js\";\nimport { useZudoku } from \"../components/context/ZudokuContext.js\";\nimport { ZudokuError } from \"../util/invariant.js\";\nimport { useLatest } from \"../util/useLatest.js\";\n\nexport const SEARCH_PROTECTED_SECTION = \"protected\";\n\nexport const RouteGuard = () => {\n  const auth = useAuth();\n  const zudoku = useZudoku();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const latestPath = useLatest(location.pathname);\n  const shouldBypass = use(BypassProtectedRoutesContext);\n\n  const { protectedRoutes = [] } = zudoku.options;\n\n  const isProtected =\n    !shouldBypass &&\n    protectedRoutes.some((path) =>\n      matchPath({ path, end: true }, location.pathname),\n    );\n\n  useQuery({\n    queryKey: [\"login-redirect\"],\n    queryFn: async () => {\n      await new Promise((resolve) => setTimeout(resolve, 1200));\n      await zudoku.authentication?.signIn({\n        redirectTo: latestPath.current,\n      });\n      return true;\n    },\n    enabled:\n      typeof window !== \"undefined\" &&\n      isProtected &&\n      !auth.isPending &&\n      !auth.isAuthenticated,\n  });\n\n  if (isProtected && !auth.isAuthenticated) {\n    return (\n      <Dialog\n        open={true}\n        onOpenChange={(open) => {\n          if (!open) {\n            void navigate(-1);\n          }\n        }}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Logging you in...</DialogTitle>\n          </DialogHeader>\n          <DialogDescription>\n            Please wait while we log you in.\n          </DialogDescription>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  if (isProtected && !auth.isAuthEnabled) {\n    throw new ZudokuError(\"Authentication is not enabled\", {\n      title: \"Authentication is not enabled\",\n      developerHint:\n        \"To use protectedRoutes you need authentication to be enabled\",\n    });\n  }\n\n  return (\n    <>\n      {shouldBypass && (\n        <Helmet>\n          <meta\n            name=\"pagefind\"\n            data-pagefind-filter={`section:${SEARCH_PROTECTED_SECTION}`}\n            content=\"true\"\n          />\n        </Helmet>\n      )}\n      <Outlet />\n    </>\n  );\n};\n", "import {\n  useLocation,\n  useNavigate,\n  useParams,\n  useSearchParams,\n} from \"react-router\";\nimport type { ExposedComponentProps } from \"../components/SlotletProvider.js\";\n\nexport const useExposedProps = (): ExposedComponentProps => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const params = useParams();\n\n  return { location, navigate, params, searchParams, setSearchParams };\n};\n", "import type { ReactNode } from \"react\";\nimport { Callout } from \"../ui/Callout.js\";\nimport { Markdown } from \"./Markdown.js\";\n\nexport const DeveloperHint = ({\n  children,\n  className,\n}: {\n  children: ReactNode;\n  className?: string;\n}) => {\n  if (process.env.NODE_ENV !== \"development\") return;\n\n  return (\n    <Callout type=\"caution\" title=\"Developer hint\" className={className}>\n      <div className=\"flex flex-col gap-2\">\n        {typeof children === \"string\" ? (\n          <Markdown content={children} />\n        ) : (\n          <div>{children}</div>\n        )}\n        <small className=\"italic\">\n          Note: This hint is only shown in development mode.\n        </small>\n      </div>\n    </Callout>\n  );\n};\n", "import { UnlinkIcon } from \"lucide-react\";\nimport { Link, useParams } from \"react-router\";\nimport { CategoryHeading } from \"./CategoryHeading.js\";\nimport { DeveloperHint } from \"./DeveloperHint.js\";\nimport { Heading } from \"./Heading.js\";\nimport { ProseClasses } from \"./Markdown.js\";\n\nexport const NotFoundPage = () => {\n  const params = useParams();\n\n  return (\n    <div className={ProseClasses + \" h-full pt-[--padding-content-top]\"}>\n      <CategoryHeading>404</CategoryHeading>\n      <Heading level={1} className=\"flex gap-3.5 items-center\">\n        Page not found\n        <UnlinkIcon size={24} />\n      </Heading>\n      <DeveloperHint>\n        Start by adding a file at{\" \"}\n        <code>\n          {\"{PROJECT_ROOT}\"}/{params[\"*\"]}.mdx\n        </code>{\" \"}\n        and add some content to make this error go away.\n      </DeveloperHint>\n      <p>\n        It seems that the page you are looking for does not exist or may have\n        been moved. Please check the URL for any typos or use the navigation\n        menu to find the correct page.\n      </p>\n      <Link to=\"/\">Go back home</Link>\n    </div>\n  );\n};\n", "import {\n  Highlight,\n  Prism,\n  themes,\n  type HighlightProps,\n} from \"prism-react-renderer\";\n\nimport { CheckIcon, CopyIcon } from \"lucide-react\";\n\nglobalThis.Prism = Prism;\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-bash.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-ruby.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-markup.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-json.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-java.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-csharp.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-objectivec.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-markdown.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-javascript.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-typescript.min.js\");\n// @ts-expect-error This is untyped\nvoid import(\"prismjs/components/prism-jsstacktrace.min.js\");\n\nimport { useTheme } from \"next-themes\";\nimport { memo, useState } from \"react\";\nimport { ClientOnly } from \"../components/ClientOnly.js\";\nimport { cn } from \"../util/cn.js\";\n\nexport type SyntaxHighlightProps = {\n  className?: string;\n  noBackground?: boolean;\n  wrapLines?: boolean;\n  showLanguageIndicator?: boolean;\n  language?: string;\n  title?: string;\n  children?: string;\n  code?: string;\n  showCopy?: \"hover\" | \"always\" | \"never\";\n  showCopyText?: boolean;\n  disabled?: boolean;\n} & Omit<HighlightProps, \"children\" | \"language\">;\n\nconst remapLang = {\n  mdx: \"md\",\n} as Record<string, string>;\n\nconst SyntaxHighlightInner = ({\n  language = \"plain\",\n  showCopy = \"hover\",\n  showCopyText,\n  title,\n  children,\n  disabled,\n  ...props\n}: SyntaxHighlightProps) => {\n  const { resolvedTheme } = useTheme();\n  const [isCopied, setIsCopied] = useState(false);\n\n  const code = children ?? props.code;\n\n  if (!code) {\n    return null;\n  }\n\n  const highlightTheme =\n    resolvedTheme === \"dark\" ? themes.vsDark : themes.github;\n\n  // hardcoded values from the themes to avoid color flash in SSR\n  const themeColorClasses =\n    \"bg-[#f6f8fa] text-[#393a34] dark:bg-[#1e1e1e] dark:text-[#9cdcfe]\";\n\n  const Wrapper = ({\n    children,\n    className,\n    style,\n  }: {\n    children: React.ReactNode;\n    className?: string;\n    style?: React.CSSProperties;\n  }) => (\n    <div className=\"relative group\">\n      {title && (\n        <div className=\"text-xs text-muted-foreground absolute top-2 font-mono border-b w-full pb-2 px-4 \">\n          {title}\n        </div>\n      )}\n      <pre\n        className={cn(\n          \"relative scrollbar overflow-x-auto\",\n          props.className,\n          props.noBackground ? \"!bg-transparent\" : themeColorClasses,\n          props.wrapLines && \"whitespace-pre-wrap break-words\",\n          title && \"pt-10\",\n          className,\n        )}\n        style={style}\n      >\n        {children}\n      </pre>\n      {props.showLanguageIndicator && (\n        <span className=\"absolute top-1.5 right-3 text-[11px] font-mono text-muted-foreground transition group-hover:opacity-0\">\n          {language}\n        </span>\n      )}\n      {showCopy !== \"never\" && (\n        <button\n          type=\"button\"\n          aria-label=\"Copy code\"\n          title=\"Copy code\"\n          className={cn(\n            \"absolute top-2 right-2 p-2  hover:outline hover:outline-border/75 dark:hover:outline-border rounded-md text-sm text-muted-foreground transition\",\n            showCopy === \"hover\"\n              ? \"opacity-0 group-hover:opacity-100 group-hover:bg-zinc-100 group-hover:dark:bg-zinc-700\"\n              : \"bg-zinc-100 dark:bg-zinc-700\",\n            showCopyText && \"flex gap-2 items-center font-medium\",\n          )}\n          disabled={isCopied}\n          onClick={() => {\n            setIsCopied(true);\n            void navigator.clipboard.writeText(code);\n            setTimeout(() => setIsCopied(false), 2000);\n          }}\n        >\n          {isCopied ? (\n            <CheckIcon\n              className=\"text-emerald-600\"\n              size={16}\n              strokeWidth={2.5}\n              absoluteStrokeWidth\n            />\n          ) : (\n            <CopyIcon size={16} />\n          )}\n          {showCopyText && \"Copy\"}\n        </button>\n      )}\n    </div>\n  );\n\n  if (disabled) {\n    return (\n      <ClientOnly fallback={<Wrapper>{code}</Wrapper>}>\n        <Wrapper>{code}</Wrapper>\n      </ClientOnly>\n    );\n  }\n\n  return (\n    <ClientOnly fallback={<Wrapper>{code}</Wrapper>}>\n      <Highlight\n        theme={highlightTheme}\n        language={remapLang[language] ?? language}\n        {...props}\n        code={code}\n      >\n        {({ className, style, tokens, getLineProps, getTokenProps }) => (\n          <Wrapper className={className} style={style}>\n            {tokens.map((line, i) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <div key={i} {...getLineProps({ line })}>\n                {line.map((token, key) => (\n                  // eslint-disable-next-line react/no-array-index-key\n                  <span key={key} {...getTokenProps({ token })} />\n                ))}\n              </div>\n            ))}\n          </Wrapper>\n        )}\n      </Highlight>\n    </ClientOnly>\n  );\n};\n\nexport const SyntaxHighlight = memo(SyntaxHighlightInner);\n\nSyntaxHighlight.displayName = \"SyntaxHighlight\";\n", "// eslint-disable-next-line @typescript-eslint/no-explicit-any\nimport { SyntaxHighlight } from \"zudoku/ui/SyntaxHighlight.js\";\nimport { DeveloperHint } from \"../components/DeveloperHint.js\";\nimport { Heading } from \"../components/Heading.js\";\nimport { ProseClasses } from \"../components/Markdown.js\";\nimport { cn } from \"../util/cn.js\";\nimport { ZudokuError } from \"../util/invariant.js\";\n\nexport function ErrorAlert({ error }: { error: unknown }) {\n  const message =\n    error instanceof Error ? error.message : \"Something went wrong\";\n\n  const hint = error instanceof ZudokuError ? error.developerHint : undefined;\n  const title =\n    error instanceof ZudokuError ? error.title : \"Something went wrong\";\n  const stack = error instanceof Error ? error.stack : undefined;\n  const cause = error instanceof Error ? error.cause : undefined;\n\n  const stringError = cause instanceof Error ? String(cause.stack) : stack;\n\n  return (\n    <div\n      className={cn(\n        ProseClasses,\n        \"grid grid-cols-1 !max-w-none pt-[--padding-content-top]\",\n      )}\n    >\n      <Heading level={1}>{title}</Heading>\n      Error: {message}\n      {hint && <DeveloperHint className=\"mb-4\">{hint}</DeveloperHint>}\n      {stringError && (\n        <div>\n          <SyntaxHighlight\n            className=\"max-h-[400px] border mt-2\"\n            language=\"jsstacktrace\"\n            code={stringError}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n", "import { isRouteErrorResponse, useRouteError } from \"react-router\";\nimport { NotFoundPage } from \"../components/NotFoundPage.js\";\nimport { ErrorAlert } from \"./ErrorAlert.js\";\n\nexport function RouterError() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error) && error.status === 404) {\n    return <NotFoundPage />;\n  }\n\n  return <ErrorAlert error={error} />;\n}\n", "/**\n * @license React\n * react-is.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\nSymbol.for(\"react.provider\");\nvar REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_VIEW_TRANSITION_TYPE = Symbol.for(\"react.view_transition\"),\n  REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction typeOf(object) {\n  if (\"object\" === typeof object && null !== object) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        switch (((object = object.type), object)) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n          case REACT_VIEW_TRANSITION_TYPE:\n            return object;\n          default:\n            switch (((object = object && object.$$typeof), object)) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return object;\n              case REACT_CONSUMER_TYPE:\n                return object;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n}\nexports.ContextConsumer = REACT_CONSUMER_TYPE;\nexports.ContextProvider = REACT_CONTEXT_TYPE;\nexports.Element = REACT_ELEMENT_TYPE;\nexports.ForwardRef = REACT_FORWARD_REF_TYPE;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Lazy = REACT_LAZY_TYPE;\nexports.Memo = REACT_MEMO_TYPE;\nexports.Portal = REACT_PORTAL_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nexports.isContextConsumer = function (object) {\n  return typeOf(object) === REACT_CONSUMER_TYPE;\n};\nexports.isContextProvider = function (object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n};\nexports.isElement = function (object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n};\nexports.isForwardRef = function (object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n};\nexports.isFragment = function (object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n};\nexports.isLazy = function (object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n};\nexports.isMemo = function (object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n};\nexports.isPortal = function (object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n};\nexports.isProfiler = function (object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n};\nexports.isStrictMode = function (object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n};\nexports.isSuspense = function (object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n};\nexports.isSuspenseList = function (object) {\n  return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;\n};\nexports.isValidElementType = function (type) {\n  return \"string\" === typeof type ||\n    \"function\" === typeof type ||\n    type === REACT_FRAGMENT_TYPE ||\n    type === REACT_PROFILER_TYPE ||\n    type === REACT_STRICT_MODE_TYPE ||\n    type === REACT_SUSPENSE_TYPE ||\n    type === REACT_SUSPENSE_LIST_TYPE ||\n    (\"object\" === typeof type &&\n      null !== type &&\n      (type.$$typeof === REACT_LAZY_TYPE ||\n        type.$$typeof === REACT_MEMO_TYPE ||\n        type.$$typeof === REACT_CONTEXT_TYPE ||\n        type.$$typeof === REACT_CONSUMER_TYPE ||\n        type.$$typeof === REACT_FORWARD_REF_TYPE ||\n        type.$$typeof === REACT_CLIENT_REFERENCE ||\n        void 0 !== type.getModuleId))\n    ? !0\n    : !1;\n};\nexports.typeOf = typeOf;\n", "/**\n * @license React\n * react-is.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function typeOf(object) {\n      if (\"object\" === typeof object && null !== object) {\n        var $$typeof = object.$$typeof;\n        switch ($$typeof) {\n          case REACT_ELEMENT_TYPE:\n            switch (((object = object.type), object)) {\n              case REACT_FRAGMENT_TYPE:\n              case REACT_PROFILER_TYPE:\n              case REACT_STRICT_MODE_TYPE:\n              case REACT_SUSPENSE_TYPE:\n              case REACT_SUSPENSE_LIST_TYPE:\n              case REACT_VIEW_TRANSITION_TYPE:\n                return object;\n              default:\n                switch (((object = object && object.$$typeof), object)) {\n                  case REACT_CONTEXT_TYPE:\n                  case REACT_FORWARD_REF_TYPE:\n                  case REACT_LAZY_TYPE:\n                  case REACT_MEMO_TYPE:\n                    return object;\n                  case REACT_CONSUMER_TYPE:\n                    return object;\n                  default:\n                    return $$typeof;\n                }\n            }\n          case REACT_PORTAL_TYPE:\n            return $$typeof;\n        }\n      }\n    }\n    var REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    Symbol.for(\"react.provider\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_VIEW_TRANSITION_TYPE = Symbol.for(\"react.view_transition\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\n    exports.ContextConsumer = REACT_CONSUMER_TYPE;\n    exports.ContextProvider = REACT_CONTEXT_TYPE;\n    exports.Element = REACT_ELEMENT_TYPE;\n    exports.ForwardRef = REACT_FORWARD_REF_TYPE;\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.Lazy = REACT_LAZY_TYPE;\n    exports.Memo = REACT_MEMO_TYPE;\n    exports.Portal = REACT_PORTAL_TYPE;\n    exports.Profiler = REACT_PROFILER_TYPE;\n    exports.StrictMode = REACT_STRICT_MODE_TYPE;\n    exports.Suspense = REACT_SUSPENSE_TYPE;\n    exports.SuspenseList = REACT_SUSPENSE_LIST_TYPE;\n    exports.isContextConsumer = function (object) {\n      return typeOf(object) === REACT_CONSUMER_TYPE;\n    };\n    exports.isContextProvider = function (object) {\n      return typeOf(object) === REACT_CONTEXT_TYPE;\n    };\n    exports.isElement = function (object) {\n      return (\n        \"object\" === typeof object &&\n        null !== object &&\n        object.$$typeof === REACT_ELEMENT_TYPE\n      );\n    };\n    exports.isForwardRef = function (object) {\n      return typeOf(object) === REACT_FORWARD_REF_TYPE;\n    };\n    exports.isFragment = function (object) {\n      return typeOf(object) === REACT_FRAGMENT_TYPE;\n    };\n    exports.isLazy = function (object) {\n      return typeOf(object) === REACT_LAZY_TYPE;\n    };\n    exports.isMemo = function (object) {\n      return typeOf(object) === REACT_MEMO_TYPE;\n    };\n    exports.isPortal = function (object) {\n      return typeOf(object) === REACT_PORTAL_TYPE;\n    };\n    exports.isProfiler = function (object) {\n      return typeOf(object) === REACT_PROFILER_TYPE;\n    };\n    exports.isStrictMode = function (object) {\n      return typeOf(object) === REACT_STRICT_MODE_TYPE;\n    };\n    exports.isSuspense = function (object) {\n      return typeOf(object) === REACT_SUSPENSE_TYPE;\n    };\n    exports.isSuspenseList = function (object) {\n      return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;\n    };\n    exports.isValidElementType = function (type) {\n      return \"string\" === typeof type ||\n        \"function\" === typeof type ||\n        type === REACT_FRAGMENT_TYPE ||\n        type === REACT_PROFILER_TYPE ||\n        type === REACT_STRICT_MODE_TYPE ||\n        type === REACT_SUSPENSE_TYPE ||\n        type === REACT_SUSPENSE_LIST_TYPE ||\n        (\"object\" === typeof type &&\n          null !== type &&\n          (type.$$typeof === REACT_LAZY_TYPE ||\n            type.$$typeof === REACT_MEMO_TYPE ||\n            type.$$typeof === REACT_CONTEXT_TYPE ||\n            type.$$typeof === REACT_CONSUMER_TYPE ||\n            type.$$typeof === REACT_FORWARD_REF_TYPE ||\n            type.$$typeof === REACT_CLIENT_REFERENCE ||\n            void 0 !== type.getModuleId))\n        ? !0\n        : !1;\n    };\n    exports.typeOf = typeOf;\n  })();\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n", "import React, {\n  type ComponentType,\n  type ReactElement,\n  ReactNode,\n  useContext,\n} from \"react\";\nimport { isValidElementType } from \"react-is\";\nimport {\n  type Location,\n  type NavigateFunction,\n  type Params,\n  type SetURLSearchParams,\n} from \"react-router\";\nimport { useExposedProps } from \"../util/useExposedProps.js\";\n\nexport type Slotlets = Record<\n  string,\n  ReactNode | ReactElement | ComponentType<ExposedComponentProps>\n>;\n\nconst SlotletContext = React.createContext<Slotlets | undefined>({});\n\nexport const SlotletProvider = ({\n  slotlets,\n  children,\n}: {\n  children: ReactNode;\n  slotlets?: Slotlets;\n}) => {\n  return (\n    <SlotletContext.Provider value={slotlets}>\n      {children}\n    </SlotletContext.Provider>\n  );\n};\n\nexport type ExposedComponentProps = {\n  location: Location;\n  navigate: NavigateFunction;\n  searchParams: URLSearchParams;\n  setSearchParams: SetURLSearchParams;\n  params: Params;\n};\n\nexport const Slotlet = ({ name }: { name: string }) => {\n  const context = useContext(SlotletContext);\n  const componentOrElement = context?.[name];\n  const slotletProps = useExposedProps();\n\n  if (isValidElementType(componentOrElement)) {\n    return React.createElement(componentOrElement, slotletProps);\n  }\n\n  return componentOrElement as ReactNode;\n};\n", "import type { LucideIcon } from \"lucide-react\";\nimport type { ReactElement } from \"react\";\nimport type { Location, RouteObject } from \"react-router\";\nimport type { Sidebar } from \"../../config/validators/SidebarSchema.js\";\nimport type { MdxComponentsType } from \"../util/MdxComponents.js\";\nimport type {\n  ApiIdentity,\n  ZudokuContext,\n  ZudokuEvents,\n} from \"./ZudokuContext.js\";\n\nexport type ZudokuPlugin =\n  | CommonPlugin\n  | ProfileMenuPlugin\n  | NavigationPlugin\n  | ApiIdentityPlugin\n  | SearchProviderPlugin\n  | EventConsumerPlugin;\n\nexport type { RouteObject };\n\nexport interface NavigationPlugin {\n  getRoutes: () => RouteObject[];\n  getSidebar?: (path: string, context: ZudokuContext) => Promise<Sidebar>;\n}\n\nexport const createApiIdentityPlugin = (\n  plugin: ApiIdentityPlugin,\n): ApiIdentityPlugin => plugin;\n\nexport const createProfileMenuPlugin = (\n  plugin: ProfileMenuPlugin,\n): ProfileMenuPlugin => plugin;\n\nexport interface ApiIdentityPlugin {\n  getIdentities: (context: ZudokuContext) => Promise<ApiIdentity[]>;\n}\n\nexport interface SearchProviderPlugin {\n  renderSearch: (o: {\n    isOpen: boolean;\n    onClose: () => void;\n  }) => React.JSX.Element | null;\n}\n\nexport interface ProfileMenuPlugin {\n  getProfileMenuItems: (context: ZudokuContext) => ProfileNavigationItem[];\n}\n\nexport type ProfileNavigationItem = {\n  label: string;\n  path?: string;\n  weight?: number;\n  category?: \"top\" | \"middle\" | \"bottom\";\n  children?: ProfileNavigationItem[];\n  icon?: LucideIcon;\n};\n\nexport interface CommonPlugin {\n  initialize?: (\n    context: ZudokuContext,\n  ) => Promise<void | boolean> | void | boolean;\n  getHead?: ({ location }: { location: Location }) => ReactElement | undefined;\n  getMdxComponents?: () => MdxComponentsType;\n}\n\nexport type EventConsumerPlugin<Event extends ZudokuEvents = ZudokuEvents> = {\n  events: { [K in keyof Event]?: Event[K] };\n};\n\nexport const isEventConsumerPlugin = (\n  obj: ZudokuPlugin,\n): obj is EventConsumerPlugin =>\n  \"events\" in obj && typeof obj.events === \"object\";\n\nexport const isProfileMenuPlugin = (\n  obj: ZudokuPlugin,\n): obj is ProfileMenuPlugin =>\n  \"getProfileMenuItems\" in obj && typeof obj.getProfileMenuItems === \"function\";\n\nexport const isNavigationPlugin = (\n  obj: ZudokuPlugin,\n): obj is NavigationPlugin =>\n  \"getRoutes\" in obj && typeof obj.getRoutes === \"function\";\n\nexport const isSearchPlugin = (\n  obj: ZudokuPlugin,\n): obj is SearchProviderPlugin =>\n  \"renderSearch\" in obj && typeof obj.renderSearch === \"function\";\n\nexport const needsInitialization = (obj: ZudokuPlugin): obj is CommonPlugin =>\n  \"initialize\" in obj && typeof obj.initialize === \"function\";\n\nexport const hasHead = (obj: ZudokuPlugin): obj is CommonPlugin =>\n  \"getHead\" in obj && typeof obj.getHead === \"function\";\n\nexport const isMdxProviderPlugin = (obj: ZudokuPlugin): obj is CommonPlugin =>\n  \"getMdxComponents\" in obj && typeof obj.getMdxComponents === \"function\";\n\nexport const isApiIdentityPlugin = (\n  obj: ZudokuPlugin,\n): obj is ApiIdentityPlugin =>\n  \"getIdentities\" in obj && typeof obj.getIdentities === \"function\";\n", "import * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\n\nimport { CheckIcon, ChevronRightIcon, DotIcon } from \"lucide-react\";\nimport * as React from \"react\";\nimport { cn } from \"../util/cn.js\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <DotIcon className=\"h-4 w-4 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  );\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n};\n", "'use client';\nfunction __insertCSS(code) {\n  if (!code || typeof document == 'undefined') return\n  let head = document.head || document.getElementsByTagName('head')[0]\n  let style = document.createElement('style')\n  style.type = 'text/css'\n  head.appendChild(style)\n  ;style.styleSheet ? (style.styleSheet.cssText = code) : style.appendChild(document.createTextNode(code))\n}\n\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\nimport * as React from 'react';\nimport React__default, { useLayoutEffect, useEffect, useMemo } from 'react';\n\nconst DrawerContext = React__default.createContext({\n    drawerRef: {\n        current: null\n    },\n    overlayRef: {\n        current: null\n    },\n    onPress: ()=>{},\n    onRelease: ()=>{},\n    onDrag: ()=>{},\n    onNestedDrag: ()=>{},\n    onNestedOpenChange: ()=>{},\n    onNestedRelease: ()=>{},\n    openProp: undefined,\n    dismissible: false,\n    isOpen: false,\n    isDragging: false,\n    keyboardIsOpen: {\n        current: false\n    },\n    snapPointsOffset: null,\n    snapPoints: null,\n    handleOnly: false,\n    modal: false,\n    shouldFade: false,\n    activeSnapPoint: null,\n    onOpenChange: ()=>{},\n    setActiveSnapPoint: ()=>{},\n    closeDrawer: ()=>{},\n    direction: 'bottom',\n    shouldAnimate: {\n        current: true\n    },\n    shouldScaleBackground: false,\n    setBackgroundColorOnScale: true,\n    noBodyStyles: false,\n    container: null,\n    autoFocus: false\n});\nconst useDrawerContext = ()=>{\n    const context = React__default.useContext(DrawerContext);\n    if (!context) {\n        throw new Error('useDrawerContext must be used within a Drawer.Root');\n    }\n    return context;\n};\n\n__insertCSS(\"[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\\n[data-state=closed]\\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}\");\n\nfunction isMobileFirefox() {\n    const userAgent = navigator.userAgent;\n    return typeof window !== 'undefined' && (/Firefox/.test(userAgent) && /Mobile/.test(userAgent) || // Android Firefox\n    /FxiOS/.test(userAgent) // iOS Firefox\n    );\n}\nfunction isMac() {\n    return testPlatform(/^Mac/);\n}\nfunction isIPhone() {\n    return testPlatform(/^iPhone/);\n}\nfunction isSafari() {\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n}\nfunction isIPad() {\n    return testPlatform(/^iPad/) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    isMac() && navigator.maxTouchPoints > 1;\n}\nfunction isIOS() {\n    return isIPhone() || isIPad();\n}\nfunction testPlatform(re) {\n    return typeof window !== 'undefined' && window.navigator != null ? re.test(window.navigator.platform) : undefined;\n}\n\n// This code comes from https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/overlays/src/usePreventScroll.ts\nconst KEYBOARD_BUFFER = 24;\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nfunction chain$1(...callbacks) {\n    return (...args)=>{\n        for (let callback of callbacks){\n            if (typeof callback === 'function') {\n                callback(...args);\n            }\n        }\n    };\n}\n// @ts-ignore\nconst visualViewport = typeof document !== 'undefined' && window.visualViewport;\nfunction isScrollable(node) {\n    let style = window.getComputedStyle(node);\n    return /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n}\nfunction getScrollParent(node) {\n    if (isScrollable(node)) {\n        node = node.parentElement;\n    }\n    while(node && !isScrollable(node)){\n        node = node.parentElement;\n    }\n    return node || document.scrollingElement || document.documentElement;\n}\n// HTML input types that do not cause the software keyboard to appear.\nconst nonTextInputTypes = new Set([\n    'checkbox',\n    'radio',\n    'range',\n    'color',\n    'file',\n    'image',\n    'button',\n    'submit',\n    'reset'\n]);\n// The number of active usePreventScroll calls. Used to determine whether to revert back to the original page style/scroll position\nlet preventScrollCount = 0;\nlet restore;\n/**\n * Prevents scrolling on the document body on mount, and\n * restores it on unmount. Also ensures that content does not\n * shift due to the scrollbars disappearing.\n */ function usePreventScroll(options = {}) {\n    let { isDisabled } = options;\n    useIsomorphicLayoutEffect(()=>{\n        if (isDisabled) {\n            return;\n        }\n        preventScrollCount++;\n        if (preventScrollCount === 1) {\n            if (isIOS()) {\n                restore = preventScrollMobileSafari();\n            }\n        }\n        return ()=>{\n            preventScrollCount--;\n            if (preventScrollCount === 0) {\n                restore == null ? void 0 : restore();\n            }\n        };\n    }, [\n        isDisabled\n    ]);\n}\n// Mobile Safari is a whole different beast. Even with overflow: hidden,\n// it still scrolls the page in many situations:\n//\n// 1. When the bottom toolbar and address bar are collapsed, page scrolling is always allowed.\n// 2. When the keyboard is visible, the viewport does not resize. Instead, the keyboard covers part of\n//    it, so it becomes scrollable.\n// 3. When tapping on an input, the page always scrolls so that the input is centered in the visual viewport.\n//    This may cause even fixed position elements to scroll off the screen.\n// 4. When using the next/previous buttons in the keyboard to navigate between inputs, the whole page always\n//    scrolls, even if the input is inside a nested scrollable element that could be scrolled instead.\n//\n// In order to work around these cases, and prevent scrolling without jankiness, we do a few things:\n//\n// 1. Prevent default on `touchmove` events that are not in a scrollable element. This prevents touch scrolling\n//    on the window.\n// 2. Prevent default on `touchmove` events inside a scrollable element when the scroll position is at the\n//    top or bottom. This avoids the whole page scrolling instead, but does prevent overscrolling.\n// 3. Prevent default on `touchend` events on input elements and handle focusing the element ourselves.\n// 4. When focusing an input, apply a transform to trick Safari into thinking the input is at the top\n//    of the page, which prevents it from scrolling the page. After the input is focused, scroll the element\n//    into view ourselves, without scrolling the whole page.\n// 5. Offset the body by the scroll position using a negative margin and scroll to the top. This should appear the\n//    same visually, but makes the actual scroll position always zero. This is required to make all of the\n//    above work or Safari will still try to scroll the page when focusing an input.\n// 6. As a last resort, handle window scroll events, and scroll back to the top. This can happen when attempting\n//    to navigate to an input with the next/previous buttons that's outside a modal.\nfunction preventScrollMobileSafari() {\n    let scrollable;\n    let lastY = 0;\n    let onTouchStart = (e)=>{\n        // Store the nearest scrollable parent element from the element that the user touched.\n        scrollable = getScrollParent(e.target);\n        if (scrollable === document.documentElement && scrollable === document.body) {\n            return;\n        }\n        lastY = e.changedTouches[0].pageY;\n    };\n    let onTouchMove = (e)=>{\n        // Prevent scrolling the window.\n        if (!scrollable || scrollable === document.documentElement || scrollable === document.body) {\n            e.preventDefault();\n            return;\n        }\n        // Prevent scrolling up when at the top and scrolling down when at the bottom\n        // of a nested scrollable area, otherwise mobile Safari will start scrolling\n        // the window instead. Unfortunately, this disables bounce scrolling when at\n        // the top but it's the best we can do.\n        let y = e.changedTouches[0].pageY;\n        let scrollTop = scrollable.scrollTop;\n        let bottom = scrollable.scrollHeight - scrollable.clientHeight;\n        if (bottom === 0) {\n            return;\n        }\n        if (scrollTop <= 0 && y > lastY || scrollTop >= bottom && y < lastY) {\n            e.preventDefault();\n        }\n        lastY = y;\n    };\n    let onTouchEnd = (e)=>{\n        let target = e.target;\n        // Apply this change if we're not already focused on the target element\n        if (isInput(target) && target !== document.activeElement) {\n            e.preventDefault();\n            // Apply a transform to trick Safari into thinking the input is at the top of the page\n            // so it doesn't try to scroll it into view. When tapping on an input, this needs to\n            // be done before the \"focus\" event, so we have to focus the element ourselves.\n            target.style.transform = 'translateY(-2000px)';\n            target.focus();\n            requestAnimationFrame(()=>{\n                target.style.transform = '';\n            });\n        }\n    };\n    let onFocus = (e)=>{\n        let target = e.target;\n        if (isInput(target)) {\n            // Transform also needs to be applied in the focus event in cases where focus moves\n            // other than tapping on an input directly, e.g. the next/previous buttons in the\n            // software keyboard. In these cases, it seems applying the transform in the focus event\n            // is good enough, whereas when tapping an input, it must be done before the focus event. 🤷‍♂️\n            target.style.transform = 'translateY(-2000px)';\n            requestAnimationFrame(()=>{\n                target.style.transform = '';\n                // This will have prevented the browser from scrolling the focused element into view,\n                // so we need to do this ourselves in a way that doesn't cause the whole page to scroll.\n                if (visualViewport) {\n                    if (visualViewport.height < window.innerHeight) {\n                        // If the keyboard is already visible, do this after one additional frame\n                        // to wait for the transform to be removed.\n                        requestAnimationFrame(()=>{\n                            scrollIntoView(target);\n                        });\n                    } else {\n                        // Otherwise, wait for the visual viewport to resize before scrolling so we can\n                        // measure the correct position to scroll to.\n                        visualViewport.addEventListener('resize', ()=>scrollIntoView(target), {\n                            once: true\n                        });\n                    }\n                }\n            });\n        }\n    };\n    let onWindowScroll = ()=>{\n        // Last resort. If the window scrolled, scroll it back to the top.\n        // It should always be at the top because the body will have a negative margin (see below).\n        window.scrollTo(0, 0);\n    };\n    // Record the original scroll position so we can restore it.\n    // Then apply a negative margin to the body to offset it by the scroll position. This will\n    // enable us to scroll the window to the top, which is required for the rest of this to work.\n    let scrollX = window.pageXOffset;\n    let scrollY = window.pageYOffset;\n    let restoreStyles = chain$1(setStyle(document.documentElement, 'paddingRight', `${window.innerWidth - document.documentElement.clientWidth}px`));\n    // Scroll to the top. The negative margin on the body will make this appear the same.\n    window.scrollTo(0, 0);\n    let removeEvents = chain$1(addEvent(document, 'touchstart', onTouchStart, {\n        passive: false,\n        capture: true\n    }), addEvent(document, 'touchmove', onTouchMove, {\n        passive: false,\n        capture: true\n    }), addEvent(document, 'touchend', onTouchEnd, {\n        passive: false,\n        capture: true\n    }), addEvent(document, 'focus', onFocus, true), addEvent(window, 'scroll', onWindowScroll));\n    return ()=>{\n        // Restore styles and scroll the page back to where it was.\n        restoreStyles();\n        removeEvents();\n        window.scrollTo(scrollX, scrollY);\n    };\n}\n// Sets a CSS property on an element, and returns a function to revert it to the previous value.\nfunction setStyle(element, style, value) {\n    // https://github.com/microsoft/TypeScript/issues/17827#issuecomment-391663310\n    // @ts-ignore\n    let cur = element.style[style];\n    // @ts-ignore\n    element.style[style] = value;\n    return ()=>{\n        // @ts-ignore\n        element.style[style] = cur;\n    };\n}\n// Adds an event listener to an element, and returns a function to remove it.\nfunction addEvent(target, event, handler, options) {\n    // @ts-ignore\n    target.addEventListener(event, handler, options);\n    return ()=>{\n        // @ts-ignore\n        target.removeEventListener(event, handler, options);\n    };\n}\nfunction scrollIntoView(target) {\n    let root = document.scrollingElement || document.documentElement;\n    while(target && target !== root){\n        // Find the parent scrollable element and adjust the scroll position if the target is not already in view.\n        let scrollable = getScrollParent(target);\n        if (scrollable !== document.documentElement && scrollable !== document.body && scrollable !== target) {\n            let scrollableTop = scrollable.getBoundingClientRect().top;\n            let targetTop = target.getBoundingClientRect().top;\n            let targetBottom = target.getBoundingClientRect().bottom;\n            // Buffer is needed for some edge cases\n            const keyboardHeight = scrollable.getBoundingClientRect().bottom + KEYBOARD_BUFFER;\n            if (targetBottom > keyboardHeight) {\n                scrollable.scrollTop += targetTop - scrollableTop;\n            }\n        }\n        // @ts-ignore\n        target = scrollable.parentElement;\n    }\n}\nfunction isInput(target) {\n    return target instanceof HTMLInputElement && !nonTextInputTypes.has(target.type) || target instanceof HTMLTextAreaElement || target instanceof HTMLElement && target.isContentEditable;\n}\n\n// This code comes from https://github.com/radix-ui/primitives/tree/main/packages/react/compose-refs\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */ function setRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    } else if (ref !== null && ref !== undefined) {\n        ref.current = value;\n    }\n}\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */ function composeRefs(...refs) {\n    return (node)=>refs.forEach((ref)=>setRef(ref, node));\n}\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */ function useComposedRefs(...refs) {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return React.useCallback(composeRefs(...refs), refs);\n}\n\nconst cache = new WeakMap();\nfunction set(el, styles, ignoreCache = false) {\n    if (!el || !(el instanceof HTMLElement)) return;\n    let originalStyles = {};\n    Object.entries(styles).forEach(([key, value])=>{\n        if (key.startsWith('--')) {\n            el.style.setProperty(key, value);\n            return;\n        }\n        originalStyles[key] = el.style[key];\n        el.style[key] = value;\n    });\n    if (ignoreCache) return;\n    cache.set(el, originalStyles);\n}\nfunction reset(el, prop) {\n    if (!el || !(el instanceof HTMLElement)) return;\n    let originalStyles = cache.get(el);\n    if (!originalStyles) {\n        return;\n    }\n    {\n        el.style[prop] = originalStyles[prop];\n    }\n}\nconst isVertical = (direction)=>{\n    switch(direction){\n        case 'top':\n        case 'bottom':\n            return true;\n        case 'left':\n        case 'right':\n            return false;\n        default:\n            return direction;\n    }\n};\nfunction getTranslate(element, direction) {\n    if (!element) {\n        return null;\n    }\n    const style = window.getComputedStyle(element);\n    const transform = // @ts-ignore\n    style.transform || style.webkitTransform || style.mozTransform;\n    let mat = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (mat) {\n        // https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d\n        return parseFloat(mat[1].split(', ')[isVertical(direction) ? 13 : 12]);\n    }\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix\n    mat = transform.match(/^matrix\\((.+)\\)$/);\n    return mat ? parseFloat(mat[1].split(', ')[isVertical(direction) ? 5 : 4]) : null;\n}\nfunction dampenValue(v) {\n    return 8 * (Math.log(v + 1) - 2);\n}\nfunction assignStyle(element, style) {\n    if (!element) return ()=>{};\n    const prevStyle = element.style.cssText;\n    Object.assign(element.style, style);\n    return ()=>{\n        element.style.cssText = prevStyle;\n    };\n}\n/**\n * Receives functions as arguments and returns a new function that calls all.\n */ function chain(...fns) {\n    return (...args)=>{\n        for (const fn of fns){\n            if (typeof fn === 'function') {\n                // @ts-ignore\n                fn(...args);\n            }\n        }\n    };\n}\n\nconst TRANSITIONS = {\n    DURATION: 0.5,\n    EASE: [\n        0.32,\n        0.72,\n        0,\n        1\n    ]\n};\nconst VELOCITY_THRESHOLD = 0.4;\nconst CLOSE_THRESHOLD = 0.25;\nconst SCROLL_LOCK_TIMEOUT = 100;\nconst BORDER_RADIUS = 8;\nconst NESTED_DISPLACEMENT = 16;\nconst WINDOW_TOP_OFFSET = 26;\nconst DRAG_CLASS = 'vaul-dragging';\n\n// This code comes from https://github.com/radix-ui/primitives/blob/main/packages/react/use-controllable-state/src/useControllableState.tsx\nfunction useCallbackRef(callback) {\n    const callbackRef = React__default.useRef(callback);\n    React__default.useEffect(()=>{\n        callbackRef.current = callback;\n    });\n    // https://github.com/facebook/react/issues/19240\n    return React__default.useMemo(()=>(...args)=>callbackRef.current == null ? void 0 : callbackRef.current.call(callbackRef, ...args), []);\n}\nfunction useUncontrolledState({ defaultProp, onChange }) {\n    const uncontrolledState = React__default.useState(defaultProp);\n    const [value] = uncontrolledState;\n    const prevValueRef = React__default.useRef(value);\n    const handleChange = useCallbackRef(onChange);\n    React__default.useEffect(()=>{\n        if (prevValueRef.current !== value) {\n            handleChange(value);\n            prevValueRef.current = value;\n        }\n    }, [\n        value,\n        prevValueRef,\n        handleChange\n    ]);\n    return uncontrolledState;\n}\nfunction useControllableState({ prop, defaultProp, onChange = ()=>{} }) {\n    const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({\n        defaultProp,\n        onChange\n    });\n    const isControlled = prop !== undefined;\n    const value = isControlled ? prop : uncontrolledProp;\n    const handleChange = useCallbackRef(onChange);\n    const setValue = React__default.useCallback((nextValue)=>{\n        if (isControlled) {\n            const setter = nextValue;\n            const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n            if (value !== prop) handleChange(value);\n        } else {\n            setUncontrolledProp(nextValue);\n        }\n    }, [\n        isControlled,\n        prop,\n        setUncontrolledProp,\n        handleChange\n    ]);\n    return [\n        value,\n        setValue\n    ];\n}\n\nfunction useSnapPoints({ activeSnapPointProp, setActiveSnapPointProp, snapPoints, drawerRef, overlayRef, fadeFromIndex, onSnapPointChange, direction = 'bottom', container, snapToSequentialPoint }) {\n    const [activeSnapPoint, setActiveSnapPoint] = useControllableState({\n        prop: activeSnapPointProp,\n        defaultProp: snapPoints == null ? void 0 : snapPoints[0],\n        onChange: setActiveSnapPointProp\n    });\n    const [windowDimensions, setWindowDimensions] = React__default.useState(typeof window !== 'undefined' ? {\n        innerWidth: window.innerWidth,\n        innerHeight: window.innerHeight\n    } : undefined);\n    React__default.useEffect(()=>{\n        function onResize() {\n            setWindowDimensions({\n                innerWidth: window.innerWidth,\n                innerHeight: window.innerHeight\n            });\n        }\n        window.addEventListener('resize', onResize);\n        return ()=>window.removeEventListener('resize', onResize);\n    }, []);\n    const isLastSnapPoint = React__default.useMemo(()=>activeSnapPoint === (snapPoints == null ? void 0 : snapPoints[snapPoints.length - 1]) || null, [\n        snapPoints,\n        activeSnapPoint\n    ]);\n    const activeSnapPointIndex = React__default.useMemo(()=>{\n        var _snapPoints_findIndex;\n        return (_snapPoints_findIndex = snapPoints == null ? void 0 : snapPoints.findIndex((snapPoint)=>snapPoint === activeSnapPoint)) != null ? _snapPoints_findIndex : null;\n    }, [\n        snapPoints,\n        activeSnapPoint\n    ]);\n    const shouldFade = snapPoints && snapPoints.length > 0 && (fadeFromIndex || fadeFromIndex === 0) && !Number.isNaN(fadeFromIndex) && snapPoints[fadeFromIndex] === activeSnapPoint || !snapPoints;\n    const snapPointsOffset = React__default.useMemo(()=>{\n        const containerSize = container ? {\n            width: container.getBoundingClientRect().width,\n            height: container.getBoundingClientRect().height\n        } : typeof window !== 'undefined' ? {\n            width: window.innerWidth,\n            height: window.innerHeight\n        } : {\n            width: 0,\n            height: 0\n        };\n        var _snapPoints_map;\n        return (_snapPoints_map = snapPoints == null ? void 0 : snapPoints.map((snapPoint)=>{\n            const isPx = typeof snapPoint === 'string';\n            let snapPointAsNumber = 0;\n            if (isPx) {\n                snapPointAsNumber = parseInt(snapPoint, 10);\n            }\n            if (isVertical(direction)) {\n                const height = isPx ? snapPointAsNumber : windowDimensions ? snapPoint * containerSize.height : 0;\n                if (windowDimensions) {\n                    return direction === 'bottom' ? containerSize.height - height : -containerSize.height + height;\n                }\n                return height;\n            }\n            const width = isPx ? snapPointAsNumber : windowDimensions ? snapPoint * containerSize.width : 0;\n            if (windowDimensions) {\n                return direction === 'right' ? containerSize.width - width : -containerSize.width + width;\n            }\n            return width;\n        })) != null ? _snapPoints_map : [];\n    }, [\n        snapPoints,\n        windowDimensions,\n        container\n    ]);\n    const activeSnapPointOffset = React__default.useMemo(()=>activeSnapPointIndex !== null ? snapPointsOffset == null ? void 0 : snapPointsOffset[activeSnapPointIndex] : null, [\n        snapPointsOffset,\n        activeSnapPointIndex\n    ]);\n    const snapToPoint = React__default.useCallback((dimension)=>{\n        var _snapPointsOffset_findIndex;\n        const newSnapPointIndex = (_snapPointsOffset_findIndex = snapPointsOffset == null ? void 0 : snapPointsOffset.findIndex((snapPointDim)=>snapPointDim === dimension)) != null ? _snapPointsOffset_findIndex : null;\n        onSnapPointChange(newSnapPointIndex);\n        set(drawerRef.current, {\n            transition: `transform ${TRANSITIONS.DURATION}s cubic-bezier(${TRANSITIONS.EASE.join(',')})`,\n            transform: isVertical(direction) ? `translate3d(0, ${dimension}px, 0)` : `translate3d(${dimension}px, 0, 0)`\n        });\n        if (snapPointsOffset && newSnapPointIndex !== snapPointsOffset.length - 1 && fadeFromIndex !== undefined && newSnapPointIndex !== fadeFromIndex && newSnapPointIndex < fadeFromIndex) {\n            set(overlayRef.current, {\n                transition: `opacity ${TRANSITIONS.DURATION}s cubic-bezier(${TRANSITIONS.EASE.join(',')})`,\n                opacity: '0'\n            });\n        } else {\n            set(overlayRef.current, {\n                transition: `opacity ${TRANSITIONS.DURATION}s cubic-bezier(${TRANSITIONS.EASE.join(',')})`,\n                opacity: '1'\n            });\n        }\n        setActiveSnapPoint(snapPoints == null ? void 0 : snapPoints[Math.max(newSnapPointIndex, 0)]);\n    }, [\n        drawerRef.current,\n        snapPoints,\n        snapPointsOffset,\n        fadeFromIndex,\n        overlayRef,\n        setActiveSnapPoint\n    ]);\n    React__default.useEffect(()=>{\n        if (activeSnapPoint || activeSnapPointProp) {\n            var _snapPoints_findIndex;\n            const newIndex = (_snapPoints_findIndex = snapPoints == null ? void 0 : snapPoints.findIndex((snapPoint)=>snapPoint === activeSnapPointProp || snapPoint === activeSnapPoint)) != null ? _snapPoints_findIndex : -1;\n            if (snapPointsOffset && newIndex !== -1 && typeof snapPointsOffset[newIndex] === 'number') {\n                snapToPoint(snapPointsOffset[newIndex]);\n            }\n        }\n    }, [\n        activeSnapPoint,\n        activeSnapPointProp,\n        snapPoints,\n        snapPointsOffset,\n        snapToPoint\n    ]);\n    function onRelease({ draggedDistance, closeDrawer, velocity, dismissible }) {\n        if (fadeFromIndex === undefined) return;\n        const currentPosition = direction === 'bottom' || direction === 'right' ? (activeSnapPointOffset != null ? activeSnapPointOffset : 0) - draggedDistance : (activeSnapPointOffset != null ? activeSnapPointOffset : 0) + draggedDistance;\n        const isOverlaySnapPoint = activeSnapPointIndex === fadeFromIndex - 1;\n        const isFirst = activeSnapPointIndex === 0;\n        const hasDraggedUp = draggedDistance > 0;\n        if (isOverlaySnapPoint) {\n            set(overlayRef.current, {\n                transition: `opacity ${TRANSITIONS.DURATION}s cubic-bezier(${TRANSITIONS.EASE.join(',')})`\n            });\n        }\n        if (!snapToSequentialPoint && velocity > 2 && !hasDraggedUp) {\n            if (dismissible) closeDrawer();\n            else snapToPoint(snapPointsOffset[0]); // snap to initial point\n            return;\n        }\n        if (!snapToSequentialPoint && velocity > 2 && hasDraggedUp && snapPointsOffset && snapPoints) {\n            snapToPoint(snapPointsOffset[snapPoints.length - 1]);\n            return;\n        }\n        // Find the closest snap point to the current position\n        const closestSnapPoint = snapPointsOffset == null ? void 0 : snapPointsOffset.reduce((prev, curr)=>{\n            if (typeof prev !== 'number' || typeof curr !== 'number') return prev;\n            return Math.abs(curr - currentPosition) < Math.abs(prev - currentPosition) ? curr : prev;\n        });\n        const dim = isVertical(direction) ? window.innerHeight : window.innerWidth;\n        if (velocity > VELOCITY_THRESHOLD && Math.abs(draggedDistance) < dim * 0.4) {\n            const dragDirection = hasDraggedUp ? 1 : -1; // 1 = up, -1 = down\n            // Don't do anything if we swipe upwards while being on the last snap point\n            if (dragDirection > 0 && isLastSnapPoint && snapPoints) {\n                snapToPoint(snapPointsOffset[snapPoints.length - 1]);\n                return;\n            }\n            if (isFirst && dragDirection < 0 && dismissible) {\n                closeDrawer();\n            }\n            if (activeSnapPointIndex === null) return;\n            snapToPoint(snapPointsOffset[activeSnapPointIndex + dragDirection]);\n            return;\n        }\n        snapToPoint(closestSnapPoint);\n    }\n    function onDrag({ draggedDistance }) {\n        if (activeSnapPointOffset === null) return;\n        const newValue = direction === 'bottom' || direction === 'right' ? activeSnapPointOffset - draggedDistance : activeSnapPointOffset + draggedDistance;\n        // Don't do anything if we exceed the last(biggest) snap point\n        if ((direction === 'bottom' || direction === 'right') && newValue < snapPointsOffset[snapPointsOffset.length - 1]) {\n            return;\n        }\n        if ((direction === 'top' || direction === 'left') && newValue > snapPointsOffset[snapPointsOffset.length - 1]) {\n            return;\n        }\n        set(drawerRef.current, {\n            transform: isVertical(direction) ? `translate3d(0, ${newValue}px, 0)` : `translate3d(${newValue}px, 0, 0)`\n        });\n    }\n    function getPercentageDragged(absDraggedDistance, isDraggingDown) {\n        if (!snapPoints || typeof activeSnapPointIndex !== 'number' || !snapPointsOffset || fadeFromIndex === undefined) return null;\n        // If this is true we are dragging to a snap point that is supposed to have an overlay\n        const isOverlaySnapPoint = activeSnapPointIndex === fadeFromIndex - 1;\n        const isOverlaySnapPointOrHigher = activeSnapPointIndex >= fadeFromIndex;\n        if (isOverlaySnapPointOrHigher && isDraggingDown) {\n            return 0;\n        }\n        // Don't animate, but still use this one if we are dragging away from the overlaySnapPoint\n        if (isOverlaySnapPoint && !isDraggingDown) return 1;\n        if (!shouldFade && !isOverlaySnapPoint) return null;\n        // Either fadeFrom index or the one before\n        const targetSnapPointIndex = isOverlaySnapPoint ? activeSnapPointIndex + 1 : activeSnapPointIndex - 1;\n        // Get the distance from overlaySnapPoint to the one before or vice-versa to calculate the opacity percentage accordingly\n        const snapPointDistance = isOverlaySnapPoint ? snapPointsOffset[targetSnapPointIndex] - snapPointsOffset[targetSnapPointIndex - 1] : snapPointsOffset[targetSnapPointIndex + 1] - snapPointsOffset[targetSnapPointIndex];\n        const percentageDragged = absDraggedDistance / Math.abs(snapPointDistance);\n        if (isOverlaySnapPoint) {\n            return 1 - percentageDragged;\n        } else {\n            return percentageDragged;\n        }\n    }\n    return {\n        isLastSnapPoint,\n        activeSnapPoint,\n        shouldFade,\n        getPercentageDragged,\n        setActiveSnapPoint,\n        activeSnapPointIndex,\n        onRelease,\n        onDrag,\n        snapPointsOffset\n    };\n}\n\nconst noop = ()=>()=>{};\nfunction useScaleBackground() {\n    const { direction, isOpen, shouldScaleBackground, setBackgroundColorOnScale, noBodyStyles } = useDrawerContext();\n    const timeoutIdRef = React__default.useRef(null);\n    const initialBackgroundColor = useMemo(()=>document.body.style.backgroundColor, []);\n    function getScale() {\n        return (window.innerWidth - WINDOW_TOP_OFFSET) / window.innerWidth;\n    }\n    React__default.useEffect(()=>{\n        if (isOpen && shouldScaleBackground) {\n            if (timeoutIdRef.current) clearTimeout(timeoutIdRef.current);\n            const wrapper = document.querySelector('[data-vaul-drawer-wrapper]') || document.querySelector('[vaul-drawer-wrapper]');\n            if (!wrapper) return;\n            chain(setBackgroundColorOnScale && !noBodyStyles ? assignStyle(document.body, {\n                background: 'black'\n            }) : noop, assignStyle(wrapper, {\n                transformOrigin: isVertical(direction) ? 'top' : 'left',\n                transitionProperty: 'transform, border-radius',\n                transitionDuration: `${TRANSITIONS.DURATION}s`,\n                transitionTimingFunction: `cubic-bezier(${TRANSITIONS.EASE.join(',')})`\n            }));\n            const wrapperStylesCleanup = assignStyle(wrapper, {\n                borderRadius: `${BORDER_RADIUS}px`,\n                overflow: 'hidden',\n                ...isVertical(direction) ? {\n                    transform: `scale(${getScale()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`\n                } : {\n                    transform: `scale(${getScale()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`\n                }\n            });\n            return ()=>{\n                wrapperStylesCleanup();\n                timeoutIdRef.current = window.setTimeout(()=>{\n                    if (initialBackgroundColor) {\n                        document.body.style.background = initialBackgroundColor;\n                    } else {\n                        document.body.style.removeProperty('background');\n                    }\n                }, TRANSITIONS.DURATION * 1000);\n            };\n        }\n    }, [\n        isOpen,\n        shouldScaleBackground,\n        initialBackgroundColor\n    ]);\n}\n\nlet previousBodyPosition = null;\n/**\n * This hook is necessary to prevent buggy behavior on iOS devices (need to test on Android).\n * I won't get into too much detail about what bugs it solves, but so far I've found that setting the body to `position: fixed` is the most reliable way to prevent those bugs.\n * Issues that this hook solves:\n * https://github.com/emilkowalski/vaul/issues/435\n * https://github.com/emilkowalski/vaul/issues/433\n * And more that I discovered, but were just not reported.\n */ function usePositionFixed({ isOpen, modal, nested, hasBeenOpened, preventScrollRestoration, noBodyStyles }) {\n    const [activeUrl, setActiveUrl] = React__default.useState(()=>typeof window !== 'undefined' ? window.location.href : '');\n    const scrollPos = React__default.useRef(0);\n    const setPositionFixed = React__default.useCallback(()=>{\n        // All browsers on iOS will return true here.\n        if (!isSafari()) return;\n        // If previousBodyPosition is already set, don't set it again.\n        if (previousBodyPosition === null && isOpen && !noBodyStyles) {\n            previousBodyPosition = {\n                position: document.body.style.position,\n                top: document.body.style.top,\n                left: document.body.style.left,\n                height: document.body.style.height,\n                right: 'unset'\n            };\n            // Update the dom inside an animation frame\n            const { scrollX, innerHeight } = window;\n            document.body.style.setProperty('position', 'fixed', 'important');\n            Object.assign(document.body.style, {\n                top: `${-scrollPos.current}px`,\n                left: `${-scrollX}px`,\n                right: '0px',\n                height: 'auto'\n            });\n            window.setTimeout(()=>window.requestAnimationFrame(()=>{\n                    // Attempt to check if the bottom bar appeared due to the position change\n                    const bottomBarHeight = innerHeight - window.innerHeight;\n                    if (bottomBarHeight && scrollPos.current >= innerHeight) {\n                        // Move the content further up so that the bottom bar doesn't hide it\n                        document.body.style.top = `${-(scrollPos.current + bottomBarHeight)}px`;\n                    }\n                }), 300);\n        }\n    }, [\n        isOpen\n    ]);\n    const restorePositionSetting = React__default.useCallback(()=>{\n        // All browsers on iOS will return true here.\n        if (!isSafari()) return;\n        if (previousBodyPosition !== null && !noBodyStyles) {\n            // Convert the position from \"px\" to Int\n            const y = -parseInt(document.body.style.top, 10);\n            const x = -parseInt(document.body.style.left, 10);\n            // Restore styles\n            Object.assign(document.body.style, previousBodyPosition);\n            window.requestAnimationFrame(()=>{\n                if (preventScrollRestoration && activeUrl !== window.location.href) {\n                    setActiveUrl(window.location.href);\n                    return;\n                }\n                window.scrollTo(x, y);\n            });\n            previousBodyPosition = null;\n        }\n    }, [\n        activeUrl\n    ]);\n    React__default.useEffect(()=>{\n        function onScroll() {\n            scrollPos.current = window.scrollY;\n        }\n        onScroll();\n        window.addEventListener('scroll', onScroll);\n        return ()=>{\n            window.removeEventListener('scroll', onScroll);\n        };\n    }, []);\n    React__default.useEffect(()=>{\n        if (!modal) return;\n        return ()=>{\n            if (typeof document === 'undefined') return;\n            // Another drawer is opened, safe to ignore the execution\n            const hasDrawerOpened = !!document.querySelector('[data-vaul-drawer]');\n            if (hasDrawerOpened) return;\n            restorePositionSetting();\n        };\n    }, [\n        modal,\n        restorePositionSetting\n    ]);\n    React__default.useEffect(()=>{\n        if (nested || !hasBeenOpened) return;\n        // This is needed to force Safari toolbar to show **before** the drawer starts animating to prevent a gnarly shift from happening\n        if (isOpen) {\n            // avoid for standalone mode (PWA)\n            const isStandalone = window.matchMedia('(display-mode: standalone)').matches;\n            !isStandalone && setPositionFixed();\n            if (!modal) {\n                window.setTimeout(()=>{\n                    restorePositionSetting();\n                }, 500);\n            }\n        } else {\n            restorePositionSetting();\n        }\n    }, [\n        isOpen,\n        hasBeenOpened,\n        activeUrl,\n        modal,\n        nested,\n        setPositionFixed,\n        restorePositionSetting\n    ]);\n    return {\n        restorePositionSetting\n    };\n}\n\nfunction Root({ open: openProp, onOpenChange, children, onDrag: onDragProp, onRelease: onReleaseProp, snapPoints, shouldScaleBackground = false, setBackgroundColorOnScale = true, closeThreshold = CLOSE_THRESHOLD, scrollLockTimeout = SCROLL_LOCK_TIMEOUT, dismissible = true, handleOnly = false, fadeFromIndex = snapPoints && snapPoints.length - 1, activeSnapPoint: activeSnapPointProp, setActiveSnapPoint: setActiveSnapPointProp, fixed, modal = true, onClose, nested, noBodyStyles = false, direction = 'bottom', defaultOpen = false, disablePreventScroll = true, snapToSequentialPoint = false, preventScrollRestoration = false, repositionInputs = true, onAnimationEnd, container, autoFocus = false }) {\n    var _drawerRef_current, _drawerRef_current1;\n    const [isOpen = false, setIsOpen] = useControllableState({\n        defaultProp: defaultOpen,\n        prop: openProp,\n        onChange: (o)=>{\n            onOpenChange == null ? void 0 : onOpenChange(o);\n            if (!o && !nested) {\n                restorePositionSetting();\n            }\n            setTimeout(()=>{\n                onAnimationEnd == null ? void 0 : onAnimationEnd(o);\n            }, TRANSITIONS.DURATION * 1000);\n            if (o && !modal) {\n                if (typeof window !== 'undefined') {\n                    window.requestAnimationFrame(()=>{\n                        document.body.style.pointerEvents = 'auto';\n                    });\n                }\n            }\n            if (!o) {\n                // This will be removed when the exit animation ends (`500ms`)\n                document.body.style.pointerEvents = 'auto';\n            }\n        }\n    });\n    const [hasBeenOpened, setHasBeenOpened] = React__default.useState(false);\n    const [isDragging, setIsDragging] = React__default.useState(false);\n    const [justReleased, setJustReleased] = React__default.useState(false);\n    const overlayRef = React__default.useRef(null);\n    const openTime = React__default.useRef(null);\n    const dragStartTime = React__default.useRef(null);\n    const dragEndTime = React__default.useRef(null);\n    const lastTimeDragPrevented = React__default.useRef(null);\n    const isAllowedToDrag = React__default.useRef(false);\n    const nestedOpenChangeTimer = React__default.useRef(null);\n    const pointerStart = React__default.useRef(0);\n    const keyboardIsOpen = React__default.useRef(false);\n    const shouldAnimate = React__default.useRef(!defaultOpen);\n    const previousDiffFromInitial = React__default.useRef(0);\n    const drawerRef = React__default.useRef(null);\n    const drawerHeightRef = React__default.useRef(((_drawerRef_current = drawerRef.current) == null ? void 0 : _drawerRef_current.getBoundingClientRect().height) || 0);\n    const drawerWidthRef = React__default.useRef(((_drawerRef_current1 = drawerRef.current) == null ? void 0 : _drawerRef_current1.getBoundingClientRect().width) || 0);\n    const initialDrawerHeight = React__default.useRef(0);\n    const onSnapPointChange = React__default.useCallback((activeSnapPointIndex)=>{\n        // Change openTime ref when we reach the last snap point to prevent dragging for 500ms incase it's scrollable.\n        if (snapPoints && activeSnapPointIndex === snapPointsOffset.length - 1) openTime.current = new Date();\n    }, []);\n    const { activeSnapPoint, activeSnapPointIndex, setActiveSnapPoint, onRelease: onReleaseSnapPoints, snapPointsOffset, onDrag: onDragSnapPoints, shouldFade, getPercentageDragged: getSnapPointsPercentageDragged } = useSnapPoints({\n        snapPoints,\n        activeSnapPointProp,\n        setActiveSnapPointProp,\n        drawerRef,\n        fadeFromIndex,\n        overlayRef,\n        onSnapPointChange,\n        direction,\n        container,\n        snapToSequentialPoint\n    });\n    usePreventScroll({\n        isDisabled: !isOpen || isDragging || !modal || justReleased || !hasBeenOpened || !repositionInputs || !disablePreventScroll\n    });\n    const { restorePositionSetting } = usePositionFixed({\n        isOpen,\n        modal,\n        nested: nested != null ? nested : false,\n        hasBeenOpened,\n        preventScrollRestoration,\n        noBodyStyles\n    });\n    function getScale() {\n        return (window.innerWidth - WINDOW_TOP_OFFSET) / window.innerWidth;\n    }\n    function onPress(event) {\n        var _drawerRef_current, _drawerRef_current1;\n        if (!dismissible && !snapPoints) return;\n        if (drawerRef.current && !drawerRef.current.contains(event.target)) return;\n        drawerHeightRef.current = ((_drawerRef_current = drawerRef.current) == null ? void 0 : _drawerRef_current.getBoundingClientRect().height) || 0;\n        drawerWidthRef.current = ((_drawerRef_current1 = drawerRef.current) == null ? void 0 : _drawerRef_current1.getBoundingClientRect().width) || 0;\n        setIsDragging(true);\n        dragStartTime.current = new Date();\n        // iOS doesn't trigger mouseUp after scrolling so we need to listen to touched in order to disallow dragging\n        if (isIOS()) {\n            window.addEventListener('touchend', ()=>isAllowedToDrag.current = false, {\n                once: true\n            });\n        }\n        // Ensure we maintain correct pointer capture even when going outside of the drawer\n        event.target.setPointerCapture(event.pointerId);\n        pointerStart.current = isVertical(direction) ? event.pageY : event.pageX;\n    }\n    function shouldDrag(el, isDraggingInDirection) {\n        var _window_getSelection;\n        let element = el;\n        const highlightedText = (_window_getSelection = window.getSelection()) == null ? void 0 : _window_getSelection.toString();\n        const swipeAmount = drawerRef.current ? getTranslate(drawerRef.current, direction) : null;\n        const date = new Date();\n        // Fixes https://github.com/emilkowalski/vaul/issues/483\n        if (element.tagName === 'SELECT') {\n            return false;\n        }\n        if (element.hasAttribute('data-vaul-no-drag') || element.closest('[data-vaul-no-drag]')) {\n            return false;\n        }\n        if (direction === 'right' || direction === 'left') {\n            return true;\n        }\n        // Allow scrolling when animating\n        if (openTime.current && date.getTime() - openTime.current.getTime() < 500) {\n            return false;\n        }\n        if (swipeAmount !== null) {\n            if (direction === 'bottom' ? swipeAmount > 0 : swipeAmount < 0) {\n                return true;\n            }\n        }\n        // Don't drag if there's highlighted text\n        if (highlightedText && highlightedText.length > 0) {\n            return false;\n        }\n        // Disallow dragging if drawer was scrolled within `scrollLockTimeout`\n        if (lastTimeDragPrevented.current && date.getTime() - lastTimeDragPrevented.current.getTime() < scrollLockTimeout && swipeAmount === 0) {\n            lastTimeDragPrevented.current = date;\n            return false;\n        }\n        if (isDraggingInDirection) {\n            lastTimeDragPrevented.current = date;\n            // We are dragging down so we should allow scrolling\n            return false;\n        }\n        // Keep climbing up the DOM tree as long as there's a parent\n        while(element){\n            // Check if the element is scrollable\n            if (element.scrollHeight > element.clientHeight) {\n                if (element.scrollTop !== 0) {\n                    lastTimeDragPrevented.current = new Date();\n                    // The element is scrollable and not scrolled to the top, so don't drag\n                    return false;\n                }\n                if (element.getAttribute('role') === 'dialog') {\n                    return true;\n                }\n            }\n            // Move up to the parent element\n            element = element.parentNode;\n        }\n        // No scrollable parents not scrolled to the top found, so drag\n        return true;\n    }\n    function onDrag(event) {\n        if (!drawerRef.current) {\n            return;\n        }\n        // We need to know how much of the drawer has been dragged in percentages so that we can transform background accordingly\n        if (isDragging) {\n            const directionMultiplier = direction === 'bottom' || direction === 'right' ? 1 : -1;\n            const draggedDistance = (pointerStart.current - (isVertical(direction) ? event.pageY : event.pageX)) * directionMultiplier;\n            const isDraggingInDirection = draggedDistance > 0;\n            // Pre condition for disallowing dragging in the close direction.\n            const noCloseSnapPointsPreCondition = snapPoints && !dismissible && !isDraggingInDirection;\n            // Disallow dragging down to close when first snap point is the active one and dismissible prop is set to false.\n            if (noCloseSnapPointsPreCondition && activeSnapPointIndex === 0) return;\n            // We need to capture last time when drag with scroll was triggered and have a timeout between\n            const absDraggedDistance = Math.abs(draggedDistance);\n            const wrapper = document.querySelector('[data-vaul-drawer-wrapper]');\n            const drawerDimension = direction === 'bottom' || direction === 'top' ? drawerHeightRef.current : drawerWidthRef.current;\n            // Calculate the percentage dragged, where 1 is the closed position\n            let percentageDragged = absDraggedDistance / drawerDimension;\n            const snapPointPercentageDragged = getSnapPointsPercentageDragged(absDraggedDistance, isDraggingInDirection);\n            if (snapPointPercentageDragged !== null) {\n                percentageDragged = snapPointPercentageDragged;\n            }\n            // Disallow close dragging beyond the smallest snap point.\n            if (noCloseSnapPointsPreCondition && percentageDragged >= 1) {\n                return;\n            }\n            if (!isAllowedToDrag.current && !shouldDrag(event.target, isDraggingInDirection)) return;\n            drawerRef.current.classList.add(DRAG_CLASS);\n            // If shouldDrag gave true once after pressing down on the drawer, we set isAllowedToDrag to true and it will remain true until we let go, there's no reason to disable dragging mid way, ever, and that's the solution to it\n            isAllowedToDrag.current = true;\n            set(drawerRef.current, {\n                transition: 'none'\n            });\n            set(overlayRef.current, {\n                transition: 'none'\n            });\n            if (snapPoints) {\n                onDragSnapPoints({\n                    draggedDistance\n                });\n            }\n            // Run this only if snapPoints are not defined or if we are at the last snap point (highest one)\n            if (isDraggingInDirection && !snapPoints) {\n                const dampenedDraggedDistance = dampenValue(draggedDistance);\n                const translateValue = Math.min(dampenedDraggedDistance * -1, 0) * directionMultiplier;\n                set(drawerRef.current, {\n                    transform: isVertical(direction) ? `translate3d(0, ${translateValue}px, 0)` : `translate3d(${translateValue}px, 0, 0)`\n                });\n                return;\n            }\n            const opacityValue = 1 - percentageDragged;\n            if (shouldFade || fadeFromIndex && activeSnapPointIndex === fadeFromIndex - 1) {\n                onDragProp == null ? void 0 : onDragProp(event, percentageDragged);\n                set(overlayRef.current, {\n                    opacity: `${opacityValue}`,\n                    transition: 'none'\n                }, true);\n            }\n            if (wrapper && overlayRef.current && shouldScaleBackground) {\n                // Calculate percentageDragged as a fraction (0 to 1)\n                const scaleValue = Math.min(getScale() + percentageDragged * (1 - getScale()), 1);\n                const borderRadiusValue = 8 - percentageDragged * 8;\n                const translateValue = Math.max(0, 14 - percentageDragged * 14);\n                set(wrapper, {\n                    borderRadius: `${borderRadiusValue}px`,\n                    transform: isVertical(direction) ? `scale(${scaleValue}) translate3d(0, ${translateValue}px, 0)` : `scale(${scaleValue}) translate3d(${translateValue}px, 0, 0)`,\n                    transition: 'none'\n                }, true);\n            }\n            if (!snapPoints) {\n                const translateValue = absDraggedDistance * directionMultiplier;\n                set(drawerRef.current, {\n                    transform: isVertical(direction) ? `translate3d(0, ${translateValue}px, 0)` : `translate3d(${translateValue}px, 0, 0)`\n                });\n            }\n        }\n    }\n    React__default.useEffect(()=>{\n        window.requestAnimationFrame(()=>{\n            shouldAnimate.current = true;\n        });\n    }, []);\n    React__default.useEffect(()=>{\n        var _window_visualViewport;\n        function onVisualViewportChange() {\n            if (!drawerRef.current || !repositionInputs) return;\n            const focusedElement = document.activeElement;\n            if (isInput(focusedElement) || keyboardIsOpen.current) {\n                var _window_visualViewport;\n                const visualViewportHeight = ((_window_visualViewport = window.visualViewport) == null ? void 0 : _window_visualViewport.height) || 0;\n                const totalHeight = window.innerHeight;\n                // This is the height of the keyboard\n                let diffFromInitial = totalHeight - visualViewportHeight;\n                const drawerHeight = drawerRef.current.getBoundingClientRect().height || 0;\n                // Adjust drawer height only if it's tall enough\n                const isTallEnough = drawerHeight > totalHeight * 0.8;\n                if (!initialDrawerHeight.current) {\n                    initialDrawerHeight.current = drawerHeight;\n                }\n                const offsetFromTop = drawerRef.current.getBoundingClientRect().top;\n                // visualViewport height may change due to somq e subtle changes to the keyboard. Checking if the height changed by 60 or more will make sure that they keyboard really changed its open state.\n                if (Math.abs(previousDiffFromInitial.current - diffFromInitial) > 60) {\n                    keyboardIsOpen.current = !keyboardIsOpen.current;\n                }\n                if (snapPoints && snapPoints.length > 0 && snapPointsOffset && activeSnapPointIndex) {\n                    const activeSnapPointHeight = snapPointsOffset[activeSnapPointIndex] || 0;\n                    diffFromInitial += activeSnapPointHeight;\n                }\n                previousDiffFromInitial.current = diffFromInitial;\n                // We don't have to change the height if the input is in view, when we are here we are in the opened keyboard state so we can correctly check if the input is in view\n                if (drawerHeight > visualViewportHeight || keyboardIsOpen.current) {\n                    const height = drawerRef.current.getBoundingClientRect().height;\n                    let newDrawerHeight = height;\n                    if (height > visualViewportHeight) {\n                        newDrawerHeight = visualViewportHeight - (isTallEnough ? offsetFromTop : WINDOW_TOP_OFFSET);\n                    }\n                    // When fixed, don't move the drawer upwards if there's space, but rather only change it's height so it's fully scrollable when the keyboard is open\n                    if (fixed) {\n                        drawerRef.current.style.height = `${height - Math.max(diffFromInitial, 0)}px`;\n                    } else {\n                        drawerRef.current.style.height = `${Math.max(newDrawerHeight, visualViewportHeight - offsetFromTop)}px`;\n                    }\n                } else if (!isMobileFirefox()) {\n                    drawerRef.current.style.height = `${initialDrawerHeight.current}px`;\n                }\n                if (snapPoints && snapPoints.length > 0 && !keyboardIsOpen.current) {\n                    drawerRef.current.style.bottom = `0px`;\n                } else {\n                    // Negative bottom value would never make sense\n                    drawerRef.current.style.bottom = `${Math.max(diffFromInitial, 0)}px`;\n                }\n            }\n        }\n        (_window_visualViewport = window.visualViewport) == null ? void 0 : _window_visualViewport.addEventListener('resize', onVisualViewportChange);\n        return ()=>{\n            var _window_visualViewport;\n            return (_window_visualViewport = window.visualViewport) == null ? void 0 : _window_visualViewport.removeEventListener('resize', onVisualViewportChange);\n        };\n    }, [\n        activeSnapPointIndex,\n        snapPoints,\n        snapPointsOffset\n    ]);\n    function closeDrawer(fromWithin) {\n        cancelDrag();\n        onClose == null ? void 0 : onClose();\n        if (!fromWithin) {\n            setIsOpen(false);\n        }\n        setTimeout(()=>{\n            if (snapPoints) {\n                setActiveSnapPoint(snapPoints[0]);\n            }\n        }, TRANSITIONS.DURATION * 1000); // seconds to ms\n    }\n    function resetDrawer() {\n        if (!drawerRef.current) return;\n        const wrapper = document.querySelector('[data-vaul-drawer-wrapper]');\n        const currentSwipeAmount = getTranslate(drawerRef.current, direction);\n        set(drawerRef.current, {\n            transform: 'translate3d(0, 0, 0)',\n            transition: `transform ${TRANSITIONS.DURATION}s cubic-bezier(${TRANSITIONS.EASE.join(',')})`\n        });\n        set(overlayRef.current, {\n            transition: `opacity ${TRANSITIONS.DURATION}s cubic-bezier(${TRANSITIONS.EASE.join(',')})`,\n            opacity: '1'\n        });\n        // Don't reset background if swiped upwards\n        if (shouldScaleBackground && currentSwipeAmount && currentSwipeAmount > 0 && isOpen) {\n            set(wrapper, {\n                borderRadius: `${BORDER_RADIUS}px`,\n                overflow: 'hidden',\n                ...isVertical(direction) ? {\n                    transform: `scale(${getScale()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,\n                    transformOrigin: 'top'\n                } : {\n                    transform: `scale(${getScale()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,\n                    transformOrigin: 'left'\n                },\n                transitionProperty: 'transform, border-radius',\n                transitionDuration: `${TRANSITIONS.DURATION}s`,\n                transitionTimingFunction: `cubic-bezier(${TRANSITIONS.EASE.join(',')})`\n            }, true);\n        }\n    }\n    function cancelDrag() {\n        if (!isDragging || !drawerRef.current) return;\n        drawerRef.current.classList.remove(DRAG_CLASS);\n        isAllowedToDrag.current = false;\n        setIsDragging(false);\n        dragEndTime.current = new Date();\n    }\n    function onRelease(event) {\n        if (!isDragging || !drawerRef.current) return;\n        drawerRef.current.classList.remove(DRAG_CLASS);\n        isAllowedToDrag.current = false;\n        setIsDragging(false);\n        dragEndTime.current = new Date();\n        const swipeAmount = getTranslate(drawerRef.current, direction);\n        if (!event || !shouldDrag(event.target, false) || !swipeAmount || Number.isNaN(swipeAmount)) return;\n        if (dragStartTime.current === null) return;\n        const timeTaken = dragEndTime.current.getTime() - dragStartTime.current.getTime();\n        const distMoved = pointerStart.current - (isVertical(direction) ? event.pageY : event.pageX);\n        const velocity = Math.abs(distMoved) / timeTaken;\n        if (velocity > 0.05) {\n            // `justReleased` is needed to prevent the drawer from focusing on an input when the drag ends, as it's not the intent most of the time.\n            setJustReleased(true);\n            setTimeout(()=>{\n                setJustReleased(false);\n            }, 200);\n        }\n        if (snapPoints) {\n            const directionMultiplier = direction === 'bottom' || direction === 'right' ? 1 : -1;\n            onReleaseSnapPoints({\n                draggedDistance: distMoved * directionMultiplier,\n                closeDrawer,\n                velocity,\n                dismissible\n            });\n            onReleaseProp == null ? void 0 : onReleaseProp(event, true);\n            return;\n        }\n        // Moved upwards, don't do anything\n        if (direction === 'bottom' || direction === 'right' ? distMoved > 0 : distMoved < 0) {\n            resetDrawer();\n            onReleaseProp == null ? void 0 : onReleaseProp(event, true);\n            return;\n        }\n        if (velocity > VELOCITY_THRESHOLD) {\n            closeDrawer();\n            onReleaseProp == null ? void 0 : onReleaseProp(event, false);\n            return;\n        }\n        var _drawerRef_current_getBoundingClientRect_height;\n        const visibleDrawerHeight = Math.min((_drawerRef_current_getBoundingClientRect_height = drawerRef.current.getBoundingClientRect().height) != null ? _drawerRef_current_getBoundingClientRect_height : 0, window.innerHeight);\n        var _drawerRef_current_getBoundingClientRect_width;\n        const visibleDrawerWidth = Math.min((_drawerRef_current_getBoundingClientRect_width = drawerRef.current.getBoundingClientRect().width) != null ? _drawerRef_current_getBoundingClientRect_width : 0, window.innerWidth);\n        const isHorizontalSwipe = direction === 'left' || direction === 'right';\n        if (Math.abs(swipeAmount) >= (isHorizontalSwipe ? visibleDrawerWidth : visibleDrawerHeight) * closeThreshold) {\n            closeDrawer();\n            onReleaseProp == null ? void 0 : onReleaseProp(event, false);\n            return;\n        }\n        onReleaseProp == null ? void 0 : onReleaseProp(event, true);\n        resetDrawer();\n    }\n    React__default.useEffect(()=>{\n        // Trigger enter animation without using CSS animation\n        if (isOpen) {\n            set(document.documentElement, {\n                scrollBehavior: 'auto'\n            });\n            openTime.current = new Date();\n        }\n        return ()=>{\n            reset(document.documentElement, 'scrollBehavior');\n        };\n    }, [\n        isOpen\n    ]);\n    function onNestedOpenChange(o) {\n        const scale = o ? (window.innerWidth - NESTED_DISPLACEMENT) / window.innerWidth : 1;\n        const initialTranslate = o ? -NESTED_DISPLACEMENT : 0;\n        if (nestedOpenChangeTimer.current) {\n            window.clearTimeout(nestedOpenChangeTimer.current);\n        }\n        set(drawerRef.current, {\n            transition: `transform ${TRANSITIONS.DURATION}s cubic-bezier(${TRANSITIONS.EASE.join(',')})`,\n            transform: isVertical(direction) ? `scale(${scale}) translate3d(0, ${initialTranslate}px, 0)` : `scale(${scale}) translate3d(${initialTranslate}px, 0, 0)`\n        });\n        if (!o && drawerRef.current) {\n            nestedOpenChangeTimer.current = setTimeout(()=>{\n                const translateValue = getTranslate(drawerRef.current, direction);\n                set(drawerRef.current, {\n                    transition: 'none',\n                    transform: isVertical(direction) ? `translate3d(0, ${translateValue}px, 0)` : `translate3d(${translateValue}px, 0, 0)`\n                });\n            }, 500);\n        }\n    }\n    function onNestedDrag(_event, percentageDragged) {\n        if (percentageDragged < 0) return;\n        const initialScale = (window.innerWidth - NESTED_DISPLACEMENT) / window.innerWidth;\n        const newScale = initialScale + percentageDragged * (1 - initialScale);\n        const newTranslate = -NESTED_DISPLACEMENT + percentageDragged * NESTED_DISPLACEMENT;\n        set(drawerRef.current, {\n            transform: isVertical(direction) ? `scale(${newScale}) translate3d(0, ${newTranslate}px, 0)` : `scale(${newScale}) translate3d(${newTranslate}px, 0, 0)`,\n            transition: 'none'\n        });\n    }\n    function onNestedRelease(_event, o) {\n        const dim = isVertical(direction) ? window.innerHeight : window.innerWidth;\n        const scale = o ? (dim - NESTED_DISPLACEMENT) / dim : 1;\n        const translate = o ? -NESTED_DISPLACEMENT : 0;\n        if (o) {\n            set(drawerRef.current, {\n                transition: `transform ${TRANSITIONS.DURATION}s cubic-bezier(${TRANSITIONS.EASE.join(',')})`,\n                transform: isVertical(direction) ? `scale(${scale}) translate3d(0, ${translate}px, 0)` : `scale(${scale}) translate3d(${translate}px, 0, 0)`\n            });\n        }\n    }\n    React__default.useEffect(()=>{\n        if (!modal) {\n            // Need to do this manually unfortunately\n            window.requestAnimationFrame(()=>{\n                document.body.style.pointerEvents = 'auto';\n            });\n        }\n    }, [\n        modal\n    ]);\n    return /*#__PURE__*/ React__default.createElement(DialogPrimitive.Root, {\n        defaultOpen: defaultOpen,\n        onOpenChange: (open)=>{\n            if (!dismissible && !open) return;\n            if (open) {\n                setHasBeenOpened(true);\n            } else {\n                closeDrawer(true);\n            }\n            setIsOpen(open);\n        },\n        open: isOpen\n    }, /*#__PURE__*/ React__default.createElement(DrawerContext.Provider, {\n        value: {\n            activeSnapPoint,\n            snapPoints,\n            setActiveSnapPoint,\n            drawerRef,\n            overlayRef,\n            onOpenChange,\n            onPress,\n            onRelease,\n            onDrag,\n            dismissible,\n            shouldAnimate,\n            handleOnly,\n            isOpen,\n            isDragging,\n            shouldFade,\n            closeDrawer,\n            onNestedDrag,\n            onNestedOpenChange,\n            onNestedRelease,\n            keyboardIsOpen,\n            modal,\n            snapPointsOffset,\n            activeSnapPointIndex,\n            direction,\n            shouldScaleBackground,\n            setBackgroundColorOnScale,\n            noBodyStyles,\n            container,\n            autoFocus\n        }\n    }, children));\n}\nconst Overlay = /*#__PURE__*/ React__default.forwardRef(function({ ...rest }, ref) {\n    const { overlayRef, snapPoints, onRelease, shouldFade, isOpen, modal, shouldAnimate } = useDrawerContext();\n    const composedRef = useComposedRefs(ref, overlayRef);\n    const hasSnapPoints = snapPoints && snapPoints.length > 0;\n    // Overlay is the component that is locking scroll, removing it will unlock the scroll without having to dig into Radix's Dialog library\n    if (!modal) {\n        return null;\n    }\n    const onMouseUp = React__default.useCallback((event)=>onRelease(event), [\n        onRelease\n    ]);\n    return /*#__PURE__*/ React__default.createElement(DialogPrimitive.Overlay, {\n        onMouseUp: onMouseUp,\n        ref: composedRef,\n        \"data-vaul-overlay\": \"\",\n        \"data-vaul-snap-points\": isOpen && hasSnapPoints ? 'true' : 'false',\n        \"data-vaul-snap-points-overlay\": isOpen && shouldFade ? 'true' : 'false',\n        \"data-vaul-animate\": (shouldAnimate == null ? void 0 : shouldAnimate.current) ? 'true' : 'false',\n        ...rest\n    });\n});\nOverlay.displayName = 'Drawer.Overlay';\nconst Content = /*#__PURE__*/ React__default.forwardRef(function({ onPointerDownOutside, style, onOpenAutoFocus, ...rest }, ref) {\n    const { drawerRef, onPress, onRelease, onDrag, keyboardIsOpen, snapPointsOffset, activeSnapPointIndex, modal, isOpen, direction, snapPoints, container, handleOnly, shouldAnimate, autoFocus } = useDrawerContext();\n    // Needed to use transition instead of animations\n    const [delayedSnapPoints, setDelayedSnapPoints] = React__default.useState(false);\n    const composedRef = useComposedRefs(ref, drawerRef);\n    const pointerStartRef = React__default.useRef(null);\n    const lastKnownPointerEventRef = React__default.useRef(null);\n    const wasBeyondThePointRef = React__default.useRef(false);\n    const hasSnapPoints = snapPoints && snapPoints.length > 0;\n    useScaleBackground();\n    const isDeltaInDirection = (delta, direction, threshold = 0)=>{\n        if (wasBeyondThePointRef.current) return true;\n        const deltaY = Math.abs(delta.y);\n        const deltaX = Math.abs(delta.x);\n        const isDeltaX = deltaX > deltaY;\n        const dFactor = [\n            'bottom',\n            'right'\n        ].includes(direction) ? 1 : -1;\n        if (direction === 'left' || direction === 'right') {\n            const isReverseDirection = delta.x * dFactor < 0;\n            if (!isReverseDirection && deltaX >= 0 && deltaX <= threshold) {\n                return isDeltaX;\n            }\n        } else {\n            const isReverseDirection = delta.y * dFactor < 0;\n            if (!isReverseDirection && deltaY >= 0 && deltaY <= threshold) {\n                return !isDeltaX;\n            }\n        }\n        wasBeyondThePointRef.current = true;\n        return true;\n    };\n    React__default.useEffect(()=>{\n        if (hasSnapPoints) {\n            window.requestAnimationFrame(()=>{\n                setDelayedSnapPoints(true);\n            });\n        }\n    }, []);\n    function handleOnPointerUp(event) {\n        pointerStartRef.current = null;\n        wasBeyondThePointRef.current = false;\n        onRelease(event);\n    }\n    return /*#__PURE__*/ React__default.createElement(DialogPrimitive.Content, {\n        \"data-vaul-drawer-direction\": direction,\n        \"data-vaul-drawer\": \"\",\n        \"data-vaul-delayed-snap-points\": delayedSnapPoints ? 'true' : 'false',\n        \"data-vaul-snap-points\": isOpen && hasSnapPoints ? 'true' : 'false',\n        \"data-vaul-custom-container\": container ? 'true' : 'false',\n        \"data-vaul-animate\": (shouldAnimate == null ? void 0 : shouldAnimate.current) ? 'true' : 'false',\n        ...rest,\n        ref: composedRef,\n        style: snapPointsOffset && snapPointsOffset.length > 0 ? {\n            '--snap-point-height': `${snapPointsOffset[activeSnapPointIndex != null ? activeSnapPointIndex : 0]}px`,\n            ...style\n        } : style,\n        onPointerDown: (event)=>{\n            if (handleOnly) return;\n            rest.onPointerDown == null ? void 0 : rest.onPointerDown.call(rest, event);\n            pointerStartRef.current = {\n                x: event.pageX,\n                y: event.pageY\n            };\n            onPress(event);\n        },\n        onOpenAutoFocus: (e)=>{\n            onOpenAutoFocus == null ? void 0 : onOpenAutoFocus(e);\n            if (!autoFocus) {\n                e.preventDefault();\n            }\n        },\n        onPointerDownOutside: (e)=>{\n            onPointerDownOutside == null ? void 0 : onPointerDownOutside(e);\n            if (!modal || e.defaultPrevented) {\n                e.preventDefault();\n                return;\n            }\n            if (keyboardIsOpen.current) {\n                keyboardIsOpen.current = false;\n            }\n        },\n        onFocusOutside: (e)=>{\n            if (!modal) {\n                e.preventDefault();\n                return;\n            }\n        },\n        onPointerMove: (event)=>{\n            lastKnownPointerEventRef.current = event;\n            if (handleOnly) return;\n            rest.onPointerMove == null ? void 0 : rest.onPointerMove.call(rest, event);\n            if (!pointerStartRef.current) return;\n            const yPosition = event.pageY - pointerStartRef.current.y;\n            const xPosition = event.pageX - pointerStartRef.current.x;\n            const swipeStartThreshold = event.pointerType === 'touch' ? 10 : 2;\n            const delta = {\n                x: xPosition,\n                y: yPosition\n            };\n            const isAllowedToSwipe = isDeltaInDirection(delta, direction, swipeStartThreshold);\n            if (isAllowedToSwipe) onDrag(event);\n            else if (Math.abs(xPosition) > swipeStartThreshold || Math.abs(yPosition) > swipeStartThreshold) {\n                pointerStartRef.current = null;\n            }\n        },\n        onPointerUp: (event)=>{\n            rest.onPointerUp == null ? void 0 : rest.onPointerUp.call(rest, event);\n            pointerStartRef.current = null;\n            wasBeyondThePointRef.current = false;\n            onRelease(event);\n        },\n        onPointerOut: (event)=>{\n            rest.onPointerOut == null ? void 0 : rest.onPointerOut.call(rest, event);\n            handleOnPointerUp(lastKnownPointerEventRef.current);\n        },\n        onContextMenu: (event)=>{\n            rest.onContextMenu == null ? void 0 : rest.onContextMenu.call(rest, event);\n            if (lastKnownPointerEventRef.current) {\n                handleOnPointerUp(lastKnownPointerEventRef.current);\n            }\n        }\n    });\n});\nContent.displayName = 'Drawer.Content';\nconst LONG_HANDLE_PRESS_TIMEOUT = 250;\nconst DOUBLE_TAP_TIMEOUT = 120;\nconst Handle = /*#__PURE__*/ React__default.forwardRef(function({ preventCycle = false, children, ...rest }, ref) {\n    const { closeDrawer, isDragging, snapPoints, activeSnapPoint, setActiveSnapPoint, dismissible, handleOnly, isOpen, onPress, onDrag } = useDrawerContext();\n    const closeTimeoutIdRef = React__default.useRef(null);\n    const shouldCancelInteractionRef = React__default.useRef(false);\n    function handleStartCycle() {\n        // Stop if this is the second click of a double click\n        if (shouldCancelInteractionRef.current) {\n            handleCancelInteraction();\n            return;\n        }\n        window.setTimeout(()=>{\n            handleCycleSnapPoints();\n        }, DOUBLE_TAP_TIMEOUT);\n    }\n    function handleCycleSnapPoints() {\n        // Prevent accidental taps while resizing drawer\n        if (isDragging || preventCycle || shouldCancelInteractionRef.current) {\n            handleCancelInteraction();\n            return;\n        }\n        // Make sure to clear the timeout id if the user releases the handle before the cancel timeout\n        handleCancelInteraction();\n        if (!snapPoints || snapPoints.length === 0) {\n            if (!dismissible) {\n                closeDrawer();\n            }\n            return;\n        }\n        const isLastSnapPoint = activeSnapPoint === snapPoints[snapPoints.length - 1];\n        if (isLastSnapPoint && dismissible) {\n            closeDrawer();\n            return;\n        }\n        const currentSnapIndex = snapPoints.findIndex((point)=>point === activeSnapPoint);\n        if (currentSnapIndex === -1) return; // activeSnapPoint not found in snapPoints\n        const nextSnapPoint = snapPoints[currentSnapIndex + 1];\n        setActiveSnapPoint(nextSnapPoint);\n    }\n    function handleStartInteraction() {\n        closeTimeoutIdRef.current = window.setTimeout(()=>{\n            // Cancel click interaction on a long press\n            shouldCancelInteractionRef.current = true;\n        }, LONG_HANDLE_PRESS_TIMEOUT);\n    }\n    function handleCancelInteraction() {\n        if (closeTimeoutIdRef.current) {\n            window.clearTimeout(closeTimeoutIdRef.current);\n        }\n        shouldCancelInteractionRef.current = false;\n    }\n    return /*#__PURE__*/ React__default.createElement(\"div\", {\n        onClick: handleStartCycle,\n        onPointerCancel: handleCancelInteraction,\n        onPointerDown: (e)=>{\n            if (handleOnly) onPress(e);\n            handleStartInteraction();\n        },\n        onPointerMove: (e)=>{\n            if (handleOnly) onDrag(e);\n        },\n        // onPointerUp is already handled by the content component\n        ref: ref,\n        \"data-vaul-drawer-visible\": isOpen ? 'true' : 'false',\n        \"data-vaul-handle\": \"\",\n        \"aria-hidden\": \"true\",\n        ...rest\n    }, /*#__PURE__*/ React__default.createElement(\"span\", {\n        \"data-vaul-handle-hitarea\": \"\",\n        \"aria-hidden\": \"true\"\n    }, children));\n});\nHandle.displayName = 'Drawer.Handle';\nfunction NestedRoot({ onDrag, onOpenChange, open: nestedIsOpen, ...rest }) {\n    const { onNestedDrag, onNestedOpenChange, onNestedRelease } = useDrawerContext();\n    if (!onNestedDrag) {\n        throw new Error('Drawer.NestedRoot must be placed in another drawer');\n    }\n    return /*#__PURE__*/ React__default.createElement(Root, {\n        nested: true,\n        open: nestedIsOpen,\n        onClose: ()=>{\n            onNestedOpenChange(false);\n        },\n        onDrag: (e, p)=>{\n            onNestedDrag(e, p);\n            onDrag == null ? void 0 : onDrag(e, p);\n        },\n        onOpenChange: (o)=>{\n            if (o) {\n                onNestedOpenChange(o);\n            }\n            onOpenChange == null ? void 0 : onOpenChange(o);\n        },\n        onRelease: onNestedRelease,\n        ...rest\n    });\n}\nfunction Portal(props) {\n    const context = useDrawerContext();\n    const { container = context.container, ...portalProps } = props;\n    return /*#__PURE__*/ React__default.createElement(DialogPrimitive.Portal, {\n        container: container,\n        ...portalProps\n    });\n}\nconst Drawer = {\n    Root,\n    NestedRoot,\n    Content,\n    Overlay,\n    Trigger: DialogPrimitive.Trigger,\n    Portal,\n    Handle,\n    Close: DialogPrimitive.Close,\n    Title: DialogPrimitive.Title,\n    Description: DialogPrimitive.Description\n};\n\nexport { Content, Drawer, Handle, NestedRoot, Overlay, Portal, Root };\n", "import * as React from \"react\";\nimport { Drawer as DrawerPrimitive } from \"vaul\";\nimport { cn } from \"../util/cn.js\";\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n);\nDrawer.displayName = \"Drawer\";\n\nconst DrawerTrigger: typeof DrawerPrimitive.Trigger = DrawerPrimitive.Trigger;\n\nconst DrawerPortal: typeof DrawerPrimitive.Portal = DrawerPrimitive.Portal;\n\nconst DrawerClose: typeof DrawerPrimitive.Close = DrawerPrimitive.Close;\n\nconst DrawerOverlay: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Overlay>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n));\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\n\nconst DrawerContent: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content> & {\n    hideBar?: boolean;\n  } & React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Content>>\n> = React.forwardRef(\n  ({ className, children, hideBar = true, ...props }, ref) => (\n    <DrawerPortal>\n      <DrawerOverlay />\n      <DrawerPrimitive.Content\n        ref={ref}\n        className={cn(\n          \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n          className,\n        )}\n        {...props}\n      >\n        {!hideBar && (\n          <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n        )}\n        {children}\n      </DrawerPrimitive.Content>\n    </DrawerPortal>\n  ),\n);\n\nDrawerContent.displayName = \"DrawerContent\";\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n);\nDrawerHeader.displayName = \"DrawerHeader\";\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n);\nDrawerFooter.displayName = \"DrawerFooter\";\n\nconst DrawerTitle: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Title>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className,\n    )}\n    {...props}\n  />\n));\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\n\nconst DrawerDescription: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Description>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\n\nexport {\n  Drawer,\n  DrawerClose,\n  DrawerContent,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerOverlay,\n  DrawerPortal,\n  DrawerTitle,\n  DrawerTrigger,\n};\n", "/**\n * @import {MDXComponents} from 'mdx/types.js'\n * @import {Component, ReactElement, ReactNode} from 'react'\n */\n\n/**\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Readonly<MDXComponents>} currentComponents\n *   Current components from the context.\n * @returns {MDXComponents}\n *   Additional components.\n *\n * @typedef Props\n *   Configuration for `MDXProvider`.\n * @property {ReactNode | null | undefined} [children]\n *   Children (optional).\n * @property {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context (default: `false`).\n */\n\nimport React from 'react'\n\n/** @type {Readonly<MDXComponents>} */\nconst emptyComponents = {}\n\nconst MDXContext = React.createContext(emptyComponents)\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @returns {MDXComponents}\n *   Current components.\n */\nexport function useMDXComponents(components) {\n  const contextComponents = React.useContext(MDXContext)\n\n  // Memoize to avoid unnecessary top-level context changes\n  return React.useMemo(\n    function () {\n      // Custom merge via a function prop\n      if (typeof components === 'function') {\n        return components(contextComponents)\n      }\n\n      return {...contextComponents, ...components}\n    },\n    [contextComponents, components]\n  )\n}\n\n/**\n * Provider for MDX context.\n *\n * @param {Readonly<Props>} properties\n *   Properties.\n * @returns {ReactElement}\n *   Element.\n * @satisfies {Component}\n */\nexport function MDXProvider(properties) {\n  /** @type {Readonly<MDXComponents>} */\n  let allComponents\n\n  if (properties.disableParentContext) {\n    allComponents =\n      typeof properties.components === 'function'\n        ? properties.components(emptyComponents)\n        : properties.components || emptyComponents\n  } else {\n    allComponents = useMDXComponents(properties.components)\n  }\n\n  return React.createElement(\n    MDXContext.Provider,\n    {value: allComponents},\n    properties.children\n  )\n}\n", "// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map", "// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map", "// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const queryFnContext = {\n            client: context.client,\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? \"backward\" : \"forward\",\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const page = await queryFn(\n            queryFnContext\n          );\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map", "// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map", "// src/hydration.ts\nfunction defaultTransformerFn(data) {\n  return data;\n}\nfunction dehydrateMutation(mutation) {\n  return {\n    mutationKey: mutation.options.mutationKey,\n    state: mutation.state,\n    ...mutation.options.scope && { scope: mutation.options.scope },\n    ...mutation.meta && { meta: mutation.meta }\n  };\n}\nfunction dehydrateQuery(query, serializeData, shouldRedactErrors) {\n  return {\n    state: {\n      ...query.state,\n      ...query.state.data !== void 0 && {\n        data: serializeData(query.state.data)\n      }\n    },\n    queryKey: query.queryKey,\n    queryHash: query.queryHash,\n    ...query.state.status === \"pending\" && {\n      promise: query.promise?.then(serializeData).catch((error) => {\n        if (!shouldRedactErrors(error)) {\n          return Promise.reject(error);\n        }\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `A query that was dehydrated as pending ended up rejecting. [${query.queryHash}]: ${error}; The error will be redacted in production builds`\n          );\n        }\n        return Promise.reject(new Error(\"redacted\"));\n      })\n    },\n    ...query.meta && { meta: query.meta }\n  };\n}\nfunction defaultShouldDehydrateMutation(mutation) {\n  return mutation.state.isPaused;\n}\nfunction defaultShouldDehydrateQuery(query) {\n  return query.state.status === \"success\";\n}\nfunction defaultShouldRedactErrors(_) {\n  return true;\n}\nfunction dehydrate(client, options = {}) {\n  const filterMutation = options.shouldDehydrateMutation ?? client.getDefaultOptions().dehydrate?.shouldDehydrateMutation ?? defaultShouldDehydrateMutation;\n  const mutations = client.getMutationCache().getAll().flatMap(\n    (mutation) => filterMutation(mutation) ? [dehydrateMutation(mutation)] : []\n  );\n  const filterQuery = options.shouldDehydrateQuery ?? client.getDefaultOptions().dehydrate?.shouldDehydrateQuery ?? defaultShouldDehydrateQuery;\n  const shouldRedactErrors = options.shouldRedactErrors ?? client.getDefaultOptions().dehydrate?.shouldRedactErrors ?? defaultShouldRedactErrors;\n  const serializeData = options.serializeData ?? client.getDefaultOptions().dehydrate?.serializeData ?? defaultTransformerFn;\n  const queries = client.getQueryCache().getAll().flatMap(\n    (query) => filterQuery(query) ? [dehydrateQuery(query, serializeData, shouldRedactErrors)] : []\n  );\n  return { mutations, queries };\n}\nfunction hydrate(client, dehydratedState, options) {\n  if (typeof dehydratedState !== \"object\" || dehydratedState === null) {\n    return;\n  }\n  const mutationCache = client.getMutationCache();\n  const queryCache = client.getQueryCache();\n  const deserializeData = options?.defaultOptions?.deserializeData ?? client.getDefaultOptions().hydrate?.deserializeData ?? defaultTransformerFn;\n  const mutations = dehydratedState.mutations || [];\n  const queries = dehydratedState.queries || [];\n  mutations.forEach(({ state, ...mutationOptions }) => {\n    mutationCache.build(\n      client,\n      {\n        ...client.getDefaultOptions().hydrate?.mutations,\n        ...options?.defaultOptions?.mutations,\n        ...mutationOptions\n      },\n      state\n    );\n  });\n  queries.forEach(({ queryKey, state, queryHash, meta, promise }) => {\n    let query = queryCache.get(queryHash);\n    const data = state.data === void 0 ? state.data : deserializeData(state.data);\n    if (query) {\n      if (query.state.dataUpdatedAt < state.dataUpdatedAt) {\n        const { fetchStatus: _ignored, ...serializedState } = state;\n        query.setState({\n          ...serializedState,\n          data\n        });\n      }\n    } else {\n      query = queryCache.build(\n        client,\n        {\n          ...client.getDefaultOptions().hydrate?.queries,\n          ...options?.defaultOptions?.queries,\n          queryKey,\n          queryHash,\n          meta\n        },\n        // Reset fetch status to idle to avoid\n        // query being stuck in fetching state upon hydration\n        {\n          ...state,\n          data,\n          fetchStatus: \"idle\"\n        }\n      );\n    }\n    if (promise) {\n      const initialPromise = Promise.resolve(promise).then(deserializeData);\n      void query.fetch(void 0, { initialPromise });\n    }\n  });\n}\nexport {\n  defaultShouldDehydrateMutation,\n  defaultShouldDehydrateQuery,\n  dehydrate,\n  hydrate\n};\n//# sourceMappingURL=hydration.js.map", "\"use client\";\n\n// src/HydrationBoundary.tsx\nimport * as React from \"react\";\nimport { hydrate } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nvar hasProperty = (obj, key) => {\n  return typeof obj === \"object\" && obj !== null && key in obj;\n};\nvar HydrationBoundary = ({\n  children,\n  options = {},\n  state,\n  queryClient\n}) => {\n  const client = useQueryClient(queryClient);\n  const [hydrationQueue, setHydrationQueue] = React.useState();\n  const optionsRef = React.useRef(options);\n  optionsRef.current = options;\n  React.useMemo(() => {\n    if (state) {\n      if (typeof state !== \"object\") {\n        return;\n      }\n      const queryCache = client.getQueryCache();\n      const queries = state.queries || [];\n      const newQueries = [];\n      const existingQueries = [];\n      for (const dehydratedQuery of queries) {\n        const existingQuery = queryCache.get(dehydratedQuery.queryHash);\n        if (!existingQuery) {\n          newQueries.push(dehydratedQuery);\n        } else {\n          const hydrationIsNewer = dehydratedQuery.state.dataUpdatedAt > existingQuery.state.dataUpdatedAt || // RSC special serialized then-able chunks\n          hasProperty(dehydratedQuery.promise, \"status\") && hasProperty(existingQuery.promise, \"status\") && dehydratedQuery.promise.status !== existingQuery.promise.status;\n          const queryAlreadyQueued = hydrationQueue?.find(\n            (query) => query.queryHash === dehydratedQuery.queryHash\n          );\n          if (hydrationIsNewer && (!queryAlreadyQueued || dehydratedQuery.state.dataUpdatedAt > queryAlreadyQueued.state.dataUpdatedAt)) {\n            existingQueries.push(dehydratedQuery);\n          }\n        }\n      }\n      if (newQueries.length > 0) {\n        hydrate(client, { queries: newQueries }, optionsRef.current);\n      }\n      if (existingQueries.length > 0) {\n        setHydrationQueue(\n          (prev) => prev ? [...prev, ...existingQueries] : existingQueries\n        );\n      }\n    }\n  }, [client, hydrationQueue, state]);\n  React.useEffect(() => {\n    if (hydrationQueue) {\n      hydrate(client, { queries: hydrationQueue }, optionsRef.current);\n      setHydrationQueue(void 0);\n    }\n  }, [client, hydrationQueue]);\n  return children;\n};\nexport {\n  HydrationBoundary\n};\n//# sourceMappingURL=HydrationBoundary.js.map", "import { ErrorAlert } from \"./ErrorAlert.js\";\n\nexport function ServerError({ error }: { error: unknown }) {\n  return <ErrorAlert error={error} />;\n}\n", "/**\n * react-router v7.5.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport {\n  FrameworkContext,\n  RemixErrorBoundary,\n  RouterProvider,\n  createBrowserHistory,\n  createClientRoutes,\n  createClientRoutesWithHMRRevalidationOptOut,\n  createRouter,\n  decodeViaTurboStream,\n  deserializeErrors,\n  getPatchRoutesOnNavigationFunction,\n  getSingleFetchDataStrategy,\n  invariant,\n  mapRouteProperties,\n  matchRoutes,\n  shouldHydrateRouteLoader,\n  useFogOFWarDiscovery\n} from \"./chunk-KNED5TY2.mjs\";\n\n// lib/dom-export/dom-router-provider.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nfunction RouterProvider2(props) {\n  return /* @__PURE__ */ React.createElement(RouterProvider, { flushSync: ReactDOM.flushSync, ...props });\n}\n\n// lib/dom-export/hydrated-router.tsx\nimport * as React2 from \"react\";\nvar ssrInfo = null;\nvar router = null;\nfunction initSsrInfo() {\n  if (!ssrInfo && window.__reactRouterContext && window.__reactRouterManifest && window.__reactRouterRouteModules) {\n    if (window.__reactRouterManifest.sri === true) {\n      const importMap = document.querySelector(\"script[rr-importmap]\");\n      if (importMap?.textContent) {\n        try {\n          window.__reactRouterManifest.sri = JSON.parse(\n            importMap.textContent\n          ).integrity;\n        } catch (err) {\n          console.error(\"Failed to parse import map\", err);\n        }\n      }\n    }\n    ssrInfo = {\n      context: window.__reactRouterContext,\n      manifest: window.__reactRouterManifest,\n      routeModules: window.__reactRouterRouteModules,\n      stateDecodingPromise: void 0,\n      router: void 0,\n      routerInitialized: false\n    };\n  }\n}\nfunction createHydratedRouter({\n  unstable_getContext\n}) {\n  initSsrInfo();\n  if (!ssrInfo) {\n    throw new Error(\n      \"You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`\"\n    );\n  }\n  let localSsrInfo = ssrInfo;\n  if (!ssrInfo.stateDecodingPromise) {\n    let stream = ssrInfo.context.stream;\n    invariant(stream, \"No stream found for single fetch decoding\");\n    ssrInfo.context.stream = void 0;\n    ssrInfo.stateDecodingPromise = decodeViaTurboStream(stream, window).then((value) => {\n      ssrInfo.context.state = value.value;\n      localSsrInfo.stateDecodingPromise.value = true;\n    }).catch((e) => {\n      localSsrInfo.stateDecodingPromise.error = e;\n    });\n  }\n  if (ssrInfo.stateDecodingPromise.error) {\n    throw ssrInfo.stateDecodingPromise.error;\n  }\n  if (!ssrInfo.stateDecodingPromise.value) {\n    throw ssrInfo.stateDecodingPromise;\n  }\n  let routes = createClientRoutes(\n    ssrInfo.manifest.routes,\n    ssrInfo.routeModules,\n    ssrInfo.context.state,\n    ssrInfo.context.ssr,\n    ssrInfo.context.isSpaMode\n  );\n  let hydrationData = void 0;\n  let loaderData = ssrInfo.context.state.loaderData;\n  if (ssrInfo.context.isSpaMode) {\n    if (ssrInfo.manifest.routes.root?.hasLoader && loaderData && \"root\" in loaderData) {\n      hydrationData = {\n        loaderData: {\n          root: loaderData.root\n        }\n      };\n    }\n  } else {\n    hydrationData = {\n      ...ssrInfo.context.state,\n      loaderData: { ...loaderData }\n    };\n    let initialMatches = matchRoutes(\n      routes,\n      window.location,\n      window.__reactRouterContext?.basename\n    );\n    if (initialMatches) {\n      for (let match of initialMatches) {\n        let routeId = match.route.id;\n        let route = ssrInfo.routeModules[routeId];\n        let manifestRoute = ssrInfo.manifest.routes[routeId];\n        if (route && manifestRoute && shouldHydrateRouteLoader(\n          manifestRoute,\n          route,\n          ssrInfo.context.isSpaMode\n        ) && (route.HydrateFallback || !manifestRoute.hasLoader)) {\n          delete hydrationData.loaderData[routeId];\n        } else if (manifestRoute && !manifestRoute.hasLoader) {\n          hydrationData.loaderData[routeId] = null;\n        }\n      }\n    }\n    if (hydrationData && hydrationData.errors) {\n      hydrationData.errors = deserializeErrors(hydrationData.errors);\n    }\n  }\n  let router2 = createRouter({\n    routes,\n    history: createBrowserHistory(),\n    basename: ssrInfo.context.basename,\n    unstable_getContext,\n    hydrationData,\n    mapRouteProperties,\n    future: {\n      unstable_middleware: ssrInfo.context.future.unstable_middleware\n    },\n    dataStrategy: getSingleFetchDataStrategy(\n      ssrInfo.manifest,\n      ssrInfo.routeModules,\n      ssrInfo.context.ssr,\n      ssrInfo.context.basename,\n      () => router2\n    ),\n    patchRoutesOnNavigation: getPatchRoutesOnNavigationFunction(\n      ssrInfo.manifest,\n      ssrInfo.routeModules,\n      ssrInfo.context.ssr,\n      ssrInfo.context.isSpaMode,\n      ssrInfo.context.basename\n    )\n  });\n  ssrInfo.router = router2;\n  if (router2.state.initialized) {\n    ssrInfo.routerInitialized = true;\n    router2.initialize();\n  }\n  router2.createRoutesForHMR = /* spacer so ts-ignore does not affect the right hand of the assignment */\n  createClientRoutesWithHMRRevalidationOptOut;\n  window.__reactRouterDataRouter = router2;\n  return router2;\n}\nfunction HydratedRouter(props) {\n  if (!router) {\n    router = createHydratedRouter({\n      unstable_getContext: props.unstable_getContext\n    });\n  }\n  let [criticalCss, setCriticalCss] = React2.useState(\n    process.env.NODE_ENV === \"development\" ? ssrInfo?.context.criticalCss : void 0\n  );\n  if (process.env.NODE_ENV === \"development\") {\n    if (ssrInfo) {\n      window.__reactRouterClearCriticalCss = () => setCriticalCss(void 0);\n    }\n  }\n  let [location, setLocation] = React2.useState(router.state.location);\n  React2.useLayoutEffect(() => {\n    if (ssrInfo && ssrInfo.router && !ssrInfo.routerInitialized) {\n      ssrInfo.routerInitialized = true;\n      ssrInfo.router.initialize();\n    }\n  }, []);\n  React2.useLayoutEffect(() => {\n    if (ssrInfo && ssrInfo.router) {\n      return ssrInfo.router.subscribe((newState) => {\n        if (newState.location !== location) {\n          setLocation(newState.location);\n        }\n      });\n    }\n  }, [location]);\n  invariant(ssrInfo, \"ssrInfo unavailable for HydratedRouter\");\n  useFogOFWarDiscovery(\n    router,\n    ssrInfo.manifest,\n    ssrInfo.routeModules,\n    ssrInfo.context.ssr,\n    ssrInfo.context.isSpaMode\n  );\n  return (\n    // This fragment is important to ensure we match the <ServerRouter> JSX\n    // structure so that useId values hydrate correctly\n    /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\n      FrameworkContext.Provider,\n      {\n        value: {\n          manifest: ssrInfo.manifest,\n          routeModules: ssrInfo.routeModules,\n          future: ssrInfo.context.future,\n          criticalCss,\n          ssr: ssrInfo.context.ssr,\n          isSpaMode: ssrInfo.context.isSpaMode\n        }\n      },\n      /* @__PURE__ */ React2.createElement(RemixErrorBoundary, { location }, /* @__PURE__ */ React2.createElement(RouterProvider2, { router }))\n    ), /* @__PURE__ */ React2.createElement(React2.Fragment, null))\n  );\n}\nexport {\n  HydratedRouter,\n  RouterProvider2 as RouterProvider\n};\n", "import {\n  Children,\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\n\nexport const StaggeredRenderContext = createContext({ stagger: false });\n\nconst StaggeredRender = ({ children }: { children: ReactNode[] }) => {\n  const { stagger } = useContext(StaggeredRenderContext);\n  const [renderAll, setRenderAll] = useState(!stagger);\n\n  useEffect(() => {\n    if (renderAll) {\n      return;\n    }\n\n    const idle = requestIdleCallback(() => {\n      setRenderAll(true);\n    });\n\n    return () => cancelIdleCallback(idle);\n  }, [renderAll]);\n\n  return !renderAll ? Children.toArray(children).slice(0, 3) : children;\n};\n\nexport default StaggeredRender;\n", "import {\n  HydrationBoundary,\n  QueryClient,\n  QueryClientProvider,\n} from \"@tanstack/react-query\";\nimport { type HelmetData, HelmetProvider } from \"@zudoku/react-helmet-async\";\nimport { StrictMode } from \"react\";\nimport {\n  type createBrowserRouter,\n  type createStaticRouter,\n  type StaticHandlerContext,\n  StaticRouterProvider,\n} from \"react-router\";\nimport { RouterProvider } from \"react-router/dom\";\nimport { StaggeredRenderContext } from \"../plugins/openapi/StaggeredRender.js\";\nimport { BypassProtectedRoutesContext } from \"./context/BypassProtectedRoutesContext.js\";\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5,\n    },\n  },\n});\n\nconst Bootstrap = ({\n  router,\n  hydrate = false,\n}: {\n  hydrate?: boolean;\n  router: ReturnType<typeof createBrowserRouter>;\n}) => (\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <HydrationBoundary state={hydrate ? (window as any).DATA : undefined}>\n        <BypassProtectedRoutesContext value={false}>\n          <HelmetProvider>\n            <StaggeredRenderContext.Provider value={{ stagger: !hydrate }}>\n              <RouterProvider router={router} />\n            </StaggeredRenderContext.Provider>\n          </HelmetProvider>\n        </BypassProtectedRoutesContext>\n      </HydrationBoundary>\n    </QueryClientProvider>\n  </StrictMode>\n);\n\nconst BootstrapStatic = ({\n  router,\n  context,\n  queryClient,\n  helmetContext,\n  bypassProtection = false,\n}: {\n  helmetContext: HelmetData[\"context\"];\n  context: StaticHandlerContext;\n  queryClient: QueryClient;\n  router: ReturnType<typeof createStaticRouter>;\n  bypassProtection?: boolean;\n}) => (\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <HelmetProvider context={helmetContext}>\n        <BypassProtectedRoutesContext value={bypassProtection}>\n          <StaticRouterProvider router={router} context={context} />\n        </BypassProtectedRoutesContext>\n      </HelmetProvider>\n    </QueryClientProvider>\n  </StrictMode>\n);\n\nexport { Bootstrap, BootstrapStatic };\n", "import { useEffect, useRef } from \"react\";\nimport { useLocation } from \"react-router\";\n\nexport const useScrollToTop = () => {\n  const location = useLocation();\n  const previousPath = useRef(location.pathname);\n\n  useEffect(() => {\n    const isNewPage = previousPath.current !== location.pathname;\n    const hasAnchor = location.hash !== \"\";\n\n    if (isNewPage && !hasAnchor) {\n      window.scrollTo(0, 0);\n    }\n\n    previousPath.current = location.pathname;\n  }, [location.pathname, location.hash]);\n};\n", "import { ExternalLink as ExternalLinkIcon } from \"lucide-react\";\nimport type { CSSProperties, ReactNode } from \"react\";\nimport type { FooterSocialIcons } from \"../../config/validators/common.js\";\nimport { cn } from \"../util/cn.js\";\nimport { AnchorLink } from \"./AnchorLink.js\";\nimport { useZudoku } from \"./index.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nconst SocialIcon = ({\n  icon,\n}: {\n  icon: (typeof FooterSocialIcons)[number] | ReactNode;\n}) => {\n  if (typeof icon === \"string\") {\n    return (\n      <img\n        src={`https://cdn.simpleicons.org/${icon}/000000/ffffff`}\n        className=\"size-5\"\n        alt={icon}\n      />\n    );\n  }\n  return icon;\n};\n\nconst isExternalUrl = (href: string) => /^https?:/.test(href);\n\nexport const Footer = () => {\n  const { page } = useZudoku();\n  const footer = page?.footer;\n\n  if (!footer) return null;\n\n  return (\n    <footer className=\"border-t bg-background\">\n      <div className=\"mx-auto max-w-screen-2xl px-4 lg:px-8 py-8 pt-20\">\n        <div\n          className={cn(\"flex flex-row gap-8\", {\n            \"justify-center\": !footer.position || footer.position === \"center\",\n            \"justify-start\": footer.position === \"start\",\n            \"justify-end\": footer.position === \"end\",\n          })}\n        >\n          <Slotlet name=\"footer-before\" />\n          {footer.columns && (\n            <div\n              className=\"w-full md:max-w-screen-md grid grid-cols-[1fr_1fr] gap-8 md:grid-cols-[repeat(var(--columns),minmax(0,1fr))]\"\n              style={{ \"--columns\": footer.columns.length } as CSSProperties}\n            >\n              {footer.columns.map((column) => (\n                <div\n                  className={cn({\n                    \"justify-self-center\":\n                      !column.position || column.position === \"center\",\n                    \"justify-self-start\": column.position === \"start\",\n                    \"justify-self-end\": column.position === \"end\",\n                  })}\n                  key={column.title}\n                >\n                  <span className=\"text-sm font-semibold\">{column.title}</span>\n                  <ul className=\"mt-4 space-y-2\">\n                    {column.links.map((link, i) => {\n                      const className =\n                        \"flex flex-row gap-1 items-center text-sm text-muted-foreground hover:text-accent-foreground\";\n\n                      return (\n                        <li key={link.href + i}>\n                          {isExternalUrl(link.href) ? (\n                            <a\n                              href={link.href}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className={className}\n                            >\n                              <span>{link.label}</span>\n                              <ExternalLinkIcon size={12} />\n                            </a>\n                          ) : (\n                            <AnchorLink\n                              to={link.href + i}\n                              className={className}\n                            >\n                              <span>{link.label}</span>\n                            </AnchorLink>\n                          )}\n                        </li>\n                      );\n                    })}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          )}\n          <Slotlet name=\"footer-after\" />\n        </div>\n        <div\n          className={cn(\n            \"flex items-center justify-between\",\n            footer.columns && \"border-t mt-8 pt-8\",\n          )}\n        >\n          {footer.logo && (\n            <>\n              <img\n                src={footer.logo.src.light}\n                alt={footer.logo.alt}\n                className=\"w-8 dark:hidden\"\n                style={{ width: footer.logo.width }}\n              />\n              <img\n                src={footer.logo.src.dark}\n                alt={footer.logo.alt}\n                className=\"w-8 hidden dark:block\"\n                style={{ width: footer.logo.width }}\n              />\n            </>\n          )}\n          {footer.copyright && (\n            <p className=\"text-sm text-muted-foreground\">{footer.copyright}</p>\n          )}\n          <div className=\"flex items-center gap-2\">\n            {footer.social?.map((social) => (\n              <a\n                key={social.href}\n                href={social.href}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"w-auto gap-2 flex text-muted-foreground hover:text-accent-foreground\"\n              >\n                <SocialIcon icon={social.icon} />\n                {social.label}\n              </a>\n            ))}\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n", "import { cn } from \"../util/cn.js\";\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Skeleton };\n", "import { CircleXIcon } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { cn } from \"../util/cn.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\n\nconst COLOR_MAP = {\n  info: \"bg-blue-500\",\n  note: \"bg-gray-500\",\n  tip: \"bg-green-600\",\n  caution: \"bg-orange-500\",\n  danger: \"bg-rose-500\",\n} as const;\n\nexport const Banner = () => {\n  const { page } = useZudoku();\n  const [isBannerOpen, setIsBannerOpen] = useState(true);\n\n  if (!page?.banner || !isBannerOpen) {\n    return <style>{`:root { --banner-height: 0px; }`}</style>;\n  }\n\n  const mappedColor =\n    page.banner.color && page.banner.color in COLOR_MAP\n      ? COLOR_MAP[page.banner.color as keyof typeof COLOR_MAP]\n      : !page.banner.color\n        ? \"bg-primary\"\n        : undefined;\n\n  const style = !mappedColor ? { backgroundColor: page.banner.color } : {};\n\n  return (\n    <div\n      className={cn(\n        \"relative text-primary-foreground text-sm font-medium px-4 py-2 flex gap-2 items-center\",\n        mappedColor,\n      )}\n      data-pagefind-ignore=\"all\"\n      style={style}\n    >\n      <div className=\"w-full\">{page.banner.message}</div>\n      {page.banner.dismissible && (\n        <button\n          type=\"button\"\n          className=\"md:absolute md:right-4 -m-1.5 p-1.5 hover:bg-accent-foreground/10 rounded-md\"\n          onClick={() => setIsBannerOpen(false)}\n        >\n          <CircleXIcon size={16} />\n        </button>\n      )}\n    </div>\n  );\n};\n", "import * as React from \"react\";\n\nconst ZudokuLogo = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 132 100\"\n    fill=\"none\"\n    {...props}\n  >\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M80.092 2.963A4.66 4.66 0 0 1 84.449 0h34.049c6.325 0 10.835 6.135 8.948 12.172L116.653 46.71a4.688 4.688 0 0 1-4.474 3.29H75c-5.178 0-7.813 4.687-9.375 9.374-1.288 3.864-11.07 28.963-14.467 37.662A4.66 4.66 0 0 1 46.801 100H12.75c-6.324 0-10.834-6.134-8.947-12.171l10.793-34.54A4.688 4.688 0 0 1 19.071 50H56.25c5.178 0 7.813-4.687 9.375-9.375 1.288-3.864 11.07-28.962 14.467-37.662Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      d=\"M83.54 57.813a7.813 7.813 0 0 0-7.316 5.07L63.888 95.777c-.766 2.043.744 4.222 2.926 4.222h36.828c5.211 0 9.875-3.232 11.704-8.11l8.821-23.522c1.915-5.107-1.861-10.555-7.315-10.555H83.539ZM29.17 0a12.5 12.5 0 0 0-11.704 8.111l-8.82 23.521c-1.915 5.107 1.86 10.556 7.315 10.556h33.312a7.813 7.813 0 0 0 7.316-5.07L68.924 4.223C69.691 2.18 68.18 0 65.998 0H29.17Z\"\n    />\n  </svg>\n);\n\nZudokuLogo.displayName = \"ZudokuLogo\";\n\nexport default ZudokuLogo;\n", "import { ChevronRightIcon } from \"lucide-react\";\nimport { cn } from \"../../util/cn.js\";\nimport ZudokuLogo from \"./ZudokuLogo.js\";\n\nexport const PoweredByZudoku = ({ className }: { className?: string }) => (\n  <a\n    href=\"https://zudoku.dev\"\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    className={cn(\n      \"flex justify-between items-center w-full border border-transparent hover:border-border rounded-full hover:shadow-sm h-7 px-3 text-nowrap hover:bg-muted/80 transition-all\",\n      className,\n    )}\n  >\n    <div className=\"opacity-70 hover:opacity-100 transition-opacity gap-1.5 text-[11px] font-medium rounded-full h-7 flex items-center text-nowrap\">\n      <ZudokuLogo className=\"w-3.5 h-3.5 dark:fill-white\" />\n      powered by Zudoku\n    </div>\n    <div className=\"text-xs font-medium opacity-70 hover:text-foreground transition-colors cursor-pointer\">\n      <ChevronRightIcon size={12} absoluteStrokeWidth strokeWidth={1.5} />\n    </div>\n  </a>\n);\n", "export function detectOS() {\n  const userAgent = navigator.userAgent.toLowerCase();\n\n  if (userAgent.includes(\"win\")) return \"Windows\";\n  if (userAgent.includes(\"mac\")) return \"macOS\";\n  if (userAgent.includes(\"linux\")) return \"Linux\";\n\n  return undefined;\n}\n", "import { SearchIcon } from \"lucide-react\";\nimport { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { isSearchPlugin } from \"../core/plugins.js\";\nimport { detectOS } from \"../util/detectOS.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\n\nexport const Search = ({ className }: { className?: string }) => {\n  const ctx = useZudoku();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onClose = useCallback(() => setIsOpen(false), []);\n\n  useEffect(() => {\n    if (isOpen) {\n      return;\n    }\n\n    function onKeyDown(event: KeyboardEvent) {\n      if (event.key === \"k\" && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        setIsOpen(true);\n      }\n    }\n\n    window.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [isOpen, setIsOpen]);\n\n  const searchPlugin = ctx.plugins.find(isSearchPlugin);\n\n  if (!searchPlugin) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n        className=\"flex items-center border border-input hover:bg-accent hover:text-accent-foreground p-4 relative h-8 justify-start rounded-lg bg-background text-sm text-muted-foreground shadow-none w-full sm:w-72\"\n      >\n        <div className=\"flex items-center gap-2 flex-grow\">\n          <SearchIcon size={14} />\n          Search\n        </div>\n        <ClientOnly>\n          <KbdShortcut />\n        </ClientOnly>\n      </button>\n      <Suspense fallback={null}>\n        {searchPlugin.renderSearch({\n          isOpen,\n          onClose,\n        })}\n      </Suspense>\n    </div>\n  );\n};\n\nconst KbdShortcut = () => {\n  const os = detectOS();\n  return (\n    <kbd className=\"absolute right-[0.3rem] top-[0.35rem] hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[11px] font-medium opacity-100 sm:flex\">\n      {os === \"macOS\" ? \"⌘\" : \"Ctrl\"}+K\n    </kbd>\n  );\n};\n", "import { MoonIcon, SunIcon } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport { cn } from \"../util/cn.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\n\nexport const ThemeSwitch = () => {\n  const { resolvedTheme, setTheme } = useTheme();\n\n  return (\n    <ClientOnly fallback={<Button variant=\"ghost\" size=\"icon\" />}>\n      <button\n        type=\"button\"\n        className=\"flex rounded-full border p-0.5 gap-0.5 group\"\n        onClick={() => setTheme(resolvedTheme === \"dark\" ? \"light\" : \"dark\")}\n        aria-label={\n          resolvedTheme === \"dark\"\n            ? \"Switch to light mode\"\n            : \"Switch to dark mode\"\n        }\n      >\n        <div\n          className={cn(\n            \"border border-transparent rounded-full p-0.5 [&>svg>circle]:transition-colors [&>svg>path]:transition-transform transition-all [&>svg>path]:duration-200 [&>svg>circle]:duration-500 [&>svg>circle]:fill-transparent\",\n            resolvedTheme === \"light\" && \"border-border bg-muted\",\n            resolvedTheme === \"dark\" &&\n              \"group-hover:[&>svg>path]:scale-110 group-hover:[&>svg>path]:-translate-x-[1px] group-hover:[&>svg>path]:-translate-y-[1px] group-hover:rotate-[15deg] \",\n          )}\n        >\n          <SunIcon size={16} />\n        </div>\n        <div\n          className={cn(\n            \"border border-transparent rounded-full p-0.5 transition-transform transform-gpu duration-500\",\n            resolvedTheme === \"dark\" &&\n              \"border-border bg-muted [&>svg>path]:fill-white [&>svg>path]:stroke-transparent\",\n            resolvedTheme === \"light\" &&\n              \"group-hover:rotate-[-10deg] [&>svg>path]:stroke-currentColor\",\n          )}\n        >\n          <MoonIcon size={16} />\n        </div>\n      </button>\n    </ClientOnly>\n  );\n};\n", "function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };", "/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n", "/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n", "'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n", "import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/extends';\nimport * as React from 'react';\nimport { useEffect, useRef, useCallback, useState } from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\n\nvar clamp = function clamp(num, lower, upper) {\n  num = num <= upper ? num : upper;\n  num = num >= lower ? num : lower;\n  return num;\n};\n\nvar createQueue = function createQueue() {\n  var isRunning = false;\n  var pending = [];\n  var _next = function next() {\n    isRunning = true;\n    var cb = pending.shift();\n    if (cb) {\n      return cb(_next);\n    }\n    isRunning = false;\n  };\n  var clear = function clear() {\n    isRunning = false;\n    pending = [];\n  };\n  var enqueue = function enqueue(cb) {\n    pending.push(cb);\n    if (!isRunning && pending.length === 1) {\n      _next();\n    }\n  };\n  return {\n    clear: clear,\n    enqueue: enqueue\n  };\n};\n\nvar createTimeout = function createTimeout() {\n  var handle;\n  var cancel = function cancel() {\n    if (handle) {\n      window.cancelAnimationFrame(handle);\n    }\n  };\n  var schedule = function schedule(callback, delay) {\n    var deltaTime;\n    var start;\n    var _frame = function frame(time) {\n      start = start || time;\n      deltaTime = time - start;\n      if (deltaTime > delay) {\n        callback();\n        return;\n      }\n      handle = window.requestAnimationFrame(_frame);\n    };\n    handle = window.requestAnimationFrame(_frame);\n  };\n  return {\n    cancel: cancel,\n    schedule: schedule\n  };\n};\n\nvar increment = function increment(progress) {\n  var amount = 0;\n  if (progress >= 0 && progress < 0.2) {\n    amount = 0.1;\n  } else if (progress >= 0.2 && progress < 0.5) {\n    amount = 0.04;\n  } else if (progress >= 0.5 && progress < 0.8) {\n    amount = 0.02;\n  } else if (progress >= 0.8 && progress < 0.99) {\n    amount = 0.005;\n  }\n  return clamp(progress + amount, 0, 0.994);\n};\n\n// Hat-tip:\n// https://github.com/streamich/react-use/blob/master/src/useEffectOnce.ts.\n//\n// `react-use` appears to be unmaintained, so moving the required code into\n// this project for now.\nvar useEffectOnce = function useEffectOnce(effect) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(effect, []);\n};\n\nvar incrementParameter = function incrementParameter(num) {\n  return ++num % 1000000;\n};\nvar useUpdate = function useUpdate() {\n  var _useState = useState(0),\n    setState = _useState[1];\n  return useCallback(function () {\n    return setState(incrementParameter);\n  }, []);\n};\nvar useGetSetState = function useGetSetState(/* istanbul ignore next */\ninitialState) {\n  if (initialState === undefined) {\n    initialState = {};\n  }\n  var update = useUpdate();\n  var state = useRef(_extends({}, initialState));\n  var get = useCallback(function () {\n    return state.current;\n  }, []);\n  var set = useCallback(function (patch) {\n    if (!patch) {\n      return;\n    }\n    Object.assign(state.current, patch);\n    update();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return [get, set];\n};\n\n// Hat-tip:\n// https://github.com/streamich/react-use/blob/master/src/useUpdateEffect.ts.\n//\n// `react-use` appears to be unmaintained, so moving the required code into\n// this project for now.\nvar useFirstMountState = function useFirstMountState() {\n  var isFirst = useRef(true);\n  if (isFirst.current) {\n    isFirst.current = false;\n    return true;\n  }\n  return isFirst.current;\n};\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var isFirstMount = useFirstMountState();\n  useEffect(function () {\n    if (!isFirstMount) {\n      return effect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n};\n\n/* istanbul ignore next */\nvar noop = function noop() {\n  return undefined;\n};\nvar initialState = {\n  isFinished: true,\n  progress: 0,\n  sideEffect: noop\n};\nvar useNProgress = function useNProgress(_temp) {\n  var _ref = _temp === undefined ? {} : _temp,\n    _ref$animationDuratio = _ref.animationDuration,\n    animationDuration = _ref$animationDuratio === undefined ? 200 : _ref$animationDuratio,\n    _ref$incrementDuratio = _ref.incrementDuration,\n    incrementDuration = _ref$incrementDuratio === undefined ? 800 : _ref$incrementDuratio,\n    _ref$isAnimating = _ref.isAnimating,\n    isAnimating = _ref$isAnimating === undefined ? false : _ref$isAnimating,\n    _ref$minimum = _ref.minimum,\n    minimum = _ref$minimum === undefined ? 0.08 : _ref$minimum;\n  var _useGetSetState = useGetSetState(initialState),\n    get = _useGetSetState[0],\n    setState = _useGetSetState[1];\n  var queue = useRef(null);\n  var timeout = useRef(null);\n  useEffectOnce(function () {\n    queue.current = createQueue();\n    timeout.current = createTimeout();\n  });\n  var cleanup = useCallback(function () {\n    var _timeout$current, _queue$current;\n    (_timeout$current = timeout.current) == null || _timeout$current.cancel();\n    (_queue$current = queue.current) == null || _queue$current.clear();\n  }, []);\n  var set = useCallback(function (n) {\n    var _queue$current4;\n    n = clamp(n, minimum, 1);\n    if (n === 1) {\n      var _queue$current2, _queue$current3;\n      cleanup();\n      (_queue$current2 = queue.current) == null || _queue$current2.enqueue(function (next) {\n        setState({\n          progress: n,\n          sideEffect: function sideEffect() {\n            var _timeout$current2;\n            return (_timeout$current2 = timeout.current) == null ? undefined : _timeout$current2.schedule(next, animationDuration);\n          }\n        });\n      });\n      (_queue$current3 = queue.current) == null || _queue$current3.enqueue(function () {\n        setState({\n          isFinished: true,\n          sideEffect: cleanup\n        });\n      });\n      return;\n    }\n    (_queue$current4 = queue.current) == null || _queue$current4.enqueue(function (next) {\n      setState({\n        isFinished: false,\n        progress: n,\n        sideEffect: function sideEffect() {\n          var _timeout$current3;\n          return (_timeout$current3 = timeout.current) == null ? undefined : _timeout$current3.schedule(next, animationDuration);\n        }\n      });\n    });\n  }, [animationDuration, cleanup, minimum, queue, setState, timeout]);\n  var trickle = useCallback(function () {\n    set(increment(get().progress));\n  }, [get, set]);\n  var start = useCallback(function () {\n    var _work = function work() {\n      var _queue$current5;\n      trickle();\n      (_queue$current5 = queue.current) == null || _queue$current5.enqueue(function (next) {\n        var _timeout$current4;\n        (_timeout$current4 = timeout.current) == null || _timeout$current4.schedule(function () {\n          _work();\n          next();\n        }, incrementDuration);\n      });\n    };\n    _work();\n  }, [incrementDuration, queue, timeout, trickle]);\n  var savedTrickle = useRef(noop);\n  var sideEffect = get().sideEffect;\n  useEffect(function () {\n    savedTrickle.current = trickle;\n  });\n  useEffectOnce(function () {\n    if (isAnimating) {\n      start();\n    }\n    return cleanup;\n  });\n  useUpdateEffect(function () {\n    get().sideEffect();\n  }, [get, sideEffect]);\n  useUpdateEffect(function () {\n    if (!isAnimating) {\n      set(1);\n    } else {\n      setState(_extends({}, initialState, {\n        sideEffect: start\n      }));\n    }\n  }, [isAnimating, set, setState, start]);\n  return {\n    animationDuration: animationDuration,\n    isFinished: get().isFinished,\n    progress: get().progress\n  };\n};\n\nvar _excluded = [\"children\"];\nvar NProgress = function NProgress(_ref) {\n  var children = _ref.children,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var renderProps = useNProgress(restProps);\n  return children(renderProps);\n};\n\nfunction withNProgress(BaseComponent) {\n  var WithNProgress = function WithNProgress(props) {\n    var hookProps = useNProgress(props);\n    return /*#__PURE__*/React.createElement(BaseComponent, _extends({}, props, hookProps));\n  };\n  hoistNonReactStatics(WithNProgress, BaseComponent);\n  return WithNProgress;\n}\n\nexport { NProgress, useNProgress, withNProgress };\n//# sourceMappingURL=react-nprogress.esm.js.map\n", "import { useNProgress } from \"@tanem/react-nprogress\";\nimport { cx } from \"class-variance-authority\";\nimport { Suspense, useEffect, useState } from \"react\";\nimport { NavLink, useNavigation } from \"react-router\";\nimport type { TopNavigationItem } from \"../../config/validators/common.js\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { useCurrentNavigation, useZudoku } from \"./context/ZudokuContext.js\";\nimport { traverseSidebar } from \"./navigation/utils.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nexport const isHiddenItem =\n  (isAuthenticated?: boolean) =>\n  (item: { display?: \"auth\" | \"anon\" | \"always\" | \"hide\" }): boolean => {\n    if (item.display === \"hide\") return false;\n    return (\n      (item.display === \"auth\" && isAuthenticated) ||\n      (item.display === \"anon\" && !isAuthenticated) ||\n      !item.display ||\n      item.display === \"always\"\n    );\n  };\n\nexport const PageProgress = () => {\n  const navigation = useNavigation();\n  const isNavigating = navigation.state === \"loading\";\n  // delay the animation to avoid flickering\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setIsAnimating(isNavigating), 100);\n\n    return () => clearTimeout(timer);\n  }, [isNavigating]);\n\n  const { isFinished, progress } = useNProgress({ isAnimating });\n\n  return (\n    <div\n      className=\"absolute w-0 left-0 right-0 bottom-[-1px] h-[2px] bg-primary transition-all duration-300 ease-in-out\"\n      style={{\n        opacity: isFinished ? 0 : 1,\n        width: isFinished ? 0 : `${progress * 100}%`,\n      }}\n    />\n  );\n};\n\nexport const TopNavigation = () => {\n  const { topNavigation } = useZudoku();\n  const { isAuthenticated } = useAuth();\n\n  const filteredItems = topNavigation.filter(isHiddenItem(isAuthenticated));\n\n  if (filteredItems.length === 0) {\n    return <style>{`:root { --top-nav-height: 0px; }`}</style>;\n  }\n\n  return (\n    <Suspense>\n      <div className=\"items-center justify-between px-8 h-[--top-nav-height] hidden lg:flex text-sm relative\">\n        <nav className=\"text-sm\">\n          <ul className=\"flex flex-row items-center gap-8\">\n            {filteredItems.map((item) => (\n              <li key={item.id}>\n                <TopNavItem {...item} />\n              </li>\n            ))}\n          </ul>\n        </nav>\n        <Slotlet name=\"top-navigation-side\" />\n      </div>\n      <PageProgress />\n    </Suspense>\n  );\n};\n\nexport const TopNavItem = ({\n  id,\n  label,\n  default: defaultLink,\n}: TopNavigationItem) => {\n  const { sidebars } = useZudoku();\n  const currentSidebar = sidebars[id];\n  const currentNav = useCurrentNavigation();\n  const isNavigating = Boolean(useNavigation().location);\n  const isActive = currentNav.topNavItem?.id === id && !isNavigating;\n\n  // TODO: This is a bit of a hack to get the first link in the sidebar\n  // We should really process this when we load the config so we can validate\n  // that the sidebar is actually set. In this case we just fall back to linking\n  // to the id if we can't resolve a sidebar.\n  const first =\n    defaultLink ??\n    (currentSidebar\n      ? traverseSidebar(currentSidebar, (item) => {\n          if (item.type === \"doc\") return joinUrl(item.id);\n        })\n      : joinUrl(id)) ??\n    joinUrl(id);\n\n  return (\n    // We don't use isActive here because it has to be inside the sidebar,\n    // the top nav id doesn't necessarily start with the sidebar id\n    <NavLink\n      className={({ isPending }) =>\n        cx(\n          \"block lg:py-3.5 font-medium -mb-px\",\n          isActive || isPending\n            ? \"border-primary text-foreground\"\n            : \"border-transparent text-foreground/75 hover:text-foreground hover:border-accent-foreground/25\",\n        )\n      }\n      to={first}\n    >\n      {label}\n    </NavLink>\n  );\n};\n", "import { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport { MenuIcon } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport {\n  Drawer,\n  DrawerContent,\n  DrawerTitle,\n  DrawerTrigger,\n} from \"../ui/Drawer.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { PoweredByZudoku } from \"./navigation/PoweredByZudoku.js\";\nimport { Search } from \"./Search.js\";\nimport { ThemeSwitch } from \"./ThemeSwitch.js\";\nimport { isHiddenItem, PageProgress, TopNavItem } from \"./TopNavigation.js\";\n\nexport const MobileTopNavigation = () => {\n  const { topNavigation, options } = useZudoku();\n  const { isAuthenticated } = useAuth();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n\n  return (\n    <Drawer\n      direction=\"right\"\n      open={drawerOpen}\n      onOpenChange={(open) => setDrawerOpen(open)}\n    >\n      <div className=\"flex lg:hidden justify-self-end\">\n        <DrawerTrigger className=\"lg:hidden\">\n          <MenuIcon size={22} />\n        </DrawerTrigger>\n        <PageProgress />\n      </div>\n      <DrawerContent\n        className=\"lg:hidden h-[100dvh] right-0 left-auto w-[320px] rounded-none\"\n        aria-describedby={undefined}\n      >\n        <div className=\"p-4 overflow-y-auto overscroll-none h-full flex flex-col justify-between\">\n          <div>\n            <VisuallyHidden>\n              <DrawerTitle>Navigation</DrawerTitle>\n            </VisuallyHidden>\n            <Search className=\"flex p-4\" />\n            <ul className=\"flex flex-col items-center gap-4 p-4\">\n              <li>\n                <ThemeSwitch />\n              </li>\n              {topNavigation\n                .filter(isHiddenItem(isAuthenticated))\n                .map((item) => (\n                  <li key={item.label}>\n                    <button type=\"button\" onClick={() => setDrawerOpen(false)}>\n                      <TopNavItem {...item} />\n                    </button>\n                  </li>\n                ))}\n            </ul>\n          </div>\n          {options.page?.showPoweredBy !== false && (\n            <PoweredByZudoku className=\"flex-grow-0 justify-center gap-1\" />\n          )}\n        </div>\n      </DrawerContent>\n    </Drawer>\n  );\n};\n", "import { memo } from \"react\";\nimport { Link } from \"react-router\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport { Skeleton } from \"zudoku/ui/Skeleton.js\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport {\n  isProfileMenuPlugin,\n  type ProfileNavigationItem,\n} from \"../core/plugins.js\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from \"../ui/DropdownMenu.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { Banner } from \"./Banner.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { MobileTopNavigation } from \"./MobileTopNavigation.js\";\nimport { Search } from \"./Search.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\nimport { ThemeSwitch } from \"./ThemeSwitch.js\";\nimport { TopNavigation } from \"./TopNavigation.js\";\n\nconst RecursiveMenu = ({ item }: { item: ProfileNavigationItem }) => {\n  return item.children ? (\n    <DropdownMenuSub key={item.label}>\n      <DropdownMenuSubTrigger>{item.label}</DropdownMenuSubTrigger>\n      <DropdownMenuPortal>\n        <DropdownMenuSubContent>\n          {item.children.map((item, i) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <RecursiveMenu key={i} item={item} />\n          ))}\n        </DropdownMenuSubContent>\n      </DropdownMenuPortal>\n    </DropdownMenuSub>\n  ) : (\n    <Link to={item.path ?? \"\"}>\n      <DropdownMenuItem key={item.label} className=\"flex gap-2\">\n        {item.icon && (\n          <item.icon size={16} strokeWidth={1} absoluteStrokeWidth />\n        )}\n        {item.label}\n      </DropdownMenuItem>\n    </Link>\n  );\n};\n\nexport const Header = memo(function HeaderInner() {\n  const auth = useAuth();\n  const { isAuthenticated, profile, isAuthEnabled } = useAuth();\n  const context = useZudoku();\n  const { page, plugins } = context;\n\n  const accountItems = plugins\n    .filter((p) => isProfileMenuPlugin(p))\n    .flatMap((p) => p.getProfileMenuItems(context))\n    .sort((i) => i.weight ?? 0);\n\n  return (\n    <header className=\"sticky lg:top-0 z-10 bg-background/80 backdrop-blur w-full\">\n      <Banner />\n      <div className=\"border-b\">\n        <div className=\"max-w-screen-2xl mx-auto flex relative items-center justify-between px-4 lg:px-8 h-[--top-header-height] border-transparent\">\n          <div className=\"flex\">\n            <Link to=\"/\">\n              <div className=\"flex items-center gap-3.5\">\n                {page?.logo && (\n                  <>\n                    <img\n                      src={\n                        /https?:\\/\\//.test(page.logo.src.light)\n                          ? page.logo.src.light\n                          : joinUrl(\n                              import.meta.env.BASE_URL,\n                              page.logo.src.light,\n                            )\n                      }\n                      alt={page.logo.alt ?? page.pageTitle}\n                      style={{ width: page.logo.width }}\n                      className=\"h-10 dark:hidden\"\n                      loading=\"lazy\"\n                    />\n                    <img\n                      src={\n                        /https?:\\/\\//.test(page.logo.src.dark)\n                          ? page.logo.src.dark\n                          : joinUrl(\n                              import.meta.env.BASE_URL,\n                              page.logo.src.dark,\n                            )\n                      }\n                      alt={page.logo.alt ?? page.pageTitle}\n                      style={{ width: page.logo.width }}\n                      className=\"h-10 hidden dark:block\"\n                      loading=\"lazy\"\n                    />\n                  </>\n                )}\n                <span className=\"font-bold text-2xl text-foreground/85 tracking-wide\">\n                  {page?.pageTitle}\n                </span>\n              </div>\n            </Link>\n          </div>\n\n          <div className=\"absolute inset-x-0 justify-center items-center hidden lg:flex w-full pointer-events-none\">\n            <Search className=\"pointer-events-auto\" />\n          </div>\n\n          <div className=\"flex items-center gap-8\">\n            <MobileTopNavigation />\n            <div className=\"hidden lg:flex items-center justify-self-end text-sm gap-2\">\n              <Slotlet name=\"head-navigation-start\" />\n              {isAuthEnabled && (\n                <ClientOnly\n                  fallback={<Skeleton className=\"rounded h-5 w-24 mr-4\" />}\n                >\n                  {!isAuthenticated ? (\n                    <Button variant=\"ghost\" onClick={() => auth.login()}>\n                      Login\n                    </Button>\n                  ) : (\n                    Object.values(accountItems).length > 0 && (\n                      <DropdownMenu modal={false}>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\">\n                            {profile?.name ? `${profile.name}` : \"My Account\"}\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent className=\"w-56\">\n                          <DropdownMenuLabel>\n                            {profile?.name ? `${profile.name}` : \"My Account\"}\n                            {profile?.email && (\n                              <div className=\"font-normal text-muted-foreground\">\n                                {profile.email}\n                              </div>\n                            )}\n                          </DropdownMenuLabel>\n                          {accountItems.filter((i) => i.category === \"top\")\n                            .length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter((i) => i.category === \"top\")\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                          {accountItems.filter(\n                            (i) => !i.category || i.category === \"middle\",\n                          ).length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter(\n                              (i) => !i.category || i.category === \"middle\",\n                            )\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                          {accountItems.filter((i) => i.category === \"bottom\")\n                            .length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter((i) => i.category === \"bottom\")\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    )\n                  )}\n                </ClientOnly>\n              )}\n              <Slotlet name=\"head-navigation-end\" />\n              <ThemeSwitch />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"border-b hidden lg:block\">\n        <div className=\"max-w-screen-2xl mx-auto border-transparent\">\n          <Slotlet name=\"top-navigation-before\" />\n          <TopNavigation />\n          <Slotlet name=\"top-navigation-after\" />\n        </div>\n      </div>\n    </header>\n  );\n});\n", "import * as React from \"react\";\nimport { Drawer as DrawerPrimitive } from \"vaul\";\nimport { cn } from \"../util/cn.js\";\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n);\nDrawer.displayName = \"Drawer\";\n\nconst DrawerTrigger: typeof DrawerPrimitive.Trigger = DrawerPrimitive.Trigger;\n\nconst DrawerPortal: typeof DrawerPrimitive.Portal = DrawerPrimitive.Portal;\n\nconst DrawerClose: typeof DrawerPrimitive.Close = DrawerPrimitive.Close;\n\nconst DrawerOverlay: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Overlay>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n));\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\n\nconst DrawerContent: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content> & {\n    hideBar?: boolean;\n  } & React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Content>>\n> = React.forwardRef(\n  ({ className, children, hideBar = true, ...props }, ref) => (\n    <DrawerPortal>\n      <DrawerOverlay />\n      <DrawerPrimitive.Content\n        ref={ref}\n        className={cn(\n          \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n          className,\n        )}\n        {...props}\n      >\n        {!hideBar && (\n          <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n        )}\n        {children}\n      </DrawerPrimitive.Content>\n    </DrawerPortal>\n  ),\n);\n\nDrawerContent.displayName = \"DrawerContent\";\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n);\nDrawerHeader.displayName = \"DrawerHeader\";\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n);\nDrawerFooter.displayName = \"DrawerFooter\";\n\nconst DrawerTitle: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Title>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className,\n    )}\n    {...props}\n  />\n));\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\n\nconst DrawerDescription: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Description>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\n\nexport {\n  Drawer,\n  DrawerClose,\n  DrawerContent,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerOverlay,\n  DrawerPortal,\n  DrawerTitle,\n  DrawerTrigger,\n};\n", "import { useEffect, useRef, type PropsWithChildren } from \"react\";\nimport { cn } from \"../../util/cn.js\";\nimport { scrollIntoViewIfNeeded } from \"../../util/scrollIntoViewIfNeeded.js\";\nimport { useZudoku } from \"../context/ZudokuContext.js\";\nimport { PoweredByZudoku } from \"./PoweredByZudoku.js\";\n\nexport const SidebarWrapper = ({\n  children,\n  className,\n}: PropsWithChildren<{\n  className?: string;\n}>) => {\n  const { options } = useZudoku();\n  const navRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const active = navRef.current?.querySelector('[aria-current=\"page\"]');\n    scrollIntoViewIfNeeded(active ?? null);\n  }, []);\n\n  return (\n    <div className=\"grid sticky top-[--header-height] lg:h-[calc(100vh-var(--header-height))] grid-rows-[1fr_min-content] border-r\">\n      <nav\n        ref={navRef}\n        className={cn(\n          \"hidden max-w-[calc(var(--side-nav-width)+var(--padding-nav-item))] lg:flex scrollbar flex-col overflow-y-auto shrink-0 text-sm pe-3 ps-4 lg:ps-8\",\n          \"-mx-[--padding-nav-item] pb-[8vh] pt-[--padding-content-top] scroll-pt-2 gap-1\",\n          // Revert the padding/margin on the first child\n          \"-mt-2.5\",\n          className,\n        )}\n        style={{\n          maskImage: `linear-gradient(180deg, transparent 1%, rgba(0, 0, 0, 1) 20px, rgba(0, 0, 0, 1) 90%, transparent 99%)`,\n        }}\n      >\n        {children}\n      </nav>\n\n      <div className=\"bg-background border-t p-2 mx-5  gap-2 items-center mt-2 drop-shadow-[0_-3px_1px_rgba(0,0,0,0.015)] hidden lg:[&:has(>_:nth-child(1):last-child)]:flex\">\n        {options.page?.showPoweredBy !== false && <PoweredByZudoku />}\n      </div>\n    </div>\n  );\n};\n\nSidebarWrapper.displayName = \"SidebarWrapper\";\n", "import { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport type { SidebarItem as SidebarItemType } from \"../../../config/validators/SidebarSchema.js\";\nimport { DrawerContent, DrawerTitle } from \"../../ui/Drawer.js\";\nimport { Slotlet } from \"../SlotletProvider.js\";\nimport { SidebarItem } from \"./SidebarItem.js\";\nimport { SidebarWrapper } from \"./SidebarWrapper.js\";\n\nexport const Sidebar = ({\n  onRequestClose,\n  sidebar,\n}: {\n  onRequestClose?: () => void;\n  sidebar: SidebarItemType[];\n}) => (\n  <>\n    <SidebarWrapper>\n      <Slotlet name=\"zudoku-before-navigation\" />\n      {sidebar.map((item) => (\n        <SidebarItem\n          key={\n            (\"id\" in item ? item.id : \"\") +\n            (\"href\" in item ? item.href : \"\") +\n            item.label\n          }\n          item={item}\n        />\n      ))}\n      <Slotlet name=\"zudoku-after-navigation\" />\n    </SidebarWrapper>\n    <DrawerContent\n      className=\"lg:hidden h-[100dvh] left-0 w-[320px] rounded-none\"\n      aria-describedby={undefined}\n    >\n      <div className=\"p-4 overflow-y-auto overscroll-none\">\n        <VisuallyHidden>\n          <DrawerTitle>Sidebar</DrawerTitle>\n        </VisuallyHidden>\n        {sidebar.map((item) => (\n          <SidebarItem\n            key={item.label}\n            item={item}\n            onRequestClose={onRequestClose}\n          />\n        ))}\n      </div>\n    </DrawerContent>\n  </>\n);\n", "import { PanelLeftIcon } from \"lucide-react\";\nimport { type PropsWithChildren, useState } from \"react\";\nimport { useNavigation } from \"react-router\";\nimport { Drawer, DrawerTrigger } from \"zudoku/ui/Drawer.js\";\nimport { cn } from \"../util/cn.js\";\nimport { useCurrentNavigation } from \"./context/ZudokuContext.js\";\nimport { Sidebar } from \"./navigation/Sidebar.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nexport const Main = ({ children }: PropsWithChildren) => {\n  const [isDrawerOpen, setDrawerOpen] = useState(false);\n  const { sidebar } = useCurrentNavigation();\n  const hasSidebar = sidebar.length > 0;\n  const isNavigating = useNavigation().state === \"loading\";\n\n  return (\n    <Drawer\n      direction=\"left\"\n      open={isDrawerOpen}\n      onOpenChange={(open) => setDrawerOpen(open)}\n    >\n      {hasSidebar && (\n        <Sidebar\n          onRequestClose={() => setDrawerOpen(false)}\n          sidebar={sidebar}\n        />\n      )}\n      {hasSidebar && (\n        <div className=\"lg:hidden -mx-4 px-4 py-2 sticky bg-background/80 backdrop-blur z-10 top-0 left-0 right-0 border-b\">\n          <DrawerTrigger className=\"flex items-center gap-2 px-4\">\n            <PanelLeftIcon size={16} strokeWidth={1.5} />\n            <span className=\"text-sm\">Menu</span>\n          </DrawerTrigger>\n        </div>\n      )}\n      <main\n        data-pagefind-body\n        className={cn(\n          \"px-4 lg:pe-8 lg:px-8\",\n          !hasSidebar && \"col-span-full\",\n          isNavigating && \"animate-pulse\",\n        )}\n      >\n        <Slotlet name=\"zudoku-before-content\" />\n        {children}\n        <Slotlet name=\"zudoku-after-content\" />\n      </main>\n    </Drawer>\n  );\n};\n", "import { Helmet } from \"@zudoku/react-helmet-async\";\nimport { Suspense, useEffect, type ReactNode } from \"react\";\nimport { Outlet, useLocation } from \"react-router\";\nimport { cn } from \"../util/cn.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { useScrollToAnchor } from \"../util/useScrollToAnchor.js\";\nimport { useScrollToTop } from \"../util/useScrollToTop.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { Footer } from \"./Footer.js\";\nimport { Header } from \"./Header.js\";\nimport { Main } from \"./Main.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\nimport { Spinner } from \"./Spinner.js\";\n\nconst LoadingFallback = () => (\n  <main className=\"col-span-full row-span-full grid place-items-center\">\n    <Spinner />\n  </main>\n);\n\nexport const Layout = ({ children }: { children?: ReactNode }) => {\n  const { meta, authentication, options } = useZudoku();\n  const location = useLocation();\n\n  useScrollToAnchor();\n  useScrollToTop();\n\n  useEffect(() => {\n    // Initialize the authentication plugin\n    authentication?.onPageLoad?.();\n  }, [authentication]);\n\n  return (\n    <>\n      {import.meta.env.MODE === \"standalone\" && (\n        <style>{`:root { --top-nav-height: 0px; }`}</style>\n      )}\n      <Helmet titleTemplate={meta?.title}>\n        {options.canonicalUrlOrigin && (\n          <link\n            rel=\"canonical\"\n            href={joinUrl(\n              options.canonicalUrlOrigin,\n              options.basePath,\n              location.pathname,\n            )}\n          />\n        )}\n        {meta?.description && (\n          <meta name=\"description\" content={meta.description} />\n        )}\n        {meta?.favicon && <link rel=\"icon\" href={meta.favicon} />}\n      </Helmet>\n      <Slotlet name=\"layout-before-head\" />\n      <Header />\n      <Slotlet name=\"layout-after-head\" />\n\n      <div\n        className={cn(\n          \"grid max-w-screen-2xl w-full lg:mx-auto\",\n          \"has-[:only-child]:grid-rows-1 grid-rows-[0_min-content_1fr] lg:grid-rows-[min-content_1fr]\",\n          \"grid-cols-1 lg:grid-cols-[var(--side-nav-width)_1fr]\",\n        )}\n      >\n        <Suspense fallback={<LoadingFallback />}>\n          <Main>{children ?? <Outlet />}</Main>\n        </Suspense>\n      </div>\n      <Footer />\n    </>\n  );\n};\n", "import type { ReactNode } from \"react\";\nimport { CategoryHeading } from \"./CategoryHeading.js\";\nimport { Heading } from \"./Heading.js\";\nimport { ProseClasses } from \"./Markdown.js\";\n\nexport const ErrorPage = ({\n  title = \"An error occurred\",\n  message,\n  category,\n}: {\n  title?: ReactNode;\n  message?: ReactNode;\n  category?: ReactNode;\n}) => {\n  return (\n    <div className={ProseClasses + \" h-full pt-[--padding-content-top]\"}>\n      {category && <CategoryHeading>{category}</CategoryHeading>}\n      {title && (\n        <Heading level={1} className=\"flex gap-3.5 items-center\">\n          {title}\n        </Heading>\n      )}\n      <p>{message}</p>\n    </div>\n  );\n};\n", "import type { ReactNode } from \"react\";\nimport { ErrorPage } from \"./ErrorPage.js\";\n\ntype StatusPageProps = {\n  statusCode: number;\n  message?: ReactNode;\n};\n\nconst getDefaultContent = (\n  statusCode: number,\n): { title: string; message: string } => {\n  switch (statusCode) {\n    case 400:\n      return {\n        title: \"Bad Request\",\n        message:\n          \"The request could not be understood by the server due to malformed syntax.\",\n      };\n    case 403:\n      return {\n        title: \"Forbidden\",\n        message: \"You don't have permission to access this resource.\",\n      };\n    case 404:\n      return {\n        title: \"Not Found\",\n        message: \"The requested resource could not be found.\",\n      };\n    case 405:\n      return {\n        title: \"Method Not Allowed\",\n        message:\n          \"The request method is not supported for the requested resource.\",\n      };\n    case 414:\n      return {\n        title: \"Request URI Too Large\",\n        message: \"The request URI is too large.\",\n      };\n    case 416:\n      return {\n        title: \"Range Not Satisfiable\",\n        message: \"The server cannot satisfy the request range.\",\n      };\n    case 500:\n      return {\n        title: \"Internal Server Error\",\n        message: \"An unexpected error occurred while processing your request.\",\n      };\n    case 501:\n      return {\n        title: \"Not Implemented\",\n        message:\n          \"The server does not support the functionality required to fulfill the request.\",\n      };\n    case 502:\n      return {\n        title: \"Bad Gateway\",\n        message:\n          \"The server received an invalid response from the upstream server.\",\n      };\n    case 503:\n      return {\n        title: \"Service Unavailable\",\n        message: \"The server is temporarily unable to handle the request.\",\n      };\n    case 504:\n      return {\n        title: \"Gateway Timeout\",\n        message:\n          \"The server did not receive a timely response from the upstream server.\",\n      };\n    default:\n      return {\n        title: \"An error occurred\",\n        message: \"Something went wrong while processing your request.\",\n      };\n  }\n};\n\nexport const StatusPage = ({ statusCode, message }: StatusPageProps) => {\n  const defaultContent = getDefaultContent(statusCode);\n\n  return (\n    <ErrorPage\n      title={defaultContent.title}\n      message={message ?? defaultContent.message}\n      category={statusCode}\n    />\n  );\n};\n", "'use client';\nimport { createContext, Component, createElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n", "export let createNanoEvents = () => ({\n  emit(event, ...args) {\n    for (\n      let callbacks = this.events[event] || [],\n        i = 0,\n        length = callbacks.length;\n      i < length;\n      i++\n    ) {\n      callbacks[i](...args)\n    }\n  },\n  events: {},\n  on(event, cb) {\n    ;(this.events[event] ||= []).push(cb)\n    return () => {\n      this.events[event] = this.events[event]?.filter(i => cb !== i)\n    }\n  }\n})\n", "import type { QueryClient } from \"@tanstack/react-query\";\nimport { createNanoEvents } from \"nanoevents\";\nimport type { ReactNode } from \"react\";\nimport type { Location } from \"react-router\";\nimport type { z } from \"zod\";\nimport type {\n  FooterSchema,\n  TopNavigationItem,\n} from \"../../config/validators/common.js\";\nimport type { SidebarConfig } from \"../../config/validators/SidebarSchema.js\";\nimport type { AuthenticationProvider } from \"../authentication/authentication.js\";\nimport { type AuthState, useAuthState } from \"../authentication/state.js\";\nimport type { ComponentsContextType } from \"../components/context/ComponentsContext.js\";\nimport type { Slotlets } from \"../components/SlotletProvider.js\";\nimport { joinPath } from \"../util/joinPath.js\";\nimport type { MdxComponentsType } from \"../util/MdxComponents.js\";\nimport { objectEntries } from \"../util/objectEntries.js\";\nimport {\n  isApiIdentityPlugin,\n  isEventConsumerPlugin,\n  isNavigationPlugin,\n  type NavigationPlugin,\n  needsInitialization,\n  type ZudokuPlugin,\n} from \"./plugins.js\";\n\nexport interface ZudokuEvents {\n  location: (event: { from?: Location; to: Location }) => void;\n  auth: (auth: { prev: AuthState; next: AuthState }) => void;\n}\n\nexport interface ApiIdentity {\n  authorizeRequest: (request: Request) => Promise<Request> | Request;\n  authorizationFields?: {\n    headers?: string[];\n    queryParams?: string[];\n  };\n  label: string;\n  id: string;\n}\n\nexport type ApiKeyCache = \"api-keys\";\n\ntype Metadata = Partial<{\n  title: string;\n  description: string;\n  logo: string;\n  favicon: string;\n  generator: string;\n  applicationName: string;\n  referrer: string;\n  keywords: string[];\n  authors: string[];\n  creator: string;\n  publisher: string;\n}>;\n\ntype Page = Partial<{\n  showPoweredBy: boolean;\n  pageTitle?: string;\n  logo?: {\n    src: {\n      light: string;\n      dark: string;\n    };\n    width?: string | number;\n    alt?: string;\n  };\n  banner?: {\n    message: ReactNode;\n    color?: \"note\" | \"tip\" | \"info\" | \"caution\" | \"danger\" | (string & {});\n    dismissible?: boolean;\n  };\n  footer?: z.infer<typeof FooterSchema>;\n}>;\n\nexport type ZudokuContextOptions = {\n  basePath?: string;\n  canonicalUrlOrigin?: string;\n  metadata?: Metadata;\n  page?: Page;\n  authentication?: AuthenticationProvider;\n  topNavigation?: TopNavigationItem[];\n  sidebars?: SidebarConfig;\n  plugins?: ZudokuPlugin[];\n  slotlets?: Slotlets;\n  mdx?: {\n    components?: MdxComponentsType;\n  };\n  overrides?: ComponentsContextType;\n  protectedRoutes?: string[];\n};\n\nexport class ZudokuContext {\n  public plugins: NonNullable<ZudokuContextOptions[\"plugins\"]>;\n  public sidebars: SidebarConfig;\n  public topNavigation: NonNullable<ZudokuContextOptions[\"topNavigation\"]>;\n  public meta: ZudokuContextOptions[\"metadata\"];\n  public page: ZudokuContextOptions[\"page\"];\n  public authentication?: ZudokuContextOptions[\"authentication\"];\n  private readonly navigationPlugins: NavigationPlugin[];\n  private emitter = createNanoEvents<ZudokuEvents>();\n\n  constructor(\n    public readonly options: ZudokuContextOptions,\n    public readonly queryClient: QueryClient,\n  ) {\n    this.plugins = options.plugins ?? [];\n    this.topNavigation = options.topNavigation ?? [];\n    this.sidebars = options.sidebars ?? {};\n    this.navigationPlugins = this.plugins.filter(isNavigationPlugin);\n    this.authentication = options.authentication;\n    this.meta = options.metadata;\n    this.page = options.page;\n    this.plugins.forEach((plugin) => {\n      if (!isEventConsumerPlugin(plugin)) return;\n\n      objectEntries(plugin.events).forEach(([event, handler]) => {\n        this.emitter.on(event, handler!);\n      });\n    });\n\n    useAuthState.subscribe((state, prevState) => {\n      this.emitEvent(\"auth\", {\n        prev: prevState,\n        next: state,\n      });\n    });\n  }\n\n  initialize = async (): Promise<void> => {\n    await Promise.all(\n      this.plugins\n        .filter(needsInitialization)\n        .map((plugin) => plugin.initialize?.(this)),\n    );\n  };\n\n  getApiIdentities = async () => {\n    const keys = await Promise.all(\n      this.plugins\n        .filter(isApiIdentityPlugin)\n        .map((plugin) => plugin.getIdentities(this)),\n    );\n\n    return keys.flat();\n  };\n\n  addEventListener<E extends keyof ZudokuEvents>(\n    event: E,\n    callback: ZudokuEvents[E],\n  ) {\n    return this.emitter.on(event, callback);\n  }\n\n  emitEvent = <E extends keyof ZudokuEvents>(\n    event: E,\n    ...data: Parameters<ZudokuEvents[E]>\n  ) => {\n    return this.emitter.emit(event, ...data);\n  };\n\n  getPluginSidebar = async (path: string) => {\n    const navigations = await Promise.all(\n      this.navigationPlugins.map((plugin) =>\n        plugin.getSidebar?.(joinPath(path), this),\n      ),\n    );\n\n    return navigations.flatMap((nav) => nav ?? []);\n  };\n\n  signRequest = async (request: Request) => {\n    if (!this.authentication) {\n      throw new Error(\"No authentication provider configured\");\n    }\n\n    return await this.authentication.signRequest(request);\n  };\n}\n", "import { FallbackProps } from \"react-error-boundary\";\nimport { ErrorAlert } from \"./ErrorAlert.js\";\n\nexport function TopLevelError({ error, resetErrorBoundary }: FallbackProps) {\n  // Call resetErrorBoundary() to reset the error boundary and retry the render.\n\n  return <ErrorAlert error={error} />;\n}\n", "const root = globalThis;\n\nif (!root.requestIdleCallback || !root.cancelIdleCallback) {\n  root.requestIdleCallback = (cb: IdleRequestCallback) => setTimeout(cb, 1);\n  root.cancelIdleCallback = clearTimeout;\n}\n", "import {\n  createContext,\n  useContext,\n  type ComponentProps,\n  type ComponentType,\n} from \"react\";\nimport { Header } from \"../Header.js\";\n\nexport const DEFAULT_COMPONENTS = {\n  Header,\n};\n\nexport type ComponentsContextType = {\n  Header?: ComponentType<ComponentProps<typeof Header>>;\n};\n\nconst ComponentsContext =\n  createContext<Required<ComponentsContextType>>(DEFAULT_COMPONENTS);\n\nexport const ComponentsProvider = ComponentsContext.Provider;\n\nexport const useComponents = () => {\n  return useContext(ComponentsContext);\n};\n", "import { useEffect, useRef } from \"react\";\nimport { useLocation, type Location } from \"react-router\";\nimport { useZudoku } from \"./ZudokuContext.js\";\n\nexport const RouterEventsEmitter = () => {\n  const location = useLocation();\n  const zudoku = useZudoku();\n  const previousLocation = useRef<Location | undefined>(undefined);\n\n  useEffect(() => {\n    zudoku.emitEvent(\"location\", {\n      from: previousLocation.current,\n      to: location,\n    });\n    previousLocation.current = location;\n  }, [zudoku, location]);\n\n  return null;\n};\n", "import { useSuspenseQuery } from \"@tanstack/react-query\";\nimport type { PropsWithChildren } from \"react\";\nimport { ZudokuContext } from \"../../core/ZudokuContext.js\";\nimport { ZudokuReactContext } from \"./ZudokuContext.js\";\n\nexport const ZudokuProvider = ({\n  children,\n  context,\n}: PropsWithChildren<{ context: ZudokuContext }>) => {\n  useSuspenseQuery({\n    queryFn: async () => {\n      await context.initialize();\n      return true;\n    },\n    queryKey: [\"zudoku-initialize\"],\n  });\n\n  return (\n    <ZudokuReactContext.Provider value={context}>\n      {children}\n    </ZudokuReactContext.Provider>\n  );\n};\n", "import { MDXProvider } from \"@mdx-js/react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { ThemeProvider } from \"next-themes\";\nimport {\n  memo,\n  type PropsWithChildren,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { Outlet, useLocation, useNavigation } from \"react-router\";\nimport { hasHead, isMdxProviderPlugin } from \"../core/plugins.js\";\nimport {\n  ZudokuContext,\n  type ZudokuContextOptions,\n} from \"../core/ZudokuContext.js\";\nimport { TopLevelError } from \"../errors/TopLevelError.js\";\nimport { StaggeredRenderContext } from \"../plugins/openapi/StaggeredRender.js\";\nimport { MdxComponents } from \"../util/MdxComponents.js\";\nimport \"../util/requestIdleCallbackPolyfill.js\";\nimport {\n  ComponentsProvider,\n  DEFAULT_COMPONENTS,\n} from \"./context/ComponentsContext.js\";\nimport { RouterEventsEmitter } from \"./context/RouterEventsEmitter.js\";\nimport { ViewportAnchorProvider } from \"./context/ViewportAnchorContext.js\";\nimport { ZudokuProvider } from \"./context/ZudokuProvider.js\";\nimport { SlotletProvider } from \"./SlotletProvider.js\";\n\nlet zudokuContext: ZudokuContext | undefined;\n\nconst ZudokoInner = memo(\n  ({ children, ...props }: PropsWithChildren<ZudokuContextOptions>) => {\n    const components = useMemo(\n      () => ({ ...DEFAULT_COMPONENTS, ...props.overrides }),\n      [props.overrides],\n    );\n\n    const location = useLocation();\n    const mdxComponents = useMemo(() => {\n      const componentsFromPlugins = (props.plugins ?? [])\n        .filter(isMdxProviderPlugin)\n        .flatMap((plugin) =>\n          plugin.getMdxComponents ? [plugin.getMdxComponents()] : [],\n        );\n\n      return {\n        ...componentsFromPlugins.reduce(\n          (acc, curr) => ({ ...acc, ...curr }),\n          {},\n        ),\n        ...MdxComponents,\n        ...props.mdx?.components,\n      };\n    }, [props.mdx?.components, props.plugins]);\n    const { stagger } = useContext(StaggeredRenderContext);\n    const [didNavigate, setDidNavigate] = useState(false);\n    const staggeredValue = useMemo(\n      () => (didNavigate ? { stagger: true } : { stagger }),\n      [stagger, didNavigate],\n    );\n    const navigation = useNavigation();\n    const queryClient = useQueryClient();\n\n    useEffect(() => {\n      if (didNavigate) {\n        return;\n      }\n      setDidNavigate(true);\n    }, [didNavigate, navigation.location]);\n\n    if (!zudokuContext) {\n      zudokuContext = new ZudokuContext(props, queryClient);\n    }\n\n    const heads = props.plugins\n      ?.flatMap((plugin) =>\n        hasHead(plugin) ? (plugin.getHead?.({ location }) ?? []) : [],\n      )\n      // eslint-disable-next-line react/no-array-index-key\n      .map((entry, i) => <Helmet key={i}>{entry}</Helmet>);\n\n    return (\n      <>\n        {heads}\n        <StaggeredRenderContext.Provider value={staggeredValue}>\n          <ZudokuProvider context={zudokuContext}>\n            <RouterEventsEmitter />\n            <MDXProvider components={mdxComponents}>\n              <ThemeProvider attribute=\"class\" disableTransitionOnChange>\n                <ComponentsProvider value={components}>\n                  <SlotletProvider slotlets={props.slotlets}>\n                    <ViewportAnchorProvider>\n                      {children ?? <Outlet />}\n                    </ViewportAnchorProvider>\n                  </SlotletProvider>\n                </ComponentsProvider>\n              </ThemeProvider>\n            </MDXProvider>\n          </ZudokuProvider>\n        </StaggeredRenderContext.Provider>\n      </>\n    );\n  },\n);\n\nZudokoInner.displayName = \"ZudokoInner\";\n\nconst Zudoku = (props: ZudokuContextOptions) => {\n  return (\n    <ErrorBoundary FallbackComponent={TopLevelError}>\n      <ZudokoInner {...props} />\n    </ErrorBoundary>\n  );\n};\nZudoku.displayName = \"Zudoku\";\n\nexport { Zudoku };\n", "import { useMDXComponents as useMDXComponentsImport } from \"@mdx-js/react\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { useTheme as useThemeImport } from \"next-themes\";\nimport { Link as LinkImport } from \"react-router\";\nimport { useAuth as useAuthImport } from \"../authentication/hook.js\";\nimport { RouteGuard as RouteGuardImport } from \"../core/RouteGuard.js\";\nimport { RouterError as RouterErrorImport } from \"../errors/RouterError.js\";\nimport { ServerError as ServerErrorImport } from \"../errors/ServerError.js\";\nimport { Button as ButtonImport } from \"../ui/Button.js\";\nimport { Callout as CalloutImport } from \"../ui/Callout.js\";\nimport {\n  Bootstrap as BootstrapImport,\n  BootstrapStatic as BootstrapStaticImport,\n} from \"./Bootstrap.js\";\nimport {\n  CACHE_KEYS as CACHE_KEYS_IMPORT,\n  useCache as useCacheImport,\n} from \"./cache.js\";\nimport { ClientOnly as ClientOnlyImport } from \"./ClientOnly.js\";\nimport { useZudoku as useZudokuImport } from \"./context/ZudokuContext.js\";\nimport { Layout as LayoutImport } from \"./Layout.js\";\nimport { Markdown as MarkdownImport } from \"./Markdown.js\";\nimport { Spinner as SpinnerImport } from \"./Spinner.js\";\nimport { StatusPage as StatusPageImport } from \"./StatusPage.js\";\nimport { Zudoku as ZudokuImport } from \"./Zudoku.js\";\n\nexport const useMDXComponents = /*@__PURE__*/ useMDXComponentsImport;\nexport const Layout = /*@__PURE__*/ LayoutImport;\nexport const RouterError = /*@__PURE__*/ RouterErrorImport;\nexport const ServerError = /*@__PURE__*/ ServerErrorImport;\nexport const Bootstrap = /*@__PURE__*/ BootstrapImport;\nexport const BootstrapStatic = /*@__PURE__*/ BootstrapStaticImport;\nexport const RouteGuard = /*@__PURE__*/ RouteGuardImport;\n\nexport const Head = /*@__PURE__*/ Helmet;\n\nexport const useZudoku = /*@__PURE__*/ useZudokuImport;\nexport const useAuth = /*@__PURE__*/ useAuthImport;\nexport const useCache = /*@__PURE__*/ useCacheImport;\nexport const CACHE_KEYS = /*@__PURE__*/ CACHE_KEYS_IMPORT;\nexport const Zudoku = /*@__PURE__*/ ZudokuImport;\n\nexport const StatusPage = /*@__PURE__*/ StatusPageImport;\nexport const Callout = /*@__PURE__*/ CalloutImport;\nexport const Markdown = /*@__PURE__*/ MarkdownImport;\nexport const Spinner = /*@__PURE__*/ SpinnerImport;\nexport const ClientOnly = /*@__PURE__*/ ClientOnlyImport;\nexport const Button = /*@__PURE__*/ ButtonImport;\nexport const Link = /*@__PURE__*/ LinkImport;\nexport const useTheme = /*@__PURE__*/ useThemeImport;\n"],
  "mappings": "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",
  "names": ["hasElementType", "hasMap", "hasSet", "hasArrayBuffer", "equal", "a", "b", "length", "i", "keys", "it", "reactFastCompare", "error", "D", "invariant", "condition", "format", "c", "d", "e", "f", "args", "argIndex", "browser", "shallowequal", "objA", "objB", "compare", "compareContext", "ret", "keysA", "keysB", "bHasOwnProperty", "idx", "key", "valueA", "valueB", "TAG_NAMES", "TAG_NAMES2", "SEO_PRIORITY_TAGS", "VALID_TAG_NAMES", "REACT_TAG_MAP", "HTML_TAG_MAP", "carry", "value", "HELMET_ATTRIBUTE", "HELMET_PROPS", "getInnermostProperty", "propsList", "property", "props", "getTitleFromPropsList", "innermostTitle", "innermostTemplate", "innermostDefaultTitle", "getOnChangeClientState", "getAttributesFromPropsList", "tagType", "tagAttrs", "current", "getBaseTagFromPropsList", "primaryAttributes", "innermostBaseTag", "tag", "lowerCaseAttributeKey", "warn", "msg", "getTagsFromPropsList", "tagName", "approvedSeenTags", "approvedTags", "instanceTags", "instanceSeenTags", "primaryAttributeKey", "keys2", "attributeKey", "tagUnion", "getAnyTrueFromPropsList", "checkedTag", "index", "reducePropsToState", "flattenArray", "possibleArray", "checkIfPropsMatch", "toMatch", "prioritizer", "elementsList", "propsToMatch", "acc", "elementAttrs", "without", "obj", "SELF_CLOSING_TAGS", "encodeSpecialCharacters", "str", "encode", "generateElementAttributesAsString", "attributes", "attr", "generateTitleAsString", "type", "title", "attributeString", "flattenedTitle", "generateTagsAsString", "tags", "t", "attributeHtml", "attribute", "string", "tagContent", "isSelfClosing", "convertElementAttributesToReactProps", "initProps", "mapped", "generateTitleAsReactComponent", "_type", "React", "generateTagsAsReactComponent", "mappedTag", "mappedAttribute", "content", "getMethodsForTag", "getPriorityMethods", "metaTags", "linkTags", "scriptTags", "meta", "link", "script", "mapStateOnServer", "baseTag", "bodyAttributes", "htmlAttributes", "noscriptTags", "styleTags", "titleAttributes", "prioritizeSeoTags", "priorityMethods", "server_default", "instances", "isDocument", "HelmetData", "context", "canUseDOM", "__publicField", "serverState", "instance", "defaultValue", "Context", "React2", "HelmetProvider", "_a", "Component", "updateTags", "headElement", "tagNodes", "oldTags", "newTags", "indexToDelete", "newElement", "existingTag", "updateAttributes", "elementTag", "helmetAttributeString", "helmetAttributes", "attributesToRemove", "attributeKeys", "indexToSave", "updateTitle", "commitTagChanges", "newState", "cb", "onChangeClientState", "tagUpdates", "addedTags", "removedTags", "_helmetCallback", "handleStateChangeOnClient", "client_default", "HelmetDispatcher", "Component2", "nextProps", "shallowEqual", "helmetInstances", "setHelmet", "state", "j", "Helmet", "Component3", "fastCompare", "child", "nestedChildren", "arrayTypeChildren", "newChildProps", "newProps", "newFlattenedProps", "arrayChildName", "name", "nestedChild", "children", "React3", "childProps", "helmetData", "data", "BypassProtectedRoutesContext", "createContext", "SEARCH_PROTECTED_SECTION", "RouteGuard", "auth", "useAuth", "zudoku", "useZudoku", "navigate", "useNavigate", "location", "useLocation", "latestPath", "useLatest", "shouldBypass", "use", "protectedRoutes", "isProtected", "path", "matchPath", "useQuery", "resolve", "jsx", "Dialog", "open", "DialogContent", "DialogHeader", "DialogTitle", "DialogDescription", "ZudokuError", "jsxs", "Fragment", "Outlet", "useExposedProps", "location", "useLocation", "navigate", "useNavigate", "searchParams", "setSearchParams", "useSearchParams", "params", "useParams", "DeveloperHint", "children", "className", "jsx", "Callout", "jsxs", "Markdown", "NotFoundPage", "params", "useParams", "ProseClasses", "CategoryHeading", "Heading", "UnlinkIcon", "Link", "Prism", "n", "remapLang", "SyntaxHighlightInner", "language", "showCopy", "showCopyText", "title", "disabled", "props", "resolvedTheme", "useTheme", "isCopied", "setIsCopied", "useState", "code", "highlightTheme", "themes", "themeColorClasses", "Wrapper", "style", "cn", "CheckIcon", "CopyIcon", "ClientOnly", "u", "Highlight", "tokens", "getLineProps", "getTokenProps", "line", "i", "token", "key", "SyntaxHighlight", "memo", "ErrorAlert", "error", "message", "hint", "ZudokuError", "stack", "cause", "stringError", "RouterError", "useRouteError", "isRouteErrorResponse", "typeOf", "object", "$$typeof", "REACT_ELEMENT_TYPE", "REACT_FRAGMENT_TYPE", "REACT_PROFILER_TYPE", "REACT_STRICT_MODE_TYPE", "REACT_SUSPENSE_TYPE", "REACT_SUSPENSE_LIST_TYPE", "REACT_VIEW_TRANSITION_TYPE", "REACT_CONTEXT_TYPE", "REACT_FORWARD_REF_TYPE", "REACT_LAZY_TYPE", "REACT_MEMO_TYPE", "REACT_CONSUMER_TYPE", "REACT_PORTAL_TYPE", "REACT_CLIENT_REFERENCE", "reactIs_development", "type", "reactIsModule", "require$$0", "require$$1", "SlotletContext", "React", "SlotletProvider", "slotlets", "children", "Slotlet", "name", "context", "useContext", "componentOrElement", "slotletProps", "useExposedProps", "isValidElementType", "isEventConsumerPlugin", "obj", "isProfileMenuPlugin", "isNavigationPlugin", "isSearchPlugin", "needsInitialization", "hasHead", "isMdxProviderPlugin", "isApiIdentityPlugin", "DropdownMenu", "DropdownMenuTrigger", "Trigger", "DropdownMenuPortal", "DropdownMenuSub", "DropdownMenuSubTrigger", "className", "inset", "children", "props", "ref", "jsxs", "cn", "jsx", "ChevronRightIcon", "DropdownMenuSubContent", "DropdownMenuContent", "sideOffset", "DropdownMenuItem", "DropdownMenuCheckboxItem", "checked", "CheckIcon", "DropdownMenuRadioItem", "DotIcon", "DropdownMenuLabel", "DropdownMenuSeparator", "DropdownMenuShortcut", "__insertCSS", "code", "head", "style", "DrawerContext", "React__default", "useDrawerContext", "context", "isMobileFirefox", "userAgent", "isMac", "testPlatform", "isIPhone", "isSafari", "isIPad", "isIOS", "re", "KEYBOARD_BUFFER", "useIsomorphicLayoutEffect", "useLayoutEffect", "useEffect", "chain$1", "callbacks", "args", "callback", "visualViewport", "isScrollable", "node", "getScrollParent", "nonTextInputTypes", "preventScrollCount", "restore", "usePreventScroll", "options", "isDisabled", "preventScrollMobileSafari", "scrollable", "lastY", "onTouchStart", "e", "onTouchMove", "y", "scrollTop", "bottom", "onTouchEnd", "target", "isInput", "onFocus", "scrollIntoView", "onWindowScroll", "scrollX", "scrollY", "restoreStyles", "setStyle", "removeEvents", "addEvent", "element", "value", "cur", "event", "handler", "root", "scrollableTop", "targetTop", "targetBottom", "keyboardHeight", "setRef", "ref", "composeRefs", "refs", "useComposedRefs", "cache", "set", "el", "styles", "ignoreCache", "originalStyles", "key", "reset", "prop", "isVertical", "direction", "getTranslate", "transform", "mat", "dampenValue", "v", "assignStyle", "prevStyle", "chain", "fns", "fn", "TRANSITIONS", "VELOCITY_THRESHOLD", "CLOSE_THRESHOLD", "SCROLL_LOCK_TIMEOUT", "BORDER_RADIUS", "NESTED_DISPLACEMENT", "WINDOW_TOP_OFFSET", "DRAG_CLASS", "useCallbackRef", "callbackRef", "useUncontrolledState", "defaultProp", "onChange", "uncontrolledState", "prevValueRef", "handleChange", "useControllableState", "uncontrolledProp", "setUncontrolledProp", "isControlled", "setValue", "nextValue", "useSnapPoints", "activeSnapPointProp", "setActiveSnapPointProp", "snapPoints", "drawerRef", "overlayRef", "fadeFromIndex", "onSnapPointChange", "container", "snapToSequentialPoint", "activeSnapPoint", "setActiveSnapPoint", "windowDimensions", "setWindowDimensions", "onResize", "isLastSnapPoint", "activeSnapPointIndex", "_snapPoints_findIndex", "snapPoint", "shouldFade", "snapPointsOffset", "containerSize", "_snapPoints_map", "isPx", "snapPointAsNumber", "height", "width", "activeSnapPointOffset", "snapToPoint", "dimension", "_snapPointsOffset_findIndex", "newSnapPointIndex", "snapPointDim", "newIndex", "onRelease", "draggedDistance", "closeDrawer", "velocity", "dismissible", "currentPosition", "isOverlaySnapPoint", "isFirst", "hasDraggedUp", "closestSnapPoint", "prev", "curr", "dim", "dragDirection", "onDrag", "newValue", "getPercentageDragged", "absDraggedDistance", "isDraggingDown", "targetSnapPointIndex", "snapPointDistance", "percentageDragged", "noop", "useScaleBackground", "isOpen", "shouldScaleBackground", "setBackgroundColorOnScale", "noBodyStyles", "timeoutIdRef", "initialBackgroundColor", "useMemo", "getScale", "wrapper", "wrapperStylesCleanup", "previousBodyPosition", "usePositionFixed", "modal", "nested", "hasBeenOpened", "preventScrollRestoration", "activeUrl", "setActiveUrl", "scrollPos", "setPositionFixed", "innerHeight", "bottomBarHeight", "restorePositionSetting", "x", "onScroll", "Root", "openProp", "onOpenChange", "children", "onDragProp", "onReleaseProp", "closeThreshold", "scrollLockTimeout", "handleOnly", "fixed", "onClose", "defaultOpen", "disablePreventScroll", "repositionInputs", "onAnimationEnd", "autoFocus", "_drawerRef_current", "_drawerRef_current1", "setIsOpen", "o", "setHasBeenOpened", "isDragging", "setIsDragging", "justReleased", "setJustReleased", "openTime", "dragStartTime", "dragEndTime", "lastTimeDragPrevented", "isAllowedToDrag", "nestedOpenChangeTimer", "pointerStart", "keyboardIsOpen", "shouldAnimate", "previousDiffFromInitial", "drawerHeightRef", "drawerWidthRef", "initialDrawerHeight", "onReleaseSnapPoints", "onDragSnapPoints", "getSnapPointsPercentageDragged", "onPress", "shouldDrag", "isDraggingInDirection", "_window_getSelection", "highlightedText", "swipeAmount", "date", "directionMultiplier", "noCloseSnapPointsPreCondition", "drawerDimension", "snapPointPercentageDragged", "dampenedDraggedDistance", "translateValue", "opacityValue", "scaleValue", "borderRadiusValue", "_window_visualViewport", "onVisualViewportChange", "focusedElement", "visualViewportHeight", "totalHeight", "diffFromInitial", "drawerHeight", "isTallEnough", "offsetFromTop", "activeSnapPointHeight", "newDrawerHeight", "fromWithin", "cancelDrag", "resetDrawer", "currentSwipeAmount", "timeTaken", "distMoved", "_drawerRef_current_getBoundingClientRect_height", "visibleDrawerHeight", "_drawerRef_current_getBoundingClientRect_width", "visibleDrawerWidth", "isHorizontalSwipe", "onNestedOpenChange", "scale", "initialTranslate", "onNestedDrag", "_event", "initialScale", "newScale", "newTranslate", "onNestedRelease", "translate", "open", "Overlay", "rest", "composedRef", "hasSnapPoints", "onMouseUp", "Content", "onPointerDownOutside", "onOpenAutoFocus", "delayedSnapPoints", "setDelayedSnapPoints", "pointerStartRef", "lastKnownPointerEventRef", "wasBeyondThePointRef", "isDeltaInDirection", "delta", "threshold", "deltaY", "deltaX", "isDeltaX", "dFactor", "handleOnPointerUp", "yPosition", "xPosition", "swipeStartThreshold", "LONG_HANDLE_PRESS_TIMEOUT", "DOUBLE_TAP_TIMEOUT", "Handle", "preventCycle", "closeTimeoutIdRef", "shouldCancelInteractionRef", "handleStartCycle", "handleCancelInteraction", "handleCycleSnapPoints", "currentSnapIndex", "point", "nextSnapPoint", "handleStartInteraction", "Portal", "props", "portalProps", "Drawer", "jsx", "DrawerPrimitive", "DrawerTrigger", "DrawerPortal", "DrawerClose", "DrawerOverlay", "className", "cn", "DrawerContent", "hideBar", "jsxs", "DrawerHeader", "DrawerFooter", "DrawerTitle", "DrawerDescription", "emptyComponents", "MDXContext", "React", "useMDXComponents", "components", "contextComponents", "MDXProvider", "properties", "allComponents", "QueryCache", "_a", "Subscribable", "config", "__privateAdd", "_queries", "__privateSet", "client", "options", "state", "queryKey", "queryHash", "hashQueryKeyByOptions", "query", "Query", "__privateGet", "queryInMap", "notifyManager", "filters", "defaultedFilters", "matchQuery", "queries", "event", "listener", "MutationCache", "_mutations", "_scopes", "_mutationId", "mutation", "Mutation", "__privateWrapper", "scope", "scopeFor", "scopedMutations", "index", "mutationsWithSameScope", "firstPendingMutation", "m", "foundMutation", "matchMutation", "pausedMutations", "x", "noop", "infiniteQueryBehavior", "pages", "context", "direction", "_c", "_b", "oldPages", "_d", "oldPageParams", "_e", "result", "currentPage", "fetchFn", "cancelled", "addSignalProperty", "object", "queryFn", "ensureQueryFn", "fetchPage", "data", "param", "previous", "queryFnContext", "page", "maxPages", "addTo", "addToStart", "addToEnd", "pageParamFn", "getPreviousPageParam", "getNextPageParam", "oldData", "remainingPages", "pageParams", "lastIndex", "QueryClient", "_queryCache", "_mutationCache", "_defaultOptions", "_queryDefaults", "_mutationDefaults", "_mountCount", "_unsubscribeFocus", "_unsubscribeOnline", "focusManager", "focused", "onlineManager", "online", "defaultedOptions", "cachedData", "resolveStaleTime", "updater", "prevData", "functionalUpdate", "queryCache", "cancelOptions", "defaultedCancelOptions", "promises", "fetchOptions", "promise", "hashKey", "defaults", "queryDefault", "partialMatchKey", "mutationKey", "skipToken", "defaultTransformerFn", "hydrate", "dehydratedState", "mutationCache", "deserializeData", "mutations", "mutationOptions", "meta", "_ignored", "serializedState", "initialPromise", "hasProperty", "obj", "key", "HydrationBoundary", "children", "queryClient", "useQueryClient", "hydrationQueue", "setHydrationQueue", "optionsRef", "newQueries", "existingQueries", "dehydratedQuery", "existingQuery", "hydrationIsNewer", "queryAlreadyQueued", "prev", "ServerError", "error", "jsx", "ErrorAlert", "RouterProvider2", "props", "RouterProvider", "StaggeredRenderContext", "createContext", "Bootstrap", "router", "StrictMode", "QueryClientProvider", "BypassProtectedRoutesContext", "HelmetProvider", "BootstrapStatic", "helmetContext", "bypassProtection", "StaticRouterProvider", "useScrollToTop", "location", "useLocation", "previousPath", "useRef", "useEffect", "isNewPage", "hasAnchor", "SocialIcon", "icon", "isExternalUrl", "href", "Footer", "useZudoku", "footer", "jsxs", "cn", "Slotlet", "column", "s", "link", "i", "className", "ExternalLinkIcon", "AnchorLink", "Fragment", "e", "r", "social", "Skeleton", "COLOR_MAP", "Banner", "isBannerOpen", "setIsBannerOpen", "useState", "mappedColor", "style", "CircleXIcon", "ZudokuLogo", "PoweredByZudoku", "ChevronRightIcon", "detectOS", "userAgent", "Search", "ctx", "isOpen", "setIsOpen", "onClose", "useCallback", "onKeyDown", "searchPlugin", "isSearchPlugin", "SearchIcon", "ClientOnly", "KbdShortcut", "Suspense", "os", "ThemeSwitch", "resolvedTheme", "setTheme", "useTheme", "Button", "SunIcon", "MoonIcon", "_extends", "n", "t", "hasSymbol", "REACT_ELEMENT_TYPE", "REACT_PORTAL_TYPE", "REACT_FRAGMENT_TYPE", "REACT_STRICT_MODE_TYPE", "REACT_PROFILER_TYPE", "REACT_PROVIDER_TYPE", "REACT_CONTEXT_TYPE", "REACT_ASYNC_MODE_TYPE", "REACT_CONCURRENT_MODE_TYPE", "REACT_FORWARD_REF_TYPE", "REACT_SUSPENSE_TYPE", "REACT_SUSPENSE_LIST_TYPE", "REACT_MEMO_TYPE", "REACT_LAZY_TYPE", "REACT_BLOCK_TYPE", "REACT_FUNDAMENTAL_TYPE", "REACT_RESPONDER_TYPE", "REACT_SCOPE_TYPE", "isValidElementType", "type", "typeOf", "object", "$$typeof", "$$typeofType", "AsyncMode", "ConcurrentMode", "ContextConsumer", "ContextProvider", "Element", "ForwardRef", "Fragment", "Lazy", "Memo", "Portal", "Profiler", "StrictMode", "Suspense", "hasWarnedAboutDeprecatedIsAsyncMode", "isAsyncMode", "isConcurrentMode", "isContextConsumer", "isContextProvider", "isElement", "isForwardRef", "isFragment", "isLazy", "isMemo", "isPortal", "isProfiler", "isStrictMode", "isSuspense", "reactIs_development", "P", "reactIsModule", "require$$0", "require$$1", "ue", "reactIs", "REACT_STATICS", "KNOWN_STATICS", "FORWARD_REF_STATICS", "MEMO_STATICS", "TYPE_STATICS", "getStatics", "component", "defineProperty", "getOwnPropertyNames", "getOwnPropertySymbols", "getOwnPropertyDescriptor", "getPrototypeOf", "objectPrototype", "hoistNonReactStatics", "targetComponent", "sourceComponent", "blacklist", "inheritedComponent", "keys", "targetStatics", "sourceStatics", "i", "key", "descriptor", "hoistNonReactStatics_cjs", "clamp", "num", "lower", "upper", "createQueue", "isRunning", "pending", "_next", "cb", "clear", "enqueue", "createTimeout", "handle", "cancel", "schedule", "callback", "delay", "deltaTime", "start", "_frame", "time", "increment", "progress", "amount", "useEffectOnce", "effect", "useEffect", "incrementParameter", "useUpdate", "_useState", "useState", "setState", "useCallback", "useGetSetState", "initialState", "update", "state", "useRef", "_extends", "get", "set", "patch", "useFirstMountState", "isFirst", "useUpdateEffect", "deps", "isFirstMount", "noop", "useNProgress", "_temp", "_ref", "_ref$animationDuratio", "animationDuration", "_ref$incrementDuratio", "incrementDuration", "_ref$isAnimating", "isAnimating", "_ref$minimum", "minimum", "_useGetSetState", "queue", "timeout", "cleanup", "_timeout$current", "_queue$current", "n", "_queue$current4", "_queue$current2", "_queue$current3", "next", "_timeout$current2", "_timeout$current3", "trickle", "_work", "_queue$current5", "_timeout$current4", "savedTrickle", "sideEffect", "isHiddenItem", "isAuthenticated", "item", "PageProgress", "isNavigating", "useNavigation", "setIsAnimating", "timer", "isFinished", "jsx", "TopNavigation", "topNavigation", "useZudoku", "useAuth", "filteredItems", "jsxs", "TopNavItem", "Slotlet", "id", "label", "defaultLink", "sidebars", "currentSidebar", "currentNav", "useCurrentNavigation", "isActive", "_a", "first", "traverseSidebar", "joinUrl", "NavLink", "isPending", "cx", "MobileTopNavigation", "options", "drawerOpen", "setDrawerOpen", "Drawer", "open", "DrawerTrigger", "MenuIcon", "DrawerContent", "VisuallyHidden", "DrawerTitle", "Search", "ThemeSwitch", "PoweredByZudoku", "RecursiveMenu", "DropdownMenuSub", "DropdownMenuSubTrigger", "t", "DropdownMenuPortal", "DropdownMenuSubContent", "Link", "DropdownMenuItem", "Header", "memo", "auth", "profile", "isAuthEnabled", "context", "page", "plugins", "accountItems", "p", "isProfileMenuPlugin", "Banner", "o", "ClientOnly", "Skeleton", "DropdownMenu", "DropdownMenuTrigger", "Button", "DropdownMenuContent", "DropdownMenuLabel", "s", "DropdownMenuSeparator", "shouldScaleBackground", "props", "DrawerPrimitive", "DrawerPortal", "DrawerOverlay", "className", "ref", "cn", "children", "hideBar", "DrawerDescription", "SidebarWrapper", "navRef", "active", "scrollIntoViewIfNeeded", "Sidebar", "onRequestClose", "sidebar", "SidebarItem", "Main", "isDrawerOpen", "hasSidebar", "PanelLeftIcon", "LoadingFallback", "Spinner", "Layout", "meta", "authentication", "location", "useLocation", "useScrollToAnchor", "useScrollToTop", "Helmet", "Outlet", "Footer", "ErrorPage", "title", "message", "category", "ProseClasses", "CategoryHeading", "Heading", "getDefaultContent", "statusCode", "StatusPage", "defaultContent", "ErrorBoundaryContext", "createContext", "ErrorBoundary", "Component", "error", "_this$props$onReset", "_this$props", "_len", "args", "_key", "info", "_this$props$onError", "_this$props2", "prevProps", "prevState", "didCatch", "resetKeys", "hasArrayChanged", "_this$props$onReset2", "_this$props3", "fallbackRender", "FallbackComponent", "fallback", "childToRender", "createElement", "a", "b", "index", "createNanoEvents", "event", "callbacks", "length", "ZudokuContext", "queryClient", "__publicField", "needsInitialization", "plugin", "isApiIdentityPlugin", "data", "path", "joinPath", "nav", "request", "isNavigationPlugin", "isEventConsumerPlugin", "objectEntries", "handler", "useAuthState", "TopLevelError", "resetErrorBoundary", "ErrorAlert", "root", "DEFAULT_COMPONENTS", "ComponentsContext", "ComponentsProvider", "RouterEventsEmitter", "zudoku", "previousLocation", "ZudokuProvider", "useSuspenseQuery", "ZudokuReactContext", "zudokuContext", "ZudokoInner", "components", "useMemo", "mdxComponents", "isMdxProviderPlugin", "acc", "curr", "MdxComponents", "stagger", "useContext", "StaggeredRenderContext", "didNavigate", "setDidNavigate", "staggeredValue", "navigation", "useQueryClient", "heads", "_b", "hasHead", "entry", "MDXProvider", "ThemeProvider", "SlotletProvider", "ViewportAnchorProvider", "Zudoku", "useMDXComponents", "useMDXComponentsImport", "LayoutImport", "RouterError", "RouterErrorImport", "ServerError", "ServerErrorImport", "Bootstrap", "BootstrapImport", "BootstrapStatic", "BootstrapStaticImport", "RouteGuard", "RouteGuardImport", "Head", "useZudokuImport", "useAuthImport", "useCache", "useCacheImport", "CACHE_KEYS", "CACHE_KEYS_IMPORT", "ZudokuImport", "StatusPageImport", "Callout", "CalloutImport", "Markdown", "MarkdownImport", "SpinnerImport", "ClientOnlyImport", "ButtonImport", "LinkImport", "useTheme", "useThemeImport"]
}
