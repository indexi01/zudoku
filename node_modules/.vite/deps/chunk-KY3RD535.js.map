{
  "version": 3,
  "sources": ["../../@radix-ui/react-select/src/select.tsx", "../../@radix-ui/number/src/number.ts", "../../@radix-ui/react-use-previous/src/use-previous.tsx", "../../.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/mutationObserver.js", "../../.pnpm/@tanstack+react-query@5.74.3_react@19.1.0/node_modules/@tanstack/react-query/build/modern/useMutation.js", "../../zudoku/src/lib/ui/Select.tsx", "../../@radix-ui/react-tabs/src/tabs.tsx", "../../zudoku/src/lib/ui/Tabs.tsx", "../../zudoku/src/lib/ui/Card.tsx", "../../.pnpm/react-hook-form@7.55.0_react@19.1.0/node_modules/react-hook-form/dist/index.esm.mjs", "../../@radix-ui/react-checkbox/src/checkbox.tsx", "../../@radix-ui/react-popover/src/popover.tsx", "../../.pnpm/cmdk@1.1.1_@types+react-dom@19.1.2_@types+react@19.1.1__@types+react@19.1.1_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/cmdk/dist/chunk-NZJY6EH4.mjs", "../../.pnpm/cmdk@1.1.1_@types+react-dom@19.1.2_@types+react@19.1.1__@types+react@19.1.1_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/cmdk/dist/index.mjs", "../../zudoku/src/lib/ui/Command.tsx", "../../zudoku/src/lib/ui/Callout.tsx", "../../zudoku/src/lib/ui/Input.tsx", "../../@radix-ui/react-label/src/label.tsx", "../../@radix-ui/react-radio-group/src/radio-group.tsx", "../../@radix-ui/react-radio-group/src/radio.tsx", "../../zudoku/src/lib/ui/Collapsible.tsx", "../../zudoku/src/lib/plugins/openapi/client/GraphQLClient.tsx", "../../zudoku/src/lib/plugins/openapi/graphql/graphql.ts", "../../zudoku/src/lib/plugins/openapi/graphql/gql.ts", "../../zudoku/src/lib/ui/Alert.tsx", "../../zudoku/src/lib/components/PathRenderer.tsx", "../../zudoku/src/lib/ui/Textarea.tsx", "../../zudoku/src/lib/util/pastellize.ts", "../../zudoku/src/lib/plugins/openapi/ColorizedParam.tsx", "../../zudoku/src/lib/plugins/openapi/state.ts", "../../zudoku/src/lib/plugins/openapi/playground/createUrl.ts", "../../zudoku/src/lib/ui/DropdownMenu.tsx", "../../zudoku/src/lib/plugins/openapi/playground/ExamplesDropdown.tsx", "../../zudoku/src/lib/ui/Card.tsx", "../../zudoku/src/lib/ui/Checkbox.tsx", "../../zudoku/src/lib/ui/Popover.tsx", "../../zudoku/src/lib/components/Autocomplete.tsx", "../../zudoku/src/lib/util/createVariantComponent.tsx", "../../zudoku/src/lib/plugins/openapi/playground/ParamsGrid.tsx", "../../zudoku/src/lib/plugins/openapi/playground/Headers.tsx", "../../zudoku/src/lib/ui/Label.tsx", "../../zudoku/src/lib/ui/RadioGroup.tsx", "../../zudoku/src/lib/plugins/openapi/playground/IdentitySelector.tsx", "../../zudoku/src/lib/plugins/openapi/playground/IdentityDialog.tsx", "../../zudoku/src/lib/plugins/openapi/playground/PathParams.tsx", "../../zudoku/src/lib/plugins/openapi/playground/InlineInput.tsx", "../../zudoku/src/lib/plugins/openapi/playground/QueryParams.tsx", "../../zudoku/src/lib/plugins/openapi/playground/rememberedIdentity.ts", "../../zudoku/src/lib/plugins/openapi/playground/RequestLoginDialog.tsx", "../../zudoku/src/lib/plugins/openapi/util/methodToColor.ts", "../../zudoku/src/lib/plugins/openapi/playground/result-panel/RequestTab.tsx", "../../zudoku/src/lib/ui/Collapsible.tsx", "../../zudoku/src/lib/plugins/openapi/playground/result-panel/convertToTypes.ts", "../../zudoku/src/lib/plugins/openapi/playground/result-panel/ResponseTab.tsx", "../../zudoku/src/lib/plugins/openapi/playground/result-panel/ResultPanel.tsx", "../../zudoku/src/lib/plugins/openapi/playground/SubmitButton.tsx", "../../zudoku/src/lib/plugins/openapi/playground/Playground.tsx", "../../zudoku/src/lib/plugins/openapi/playground/PlaygroundDialog.tsx", "../../zudoku/src/lib/plugins/openapi/util/methodColorMap.tsx", "../../zudoku/src/lib/plugins/openapi/util/createSidebarCategory.tsx", "../../zudoku/src/lib/plugins/openapi/util/getRoutes.tsx", "../../zudoku/src/lib/plugins/openapi/index.tsx"],
  "sourcesContent": ["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { clamp } from '@radix-ui/number';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createSlot } from '@radix-ui/react-slot';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { VisuallyHidden } from '@radix-ui/react-visually-hidden';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst OPEN_KEYS = [' ', 'Enter', 'ArrowUp', 'ArrowDown'];\nconst SELECTION_KEYS = [' ', 'Enter'];\n\n/* -------------------------------------------------------------------------------------------------\n * Select\n * -----------------------------------------------------------------------------------------------*/\n\nconst SELECT_NAME = 'Select';\n\ntype ItemData = { value: string; disabled: boolean; textValue: string };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  SelectItemElement,\n  ItemData\n>(SELECT_NAME);\n\ntype ScopedProps<P> = P & { __scopeSelect?: Scope };\nconst [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\ntype SelectContextValue = {\n  trigger: SelectTriggerElement | null;\n  onTriggerChange(node: SelectTriggerElement | null): void;\n  valueNode: SelectValueElement | null;\n  onValueNodeChange(node: SelectValueElement): void;\n  valueNodeHasChildren: boolean;\n  onValueNodeHasChildrenChange(hasChildren: boolean): void;\n  contentId: string;\n  value?: string;\n  onValueChange(value: string): void;\n  open: boolean;\n  required?: boolean;\n  onOpenChange(open: boolean): void;\n  dir: SelectProps['dir'];\n  triggerPointerDownPosRef: React.MutableRefObject<{ x: number; y: number } | null>;\n  disabled?: boolean;\n};\n\nconst [SelectProvider, useSelectContext] = createSelectContext<SelectContextValue>(SELECT_NAME);\n\ntype NativeOption = React.ReactElement<React.ComponentProps<'option'>>;\n\ntype SelectNativeOptionsContextValue = {\n  onNativeOptionAdd(option: NativeOption): void;\n  onNativeOptionRemove(option: NativeOption): void;\n};\nconst [SelectNativeOptionsProvider, useSelectNativeOptionsContext] =\n  createSelectContext<SelectNativeOptionsContextValue>(SELECT_NAME);\n\ninterface SelectProps {\n  children?: React.ReactNode;\n  value?: string;\n  defaultValue?: string;\n  onValueChange?(value: string): void;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  dir?: Direction;\n  name?: string;\n  autoComplete?: string;\n  disabled?: boolean;\n  required?: boolean;\n  form?: string;\n}\n\nconst Select: React.FC<SelectProps> = (props: ScopedProps<SelectProps>) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form,\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState<SelectTriggerElement | null>(null);\n  const [valueNode, setValueNode] = React.useState<SelectValueElement | null>(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n  });\n  const triggerPointerDownPosRef = React.useRef<{ x: number; y: number } | null>(null);\n\n  // We set this to true by default so that events bubble to forms without JS (SSR)\n  const isFormControl = trigger ? form || !!trigger.closest('form') : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(new Set<NativeOption>());\n\n  // The native `select` only associates the correct default value if the corresponding\n  // `option` is rendered as a child **at the same time** as itself.\n  // Because it might take a few renders for our items to gather the information to build\n  // the native `option`(s), we generate a key on the `select` to make sure React re-builds it\n  // each time the options change.\n  const nativeSelectKey = Array.from(nativeOptionsSet)\n    .map((option) => option.props.value)\n    .join(';');\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <SelectProvider\n        required={required}\n        scope={__scopeSelect}\n        trigger={trigger}\n        onTriggerChange={setTrigger}\n        valueNode={valueNode}\n        onValueNodeChange={setValueNode}\n        valueNodeHasChildren={valueNodeHasChildren}\n        onValueNodeHasChildrenChange={setValueNodeHasChildren}\n        contentId={useId()}\n        value={value}\n        onValueChange={setValue}\n        open={open}\n        onOpenChange={setOpen}\n        dir={direction}\n        triggerPointerDownPosRef={triggerPointerDownPosRef}\n        disabled={disabled}\n      >\n        <Collection.Provider scope={__scopeSelect}>\n          <SelectNativeOptionsProvider\n            scope={props.__scopeSelect}\n            onNativeOptionAdd={React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, [])}\n            onNativeOptionRemove={React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, [])}\n          >\n            {children}\n          </SelectNativeOptionsProvider>\n        </Collection.Provider>\n\n        {isFormControl ? (\n          <BubbleSelect\n            key={nativeSelectKey}\n            aria-hidden\n            required={required}\n            tabIndex={-1}\n            name={name}\n            autoComplete={autoComplete}\n            value={value}\n            // enable form autofill\n            onChange={(event) => setValue(event.target.value)}\n            disabled={disabled}\n            form={form}\n          >\n            {value === undefined ? <option value=\"\" /> : null}\n            {Array.from(nativeOptionsSet)}\n          </BubbleSelect>\n        ) : null}\n      </SelectProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nSelect.displayName = SELECT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'SelectTrigger';\n\ntype SelectTriggerElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface SelectTriggerProps extends PrimitiveButtonProps {}\n\nconst SelectTrigger = React.forwardRef<SelectTriggerElement, SelectTriggerProps>(\n  (props: ScopedProps<SelectTriggerProps>, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef<React.PointerEvent['pointerType']>('touch');\n\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== undefined) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n\n    const handleOpen = (pointerEvent?: React.MouseEvent | React.PointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        // reset typeahead when we open\n        resetTypeahead();\n      }\n\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY),\n        };\n      }\n    };\n\n    return (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        <Primitive.button\n          type=\"button\"\n          role=\"combobox\"\n          aria-controls={context.contentId}\n          aria-expanded={context.open}\n          aria-required={context.required}\n          aria-autocomplete=\"none\"\n          dir={context.dir}\n          data-state={context.open ? 'open' : 'closed'}\n          disabled={isDisabled}\n          data-disabled={isDisabled ? '' : undefined}\n          data-placeholder={shouldShowPlaceholder(context.value) ? '' : undefined}\n          {...triggerProps}\n          ref={composedRefs}\n          // Enable compatibility with native label or custom `Label` \"click\" for Safari:\n          onClick={composeEventHandlers(triggerProps.onClick, (event) => {\n            // Whilst browsers generally have no issue focusing the trigger when clicking\n            // on a label, Safari seems to struggle with the fact that there's no `onClick`.\n            // We force `focus` in this case. Note: this doesn't create any other side-effect\n            // because we are preventing default in `onPointerDown` so effectively\n            // this only runs for a label \"click\"\n            event.currentTarget.focus();\n\n            // Open on click when using a touch or pen device\n            if (pointerTypeRef.current !== 'mouse') {\n              handleOpen(event);\n            }\n          })}\n          onPointerDown={composeEventHandlers(triggerProps.onPointerDown, (event) => {\n            pointerTypeRef.current = event.pointerType;\n\n            // prevent implicit pointer capture\n            // https://www.w3.org/TR/pointerevents3/#implicit-pointer-capture\n            const target = event.target as HTMLElement;\n            if (target.hasPointerCapture(event.pointerId)) {\n              target.releasePointerCapture(event.pointerId);\n            }\n\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click); also not for touch\n            // devices because that would open the menu on scroll. (pen devices behave as touch on iOS).\n            if (event.button === 0 && event.ctrlKey === false && event.pointerType === 'mouse') {\n              handleOpen(event);\n              // prevent trigger from stealing focus from the active item after opening.\n              event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(triggerProps.onKeyDown, (event) => {\n            const isTypingAhead = searchRef.current !== '';\n            const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n            if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n            if (isTypingAhead && event.key === ' ') return;\n            if (OPEN_KEYS.includes(event.key)) {\n              handleOpen();\n              event.preventDefault();\n            }\n          })}\n        />\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nSelectTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectValue\n * -----------------------------------------------------------------------------------------------*/\n\nconst VALUE_NAME = 'SelectValue';\n\ntype SelectValueElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface SelectValueProps extends Omit<PrimitiveSpanProps, 'placeholder'> {\n  placeholder?: React.ReactNode;\n}\n\nconst SelectValue = React.forwardRef<SelectValueElement, SelectValueProps>(\n  (props: ScopedProps<SelectValueProps>, forwardedRef) => {\n    // We ignore `className` and `style` as this part shouldn't be styled.\n    const { __scopeSelect, className, style, children, placeholder = '', ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== undefined;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n\n    return (\n      <Primitive.span\n        {...valueProps}\n        ref={composedRefs}\n        // we don't want events from the portalled `SelectValue` children to bubble\n        // through the item they came from\n        style={{ pointerEvents: 'none' }}\n      >\n        {shouldShowPlaceholder(context.value) ? <>{placeholder}</> : children}\n      </Primitive.span>\n    );\n  }\n);\n\nSelectValue.displayName = VALUE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectIcon\n * -----------------------------------------------------------------------------------------------*/\n\nconst ICON_NAME = 'SelectIcon';\n\ntype SelectIconElement = React.ElementRef<typeof Primitive.span>;\ninterface SelectIconProps extends PrimitiveSpanProps {}\n\nconst SelectIcon = React.forwardRef<SelectIconElement, SelectIconProps>(\n  (props: ScopedProps<SelectIconProps>, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return (\n      <Primitive.span aria-hidden {...iconProps} ref={forwardedRef}>\n        {children || '\u25BC'}\n      </Primitive.span>\n    );\n  }\n);\n\nSelectIcon.displayName = ICON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'SelectPortal';\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface SelectPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n}\n\nconst SelectPortal: React.FC<SelectPortalProps> = (props: ScopedProps<SelectPortalProps>) => {\n  return <PortalPrimitive asChild {...props} />;\n};\n\nSelectPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'SelectContent';\n\ntype SelectContentElement = SelectContentImplElement;\ninterface SelectContentProps extends SelectContentImplProps {}\n\nconst SelectContent = React.forwardRef<SelectContentElement, SelectContentProps>(\n  (props: ScopedProps<SelectContentProps>, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState<DocumentFragment>();\n\n    // setting the fragment in `useLayoutEffect` as `DocumentFragment` doesn't exist on the server\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n\n    if (!context.open) {\n      const frag = fragment as Element | undefined;\n      return frag\n        ? ReactDOM.createPortal(\n            <SelectContentProvider scope={props.__scopeSelect}>\n              <Collection.Slot scope={props.__scopeSelect}>\n                <div>{props.children}</div>\n              </Collection.Slot>\n            </SelectContentProvider>,\n            frag\n          )\n        : null;\n    }\n\n    return <SelectContentImpl {...props} ref={forwardedRef} />;\n  }\n);\n\nSelectContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectContentImpl\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_MARGIN = 10;\n\ntype SelectContentContextValue = {\n  content?: SelectContentElement | null;\n  viewport?: SelectViewportElement | null;\n  onViewportChange?: (node: SelectViewportElement | null) => void;\n  itemRefCallback?: (node: SelectItemElement | null, value: string, disabled: boolean) => void;\n  selectedItem?: SelectItemElement | null;\n  onItemLeave?: () => void;\n  itemTextRefCallback?: (\n    node: SelectItemTextElement | null,\n    value: string,\n    disabled: boolean\n  ) => void;\n  focusSelectedItem?: () => void;\n  selectedItemText?: SelectItemTextElement | null;\n  position?: SelectContentProps['position'];\n  isPositioned?: boolean;\n  searchRef?: React.RefObject<string>;\n};\n\nconst [SelectContentProvider, useSelectContentContext] =\n  createSelectContext<SelectContentContextValue>(CONTENT_NAME);\n\nconst CONTENT_IMPL_NAME = 'SelectContentImpl';\n\ntype SelectContentImplElement = SelectPopperPositionElement | SelectItemAlignedPositionElement;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\n\ntype SelectPopperPrivateProps = { onPlaced?: PopperContentProps['onPlaced'] };\n\ninterface SelectContentImplProps\n  extends Omit<SelectPopperPositionProps, keyof SelectPopperPrivateProps>,\n    Omit<SelectItemAlignedPositionProps, keyof SelectPopperPrivateProps> {\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n\n  position?: 'item-aligned' | 'popper';\n}\n\nconst Slot = createSlot('SelectContent.RemoveScroll');\n\nconst SelectContentImpl = React.forwardRef<SelectContentImplElement, SelectContentImplProps>(\n  (props: ScopedProps<SelectContentImplProps>, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = 'item-aligned',\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState<SelectContentImplElement | null>(null);\n    const [viewport, setViewport] = React.useState<SelectViewportElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState<SelectItemElement | null>(null);\n    const [selectedItemText, setSelectedItemText] = React.useState<SelectItemTextElement | null>(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n\n    // Make sure the whole tree has focus guards as our `Select` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    const focusFirst = React.useCallback(\n      (candidates: Array<HTMLElement | null>) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          // if focus is already where we want to go, we don't want to keep going through the candidates\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: 'nearest' });\n          // viewport might have padding so scroll to its edges when focusing first/last items.\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n\n    // Since this is not dependent on layout, we want to ensure this runs at the same time as\n    // other effects across components. Hence why we don't call `focusSelectedItem` inside `position`.\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n\n    // prevent selecting items on `pointerup` in some cases after opening from `pointerdown`\n    // and close on `pointerup` outside.\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n\n        const handlePointerMove = (event: PointerEvent) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0)),\n          };\n        };\n        const handlePointerUp = (event: PointerEvent) => {\n          // If the pointer hasn't moved by a certain threshold then we prevent selecting item on `pointerup`.\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            // otherwise, if the event was outside the content, close.\n            if (!content.contains(event.target as HTMLElement)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener('pointermove', handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener('pointermove', handlePointerMove);\n          document.addEventListener('pointerup', handlePointerUp, { capture: true, once: true });\n        }\n\n        return () => {\n          document.removeEventListener('pointermove', handlePointerMove);\n          document.removeEventListener('pointerup', handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener('blur', close);\n      window.addEventListener('resize', close);\n      return () => {\n        window.removeEventListener('blur', close);\n        window.removeEventListener('resize', close);\n      };\n    }, [onOpenChange]);\n\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        /**\n         * Imperative focus during keydown is risky so we prevent React's batching updates\n         * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n         */\n        setTimeout(() => (nextItem.ref.current as HTMLElement).focus());\n      }\n    });\n\n    const itemRefCallback = React.useCallback(\n      (node: SelectItemElement | null, value: string, disabled: boolean) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== undefined && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node: SelectItemTextElement | null, value: string, disabled: boolean) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== undefined && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n\n    const SelectPosition = position === 'popper' ? SelectPopperPosition : SelectItemAlignedPosition;\n\n    // Silently ignore props that are not supported by `SelectItemAlignedPosition`\n    const popperContentProps =\n      SelectPosition === SelectPopperPosition\n        ? {\n            side,\n            sideOffset,\n            align,\n            alignOffset,\n            arrowPadding,\n            collisionBoundary,\n            collisionPadding,\n            sticky,\n            hideWhenDetached,\n            avoidCollisions,\n          }\n        : {};\n\n    return (\n      <SelectContentProvider\n        scope={__scopeSelect}\n        content={content}\n        viewport={viewport}\n        onViewportChange={setViewport}\n        itemRefCallback={itemRefCallback}\n        selectedItem={selectedItem}\n        onItemLeave={handleItemLeave}\n        itemTextRefCallback={itemTextRefCallback}\n        focusSelectedItem={focusSelectedItem}\n        selectedItemText={selectedItemText}\n        position={position}\n        isPositioned={isPositioned}\n        searchRef={searchRef}\n      >\n        <RemoveScroll as={Slot} allowPinchZoom>\n          <FocusScope\n            asChild\n            // we make sure we're not trapping once it's been closed\n            // (closed !== unmounted when animating out)\n            trapped={context.open}\n            onMountAutoFocus={(event) => {\n              // we prevent open autofocus because we manually focus the selected item\n              event.preventDefault();\n            }}\n            onUnmountAutoFocus={composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            })}\n          >\n            <DismissableLayer\n              asChild\n              disableOutsidePointerEvents\n              onEscapeKeyDown={onEscapeKeyDown}\n              onPointerDownOutside={onPointerDownOutside}\n              // When focus is trapped, a focusout event may still happen.\n              // We make sure we don't trigger our `onDismiss` in such case.\n              onFocusOutside={(event) => event.preventDefault()}\n              onDismiss={() => context.onOpenChange(false)}\n            >\n              <SelectPosition\n                role=\"listbox\"\n                id={context.contentId}\n                data-state={context.open ? 'open' : 'closed'}\n                dir={context.dir}\n                onContextMenu={(event) => event.preventDefault()}\n                {...contentProps}\n                {...popperContentProps}\n                onPlaced={() => setIsPositioned(true)}\n                ref={composedRefs}\n                style={{\n                  // flex layout so we can place the scroll buttons properly\n                  display: 'flex',\n                  flexDirection: 'column',\n                  // reset the outline by default as the content MAY get focused\n                  outline: 'none',\n                  ...contentProps.style,\n                }}\n                onKeyDown={composeEventHandlers(contentProps.onKeyDown, (event) => {\n                  const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n\n                  // select should not be navigated using tab key so we prevent it\n                  if (event.key === 'Tab') event.preventDefault();\n\n                  if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n\n                  if (['ArrowUp', 'ArrowDown', 'Home', 'End'].includes(event.key)) {\n                    const items = getItems().filter((item) => !item.disabled);\n                    let candidateNodes = items.map((item) => item.ref.current!);\n\n                    if (['ArrowUp', 'End'].includes(event.key)) {\n                      candidateNodes = candidateNodes.slice().reverse();\n                    }\n                    if (['ArrowUp', 'ArrowDown'].includes(event.key)) {\n                      const currentElement = event.target as SelectItemElement;\n                      const currentIndex = candidateNodes.indexOf(currentElement);\n                      candidateNodes = candidateNodes.slice(currentIndex + 1);\n                    }\n\n                    /**\n                     * Imperative focus during keydown is risky so we prevent React's batching updates\n                     * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n                     */\n                    setTimeout(() => focusFirst(candidateNodes));\n\n                    event.preventDefault();\n                  }\n                })}\n              />\n            </DismissableLayer>\n          </FocusScope>\n        </RemoveScroll>\n      </SelectContentProvider>\n    );\n  }\n);\n\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemAlignedPosition\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_ALIGNED_POSITION_NAME = 'SelectItemAlignedPosition';\n\ntype SelectItemAlignedPositionElement = React.ElementRef<typeof Primitive.div>;\ninterface SelectItemAlignedPositionProps extends PrimitiveDivProps, SelectPopperPrivateProps {}\n\nconst SelectItemAlignedPosition = React.forwardRef<\n  SelectItemAlignedPositionElement,\n  SelectItemAlignedPositionProps\n>((props: ScopedProps<SelectItemAlignedPositionProps>, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState<HTMLDivElement | null>(null);\n  const [content, setContent] = React.useState<SelectItemAlignedPositionElement | null>(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (\n      context.trigger &&\n      context.valueNode &&\n      contentWrapper &&\n      content &&\n      viewport &&\n      selectedItem &&\n      selectedItemText\n    ) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n\n      // -----------------------------------------------------------------------------------------\n      //  Horizontal positioning\n      // -----------------------------------------------------------------------------------------\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n\n      if (context.dir !== 'rtl') {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth),\n        ]);\n\n        contentWrapper.style.minWidth = minContentWidth + 'px';\n        contentWrapper.style.left = clampedLeft + 'px';\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth),\n        ]);\n\n        contentWrapper.style.minWidth = minContentWidth + 'px';\n        contentWrapper.style.right = clampedRight + 'px';\n      }\n\n      // -----------------------------------------------------------------------------------------\n      // Vertical positioning\n      // -----------------------------------------------------------------------------------------\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth; // prettier-ignore\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n        contentWrapper.style.bottom = 0 + 'px';\n        const viewportOffsetBottom =\n          content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight +\n            // viewport might have padding bottom, include it to avoid a scrollable viewport\n            (isLastItem ? viewportPaddingBottom : 0) +\n            viewportOffsetBottom +\n            contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + 'px';\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n        contentWrapper.style.top = 0 + 'px';\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth +\n            viewport.offsetTop +\n            // viewport might have padding top, include it to avoid a scrollable viewport\n            (isFirstItem ? viewportPaddingTop : 0) +\n            selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + 'px';\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + 'px';\n      contentWrapper.style.maxHeight = availableHeight + 'px';\n      // -----------------------------------------------------------------------------------------\n\n      onPlaced?.();\n\n      // we don't want the initial scroll position adjustment to trigger \"expand on scroll\"\n      // so we explicitly turn it on only after they've registered.\n      requestAnimationFrame(() => (shouldExpandOnScrollRef.current = true));\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced,\n  ]);\n\n  useLayoutEffect(() => position(), [position]);\n\n  // copy z-index from content to wrapper\n  const [contentZIndex, setContentZIndex] = React.useState<string>();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n\n  // When the viewport becomes scrollable at the top, the scroll up button will mount.\n  // Because it is part of the normal flow, it will push down the viewport, thus throwing our\n  // trigger => selectedItem alignment off by the amount the viewport was pushed down.\n  // We wait for this to happen and then re-run the positining logic one more time to account for it.\n  const handleScrollButtonChange = React.useCallback(\n    (node: SelectScrollButtonImplElement | null) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n\n  return (\n    <SelectViewportProvider\n      scope={__scopeSelect}\n      contentWrapper={contentWrapper}\n      shouldExpandOnScrollRef={shouldExpandOnScrollRef}\n      onScrollButtonChange={handleScrollButtonChange}\n    >\n      <div\n        ref={setContentWrapper}\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          position: 'fixed',\n          zIndex: contentZIndex,\n        }}\n      >\n        <Primitive.div\n          {...popperProps}\n          ref={composedRefs}\n          style={{\n            // When we get the height of the content, it includes borders. If we were to set\n            // the height without having `boxSizing: 'border-box'` it would be too big.\n            boxSizing: 'border-box',\n            // We need to ensure the content doesn't get taller than the wrapper\n            maxHeight: '100%',\n            ...popperProps.style,\n          }}\n        />\n      </div>\n    </SelectViewportProvider>\n  );\n});\n\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectPopperPosition\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPPER_POSITION_NAME = 'SelectPopperPosition';\n\ntype SelectPopperPositionElement = React.ElementRef<typeof PopperPrimitive.Content>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface SelectPopperPositionProps extends PopperContentProps, SelectPopperPrivateProps {}\n\nconst SelectPopperPosition = React.forwardRef<\n  SelectPopperPositionElement,\n  SelectPopperPositionProps\n>((props: ScopedProps<SelectPopperPositionProps>, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = 'start',\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n\n  return (\n    <PopperPrimitive.Content\n      {...popperScope}\n      {...popperProps}\n      ref={forwardedRef}\n      align={align}\n      collisionPadding={collisionPadding}\n      style={{\n        // Ensure border-box for floating-ui calculations\n        boxSizing: 'border-box',\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          '--radix-select-content-transform-origin': 'var(--radix-popper-transform-origin)',\n          '--radix-select-content-available-width': 'var(--radix-popper-available-width)',\n          '--radix-select-content-available-height': 'var(--radix-popper-available-height)',\n          '--radix-select-trigger-width': 'var(--radix-popper-anchor-width)',\n          '--radix-select-trigger-height': 'var(--radix-popper-anchor-height)',\n        },\n      }}\n    />\n  );\n});\n\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectViewport\n * -----------------------------------------------------------------------------------------------*/\n\ntype SelectViewportContextValue = {\n  contentWrapper?: HTMLDivElement | null;\n  shouldExpandOnScrollRef?: React.RefObject<boolean>;\n  onScrollButtonChange?: (node: SelectScrollButtonImplElement | null) => void;\n};\n\nconst [SelectViewportProvider, useSelectViewportContext] =\n  createSelectContext<SelectViewportContextValue>(CONTENT_NAME, {});\n\nconst VIEWPORT_NAME = 'SelectViewport';\n\ntype SelectViewportElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface SelectViewportProps extends PrimitiveDivProps {\n  nonce?: string;\n}\n\nconst SelectViewport = React.forwardRef<SelectViewportElement, SelectViewportProps>(\n  (props: ScopedProps<SelectViewportProps>, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return (\n      <>\n        {/* Hide scrollbars cross-browser and enable momentum scroll for touch devices */}\n        <style\n          dangerouslySetInnerHTML={{\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`,\n          }}\n          nonce={nonce}\n        />\n        <Collection.Slot scope={__scopeSelect}>\n          <Primitive.div\n            data-radix-select-viewport=\"\"\n            role=\"presentation\"\n            {...viewportProps}\n            ref={composedRefs}\n            style={{\n              // we use position: 'relative' here on the `viewport` so that when we call\n              // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n              // (independent of the scrollUpButton).\n              position: 'relative',\n              flex: 1,\n              // Viewport should only be scrollable in the vertical direction.\n              // This won't work in vertical writing modes, so we'll need to\n              // revisit this if/when that is supported\n              // https://developer.chrome.com/blog/vertical-form-controls\n              overflow: 'hidden auto',\n              ...viewportProps.style,\n            }}\n            onScroll={composeEventHandlers(viewportProps.onScroll, (event) => {\n              const viewport = event.currentTarget;\n              const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n              if (shouldExpandOnScrollRef?.current && contentWrapper) {\n                const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n                if (scrolledBy > 0) {\n                  const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                  const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                  const cssHeight = parseFloat(contentWrapper.style.height);\n                  const prevHeight = Math.max(cssMinHeight, cssHeight);\n\n                  if (prevHeight < availableHeight) {\n                    const nextHeight = prevHeight + scrolledBy;\n                    const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                    const heightDiff = nextHeight - clampedNextHeight;\n\n                    contentWrapper.style.height = clampedNextHeight + 'px';\n                    if (contentWrapper.style.bottom === '0px') {\n                      viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                      // ensure the content stays pinned to the bottom\n                      contentWrapper.style.justifyContent = 'flex-end';\n                    }\n                  }\n                }\n              }\n              prevScrollTopRef.current = viewport.scrollTop;\n            })}\n          />\n        </Collection.Slot>\n      </>\n    );\n  }\n);\n\nSelectViewport.displayName = VIEWPORT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'SelectGroup';\n\ntype SelectGroupContextValue = { id: string };\n\nconst [SelectGroupContextProvider, useSelectGroupContext] =\n  createSelectContext<SelectGroupContextValue>(GROUP_NAME);\n\ntype SelectGroupElement = React.ElementRef<typeof Primitive.div>;\ninterface SelectGroupProps extends PrimitiveDivProps {}\n\nconst SelectGroup = React.forwardRef<SelectGroupElement, SelectGroupProps>(\n  (props: ScopedProps<SelectGroupProps>, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return (\n      <SelectGroupContextProvider scope={__scopeSelect} id={groupId}>\n        <Primitive.div role=\"group\" aria-labelledby={groupId} {...groupProps} ref={forwardedRef} />\n      </SelectGroupContextProvider>\n    );\n  }\n);\n\nSelectGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'SelectLabel';\n\ntype SelectLabelElement = React.ElementRef<typeof Primitive.div>;\ninterface SelectLabelProps extends PrimitiveDivProps {}\n\nconst SelectLabel = React.forwardRef<SelectLabelElement, SelectLabelProps>(\n  (props: ScopedProps<SelectLabelProps>, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return <Primitive.div id={groupContext.id} {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nSelectLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'SelectItem';\n\ntype SelectItemContextValue = {\n  value: string;\n  disabled: boolean;\n  textId: string;\n  isSelected: boolean;\n  onItemTextChange(node: SelectItemTextElement | null): void;\n};\n\nconst [SelectItemContextProvider, useSelectItemContext] =\n  createSelectContext<SelectItemContextValue>(ITEM_NAME);\n\ntype SelectItemElement = React.ElementRef<typeof Primitive.div>;\ninterface SelectItemProps extends PrimitiveDivProps {\n  value: string;\n  disabled?: boolean;\n  textValue?: string;\n}\n\nconst SelectItem = React.forwardRef<SelectItemElement, SelectItemProps>(\n  (props: ScopedProps<SelectItemProps>, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? '');\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, (node) =>\n      contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef<React.PointerEvent['pointerType']>('touch');\n\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n\n    if (value === '') {\n      throw new Error(\n        'A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.'\n      );\n    }\n\n    return (\n      <SelectItemContextProvider\n        scope={__scopeSelect}\n        value={value}\n        disabled={disabled}\n        textId={textId}\n        isSelected={isSelected}\n        onItemTextChange={React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? '').trim());\n        }, [])}\n      >\n        <Collection.ItemSlot\n          scope={__scopeSelect}\n          value={value}\n          disabled={disabled}\n          textValue={textValue}\n        >\n          <Primitive.div\n            role=\"option\"\n            aria-labelledby={textId}\n            data-highlighted={isFocused ? '' : undefined}\n            // `isFocused` caveat fixes stuttering in VoiceOver\n            aria-selected={isSelected && isFocused}\n            data-state={isSelected ? 'checked' : 'unchecked'}\n            aria-disabled={disabled || undefined}\n            data-disabled={disabled ? '' : undefined}\n            tabIndex={disabled ? undefined : -1}\n            {...itemProps}\n            ref={composedRefs}\n            onFocus={composeEventHandlers(itemProps.onFocus, () => setIsFocused(true))}\n            onBlur={composeEventHandlers(itemProps.onBlur, () => setIsFocused(false))}\n            onClick={composeEventHandlers(itemProps.onClick, () => {\n              // Open on click when using a touch or pen device\n              if (pointerTypeRef.current !== 'mouse') handleSelect();\n            })}\n            onPointerUp={composeEventHandlers(itemProps.onPointerUp, () => {\n              // Using a mouse you should be able to do pointer down, move through\n              // the list, and release the pointer over the item to select it.\n              if (pointerTypeRef.current === 'mouse') handleSelect();\n            })}\n            onPointerDown={composeEventHandlers(itemProps.onPointerDown, (event) => {\n              pointerTypeRef.current = event.pointerType;\n            })}\n            onPointerMove={composeEventHandlers(itemProps.onPointerMove, (event) => {\n              // Remember pointer type when sliding over to this item from another one\n              pointerTypeRef.current = event.pointerType;\n              if (disabled) {\n                contentContext.onItemLeave?.();\n              } else if (pointerTypeRef.current === 'mouse') {\n                // even though safari doesn't support this option, it's acceptable\n                // as it only means it might scroll a few pixels when using the pointer.\n                event.currentTarget.focus({ preventScroll: true });\n              }\n            })}\n            onPointerLeave={composeEventHandlers(itemProps.onPointerLeave, (event) => {\n              if (event.currentTarget === document.activeElement) {\n                contentContext.onItemLeave?.();\n              }\n            })}\n            onKeyDown={composeEventHandlers(itemProps.onKeyDown, (event) => {\n              const isTypingAhead = contentContext.searchRef?.current !== '';\n              if (isTypingAhead && event.key === ' ') return;\n              if (SELECTION_KEYS.includes(event.key)) handleSelect();\n              // prevent page scroll if using the space key to select an item\n              if (event.key === ' ') event.preventDefault();\n            })}\n          />\n        </Collection.ItemSlot>\n      </SelectItemContextProvider>\n    );\n  }\n);\n\nSelectItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemText\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_TEXT_NAME = 'SelectItemText';\n\ntype SelectItemTextElement = React.ElementRef<typeof Primitive.span>;\ninterface SelectItemTextProps extends PrimitiveSpanProps {}\n\nconst SelectItemText = React.forwardRef<SelectItemTextElement, SelectItemTextProps>(\n  (props: ScopedProps<SelectItemTextProps>, forwardedRef) => {\n    // We ignore `className` and `style` as this part shouldn't be styled.\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState<SelectItemTextElement | null>(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => (\n        <option key={itemContext.value} value={itemContext.value} disabled={itemContext.disabled}>\n          {textContent}\n        </option>\n      ),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n\n    return (\n      <>\n        <Primitive.span id={itemContext.textId} {...itemTextProps} ref={composedRefs} />\n\n        {/* Portal the select item text into the trigger value node */}\n        {itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren\n          ? ReactDOM.createPortal(itemTextProps.children, context.valueNode)\n          : null}\n      </>\n    );\n  }\n);\n\nSelectItemText.displayName = ITEM_TEXT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_INDICATOR_NAME = 'SelectItemIndicator';\n\ntype SelectItemIndicatorElement = React.ElementRef<typeof Primitive.span>;\ninterface SelectItemIndicatorProps extends PrimitiveSpanProps {}\n\nconst SelectItemIndicator = React.forwardRef<SelectItemIndicatorElement, SelectItemIndicatorProps>(\n  (props: ScopedProps<SelectItemIndicatorProps>, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? (\n      <Primitive.span aria-hidden {...itemIndicatorProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectScrollUpButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst SCROLL_UP_BUTTON_NAME = 'SelectScrollUpButton';\n\ntype SelectScrollUpButtonElement = SelectScrollButtonImplElement;\ninterface SelectScrollUpButtonProps extends Omit<SelectScrollButtonImplProps, 'onAutoScroll'> {}\n\nconst SelectScrollUpButton = React.forwardRef<\n  SelectScrollUpButtonElement,\n  SelectScrollUpButtonProps\n>((props: ScopedProps<SelectScrollUpButtonProps>, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      const viewport = contentContext.viewport;\n      function handleScroll() {\n        const canScrollUp = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp);\n      }\n      handleScroll();\n      viewport.addEventListener('scroll', handleScroll);\n      return () => viewport.removeEventListener('scroll', handleScroll);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n\n  return canScrollUp ? (\n    <SelectScrollButtonImpl\n      {...props}\n      ref={composedRefs}\n      onAutoScroll={() => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }}\n    />\n  ) : null;\n});\n\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectScrollDownButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst SCROLL_DOWN_BUTTON_NAME = 'SelectScrollDownButton';\n\ntype SelectScrollDownButtonElement = SelectScrollButtonImplElement;\ninterface SelectScrollDownButtonProps extends Omit<SelectScrollButtonImplProps, 'onAutoScroll'> {}\n\nconst SelectScrollDownButton = React.forwardRef<\n  SelectScrollDownButtonElement,\n  SelectScrollDownButtonProps\n>((props: ScopedProps<SelectScrollDownButtonProps>, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      const viewport = contentContext.viewport;\n      function handleScroll() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        // we use Math.ceil here because if the UI is zoomed-in\n        // `scrollTop` is not always reported as an integer\n        const canScrollDown = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown);\n      }\n      handleScroll();\n      viewport.addEventListener('scroll', handleScroll);\n      return () => viewport.removeEventListener('scroll', handleScroll);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n\n  return canScrollDown ? (\n    <SelectScrollButtonImpl\n      {...props}\n      ref={composedRefs}\n      onAutoScroll={() => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }}\n    />\n  ) : null;\n});\n\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\n\ntype SelectScrollButtonImplElement = React.ElementRef<typeof Primitive.div>;\ninterface SelectScrollButtonImplProps extends PrimitiveDivProps {\n  onAutoScroll(): void;\n}\n\nconst SelectScrollButtonImpl = React.forwardRef<\n  SelectScrollButtonImplElement,\n  SelectScrollButtonImplProps\n>((props: ScopedProps<SelectScrollButtonImplProps>, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext('SelectScrollButton', __scopeSelect);\n  const autoScrollTimerRef = React.useRef<number | null>(null);\n  const getItems = useCollection(__scopeSelect);\n\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n\n  // When the viewport becomes scrollable on either side, the relevant scroll button will mount.\n  // Because it is part of the normal flow, it will push down (top button) or shrink (bottom button)\n  // the viewport, potentially causing the active item to now be partially out of view.\n  // We re-run the `scrollIntoView` logic to make sure it stays within the viewport.\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: 'nearest' });\n  }, [getItems]);\n\n  return (\n    <Primitive.div\n      aria-hidden\n      {...scrollIndicatorProps}\n      ref={forwardedRef}\n      style={{ flexShrink: 0, ...scrollIndicatorProps.style }}\n      onPointerDown={composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      })}\n      onPointerMove={composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      })}\n      onPointerLeave={composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })}\n    />\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * SelectSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'SelectSeparator';\n\ntype SelectSeparatorElement = React.ElementRef<typeof Primitive.div>;\ninterface SelectSeparatorProps extends PrimitiveDivProps {}\n\nconst SelectSeparator = React.forwardRef<SelectSeparatorElement, SelectSeparatorProps>(\n  (props: ScopedProps<SelectSeparatorProps>, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return <Primitive.div aria-hidden {...separatorProps} ref={forwardedRef} />;\n  }\n);\n\nSelectSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'SelectArrow';\n\ntype SelectArrowElement = React.ElementRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface SelectArrowProps extends PopperArrowProps {}\n\nconst SelectArrow = React.forwardRef<SelectArrowElement, SelectArrowProps>(\n  (props: ScopedProps<SelectArrowProps>, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === 'popper' ? (\n      <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nSelectArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction shouldShowPlaceholder(value?: string) {\n  return value === '' || value === undefined;\n}\n\nconst BubbleSelect = React.forwardRef<HTMLSelectElement, React.ComponentPropsWithoutRef<'select'>>(\n  (props, forwardedRef) => {\n    const { value, ...selectProps } = props;\n    const ref = React.useRef<HTMLSelectElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n\n    // Bubble value change to parents (e.g form change event)\n    React.useEffect(() => {\n      const select = ref.current!;\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        'value'\n      ) as PropertyDescriptor;\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event('change', { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n\n    /**\n     * We purposefully use a `select` here to support form autofill as much\n     * as possible.\n     *\n     * We purposefully do not add the `value` attribute here to allow the value\n     * to be set programmatically and bubble to any parent form `onChange` event.\n     * Adding the `value` will cause React to consider the programmatic\n     * dispatch a duplicate and it will get swallowed.\n     *\n     * We use `VisuallyHidden` rather than `display: \"none\"` because Safari autofill\n     * won't work otherwise.\n     */\n    return (\n      <VisuallyHidden asChild>\n        <select {...selectProps} ref={composedRefs} defaultValue={value} />\n      </VisuallyHidden>\n    );\n  }\n);\n\nBubbleSelect.displayName = 'BubbleSelect';\n\nfunction useTypeaheadSearch(onSearchChange: (search: string) => void) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef('');\n  const timerRef = React.useRef(0);\n\n  const handleTypeaheadSearch = React.useCallback(\n    (key: string) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n\n      (function updateSearch(value: string) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        // Reset `searchRef` 1 second after it was last updated\n        if (value !== '') timerRef.current = window.setTimeout(() => updateSearch(''), 1000);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = '';\n    window.clearTimeout(timerRef.current);\n  }, []);\n\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n\n  return [searchRef, handleTypeaheadSearch, resetTypeahead] as const;\n}\n\n/**\n * This is the \"meat\" of the typeahead matching logic. It takes in a list of items,\n * the search and the current item, and returns the next item (or `undefined`).\n *\n * We normalize the search because if a user has repeatedly pressed a character,\n * we want the exact same behavior as if we only had that one character\n * (ie. cycle through items starting with that character)\n *\n * We also reorder the items by wrapping the array around the current item.\n * This is so we always look forward from the current item, and picking the first\n * item will always be the correct one.\n *\n * Finally, if the normalized search is exactly one character, we exclude the\n * current item from the values because otherwise it would be the first to match always\n * and focus would never move. This is as opposed to the regular case, where we\n * don't want focus to move if the current item still matches.\n */\nfunction findNextItem<T extends { textValue: string }>(\n  items: T[],\n  search: string,\n  currentItem?: T\n) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find((item) =>\n    item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : undefined;\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\nconst Root = Select;\nconst Trigger = SelectTrigger;\nconst Value = SelectValue;\nconst Icon = SelectIcon;\nconst Portal = SelectPortal;\nconst Content = SelectContent;\nconst Viewport = SelectViewport;\nconst Group = SelectGroup;\nconst Label = SelectLabel;\nconst Item = SelectItem;\nconst ItemText = SelectItemText;\nconst ItemIndicator = SelectItemIndicator;\nconst ScrollUpButton = SelectScrollUpButton;\nconst ScrollDownButton = SelectScrollDownButton;\nconst Separator = SelectSeparator;\nconst Arrow = SelectArrow;\n\nexport {\n  createSelectScope,\n  //\n  Select,\n  SelectTrigger,\n  SelectValue,\n  SelectIcon,\n  SelectPortal,\n  SelectContent,\n  SelectViewport,\n  SelectGroup,\n  SelectLabel,\n  SelectItem,\n  SelectItemText,\n  SelectItemIndicator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n  SelectSeparator,\n  SelectArrow,\n  //\n  Root,\n  Trigger,\n  Value,\n  Icon,\n  Portal,\n  Content,\n  Viewport,\n  Group,\n  Label,\n  Item,\n  ItemText,\n  ItemIndicator,\n  ScrollUpButton,\n  ScrollDownButton,\n  Separator,\n  Arrow,\n};\nexport type {\n  SelectProps,\n  SelectTriggerProps,\n  SelectValueProps,\n  SelectIconProps,\n  SelectPortalProps,\n  SelectContentProps,\n  SelectViewportProps,\n  SelectGroupProps,\n  SelectLabelProps,\n  SelectItemProps,\n  SelectItemTextProps,\n  SelectItemIndicatorProps,\n  SelectScrollUpButtonProps,\n  SelectScrollDownButtonProps,\n  SelectSeparatorProps,\n  SelectArrowProps,\n};\n", "function clamp(value: number, [min, max]: [number, number]): number {\n  return Math.min(max, Math.max(min, value));\n}\n\nexport { clamp };\n", "import * as React from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = React.useRef({ value, previous: value });\n\n  // We compare values before making an update to ensure that\n  // a change has been made. This ensures the previous value is\n  // persisted correctly between renders.\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\n\nexport { usePrevious };\n", "// src/mutationObserver.ts\nimport { getDefaultState } from \"./mutation.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { hashKey, shallowEqualObjects } from \"./utils.js\";\nvar MutationObserver = class extends Subscribable {\n  #client;\n  #currentResult = void 0;\n  #currentMutation;\n  #mutateOptions;\n  constructor(client, options) {\n    super();\n    this.#client = client;\n    this.setOptions(options);\n    this.bindMethods();\n    this.#updateResult();\n  }\n  bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n  setOptions(options) {\n    const prevOptions = this.options;\n    this.options = this.#client.defaultMutationOptions(options);\n    if (!shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getMutationCache().notify({\n        type: \"observerOptionsUpdated\",\n        mutation: this.#currentMutation,\n        observer: this\n      });\n    }\n    if (prevOptions?.mutationKey && this.options.mutationKey && hashKey(prevOptions.mutationKey) !== hashKey(this.options.mutationKey)) {\n      this.reset();\n    } else if (this.#currentMutation?.state.status === \"pending\") {\n      this.#currentMutation.setOptions(this.options);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#currentMutation?.removeObserver(this);\n    }\n  }\n  onMutationUpdate(action) {\n    this.#updateResult();\n    this.#notify(action);\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  reset() {\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = void 0;\n    this.#updateResult();\n    this.#notify();\n  }\n  mutate(variables, options) {\n    this.#mutateOptions = options;\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = this.#client.getMutationCache().build(this.#client, this.options);\n    this.#currentMutation.addObserver(this);\n    return this.#currentMutation.execute(variables);\n  }\n  #updateResult() {\n    const state = this.#currentMutation?.state ?? getDefaultState();\n    this.#currentResult = {\n      ...state,\n      isPending: state.status === \"pending\",\n      isSuccess: state.status === \"success\",\n      isError: state.status === \"error\",\n      isIdle: state.status === \"idle\",\n      mutate: this.mutate,\n      reset: this.reset\n    };\n  }\n  #notify(action) {\n    notifyManager.batch(() => {\n      if (this.#mutateOptions && this.hasListeners()) {\n        const variables = this.#currentResult.variables;\n        const context = this.#currentResult.context;\n        if (action?.type === \"success\") {\n          this.#mutateOptions.onSuccess?.(action.data, variables, context);\n          this.#mutateOptions.onSettled?.(action.data, null, variables, context);\n        } else if (action?.type === \"error\") {\n          this.#mutateOptions.onError?.(action.error, variables, context);\n          this.#mutateOptions.onSettled?.(\n            void 0,\n            action.error,\n            variables,\n            context\n          );\n        }\n      }\n      this.listeners.forEach((listener) => {\n        listener(this.#currentResult);\n      });\n    });\n  }\n};\nexport {\n  MutationObserver\n};\n//# sourceMappingURL=mutationObserver.js.map", "\"use client\";\n\n// src/useMutation.ts\nimport * as React from \"react\";\nimport { MutationObserver, notifyManager } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { noop, shouldThrowError } from \"./utils.js\";\nfunction useMutation(options, queryClient) {\n  const client = useQueryClient(queryClient);\n  const [observer] = React.useState(\n    () => new MutationObserver(\n      client,\n      options\n    )\n  );\n  React.useEffect(() => {\n    observer.setOptions(options);\n  }, [observer, options]);\n  const result = React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  const mutate = React.useCallback(\n    (variables, mutateOptions) => {\n      observer.mutate(variables, mutateOptions).catch(noop);\n    },\n    [observer]\n  );\n  if (result.error && shouldThrowError(observer.options.throwOnError, [result.error])) {\n    throw result.error;\n  }\n  return { ...result, mutate, mutateAsync: result.mutate };\n}\nexport {\n  useMutation\n};\n//# sourceMappingURL=useMutation.js.map", "import * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport * as React from \"react\";\nimport { cn } from \"../util/cn.js\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"truncate\">{children}</span>\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"flex-shrink-0 h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className,\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className,\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n          \"divide-y\",\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n};\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useId } from '@radix-ui/react-id';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Tabs\n * -----------------------------------------------------------------------------------------------*/\n\nconst TABS_NAME = 'Tabs';\n\ntype ScopedProps<P> = P & { __scopeTabs?: Scope };\nconst [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype TabsContextValue = {\n  baseId: string;\n  value?: string;\n  onValueChange: (value: string) => void;\n  orientation?: TabsProps['orientation'];\n  dir?: TabsProps['dir'];\n  activationMode?: TabsProps['activationMode'];\n};\n\nconst [TabsProvider, useTabsContext] = createTabsContext<TabsContextValue>(TABS_NAME);\n\ntype TabsElement = React.ElementRef<typeof Primitive.div>;\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface TabsProps extends PrimitiveDivProps {\n  /** The value for the selected tab, if controlled */\n  value?: string;\n  /** The value of the tab to select by default, if uncontrolled */\n  defaultValue?: string;\n  /** A function called when a new tab is selected */\n  onValueChange?: (value: string) => void;\n  /**\n   * The orientation the tabs are layed out.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   * @defaultValue horizontal\n   */\n  orientation?: RovingFocusGroupProps['orientation'];\n  /**\n   * The direction of navigation between toolbar items.\n   */\n  dir?: RovingFocusGroupProps['dir'];\n  /**\n   * Whether a tab is activated automatically or manually.\n   * @defaultValue automatic\n   * */\n  activationMode?: 'automatic' | 'manual';\n}\n\nconst Tabs = React.forwardRef<TabsElement, TabsProps>(\n  (props: ScopedProps<TabsProps>, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = 'horizontal',\n      dir,\n      activationMode = 'automatic',\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue,\n    });\n\n    return (\n      <TabsProvider\n        scope={__scopeTabs}\n        baseId={useId()}\n        value={value}\n        onValueChange={setValue}\n        orientation={orientation}\n        dir={direction}\n        activationMode={activationMode}\n      >\n        <Primitive.div\n          dir={direction}\n          data-orientation={orientation}\n          {...tabsProps}\n          ref={forwardedRef}\n        />\n      </TabsProvider>\n    );\n  }\n);\n\nTabs.displayName = TABS_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsList\n * -----------------------------------------------------------------------------------------------*/\n\nconst TAB_LIST_NAME = 'TabsList';\n\ntype TabsListElement = React.ElementRef<typeof Primitive.div>;\ninterface TabsListProps extends PrimitiveDivProps {\n  loop?: RovingFocusGroupProps['loop'];\n}\n\nconst TabsList = React.forwardRef<TabsListElement, TabsListProps>(\n  (props: ScopedProps<TabsListProps>, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return (\n      <RovingFocusGroup.Root\n        asChild\n        {...rovingFocusGroupScope}\n        orientation={context.orientation}\n        dir={context.dir}\n        loop={loop}\n      >\n        <Primitive.div\n          role=\"tablist\"\n          aria-orientation={context.orientation}\n          {...listProps}\n          ref={forwardedRef}\n        />\n      </RovingFocusGroup.Root>\n    );\n  }\n);\n\nTabsList.displayName = TAB_LIST_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'TabsTrigger';\n\ntype TabsTriggerElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface TabsTriggerProps extends PrimitiveButtonProps {\n  value: string;\n}\n\nconst TabsTrigger = React.forwardRef<TabsTriggerElement, TabsTriggerProps>(\n  (props: ScopedProps<TabsTriggerProps>, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!disabled}\n        active={isSelected}\n      >\n        <Primitive.button\n          type=\"button\"\n          role=\"tab\"\n          aria-selected={isSelected}\n          aria-controls={contentId}\n          data-state={isSelected ? 'active' : 'inactive'}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          id={triggerId}\n          {...triggerProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click)\n            if (!disabled && event.button === 0 && event.ctrlKey === false) {\n              context.onValueChange(value);\n            } else {\n              // prevent focus to avoid accidental activation\n              event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if ([' ', 'Enter'].includes(event.key)) context.onValueChange(value);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => {\n            // handle \"automatic\" activation if necessary\n            // ie. activate tab following focus\n            const isAutomaticActivation = context.activationMode !== 'manual';\n            if (!isSelected && !disabled && isAutomaticActivation) {\n              context.onValueChange(value);\n            }\n          })}\n        />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nTabsTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'TabsContent';\n\ntype TabsContentElement = React.ElementRef<typeof Primitive.div>;\ninterface TabsContentProps extends PrimitiveDivProps {\n  value: string;\n\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst TabsContent = React.forwardRef<TabsContentElement, TabsContentProps>(\n  (props: ScopedProps<TabsContentProps>, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => (isMountAnimationPreventedRef.current = false));\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n\n    return (\n      <Presence present={forceMount || isSelected}>\n        {({ present }) => (\n          <Primitive.div\n            data-state={isSelected ? 'active' : 'inactive'}\n            data-orientation={context.orientation}\n            role=\"tabpanel\"\n            aria-labelledby={triggerId}\n            hidden={!present}\n            id={contentId}\n            tabIndex={0}\n            {...contentProps}\n            ref={forwardedRef}\n            style={{\n              ...props.style,\n              animationDuration: isMountAnimationPreventedRef.current ? '0s' : undefined,\n            }}\n          >\n            {present && children}\n          </Primitive.div>\n        )}\n      </Presence>\n    );\n  }\n);\n\nTabsContent.displayName = CONTENT_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nfunction makeTriggerId(baseId: string, value: string) {\n  return `${baseId}-trigger-${value}`;\n}\n\nfunction makeContentId(baseId: string, value: string) {\n  return `${baseId}-content-${value}`;\n}\n\nconst Root = Tabs;\nconst List = TabsList;\nconst Trigger = TabsTrigger;\nconst Content = TabsContent;\n\nexport {\n  createTabsScope,\n  //\n  Tabs,\n  TabsList,\n  TabsTrigger,\n  TabsContent,\n  //\n  Root,\n  List,\n  Trigger,\n  Content,\n};\nexport type { TabsProps, TabsListProps, TabsTriggerProps, TabsContentProps };\n", "import * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport * as React from \"react\";\nimport { cn } from \"../util/cn.js\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsContent, TabsList, TabsTrigger };\n", "import * as React from \"react\";\nimport { cn } from \"../util/cn.js\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow-sm\",\n      className,\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n};\n", "import React from 'react';\n\nvar isCheckBoxInput = (element) => element.type === 'checkbox';\n\nvar isDateObject = (value) => value instanceof Date;\n\nvar isNullOrUndefined = (value) => value == null;\n\nconst isObjectType = (value) => typeof value === 'object';\nvar isObject = (value) => !isNullOrUndefined(value) &&\n    !Array.isArray(value) &&\n    isObjectType(value) &&\n    !isDateObject(value);\n\nvar getEventValue = (event) => isObject(event) && event.target\n    ? isCheckBoxInput(event.target)\n        ? event.target.checked\n        : event.target.value\n    : event;\n\nvar getNodeParentName = (name) => name.substring(0, name.search(/\\.\\d+(\\.|$)/)) || name;\n\nvar isNameInFieldArray = (names, name) => names.has(getNodeParentName(name));\n\nvar isPlainObject = (tempObject) => {\n    const prototypeCopy = tempObject.constructor && tempObject.constructor.prototype;\n    return (isObject(prototypeCopy) && prototypeCopy.hasOwnProperty('isPrototypeOf'));\n};\n\nvar isWeb = typeof window !== 'undefined' &&\n    typeof window.HTMLElement !== 'undefined' &&\n    typeof document !== 'undefined';\n\nfunction cloneObject(data) {\n    let copy;\n    const isArray = Array.isArray(data);\n    const isFileListInstance = typeof FileList !== 'undefined' ? data instanceof FileList : false;\n    if (data instanceof Date) {\n        copy = new Date(data);\n    }\n    else if (data instanceof Set) {\n        copy = new Set(data);\n    }\n    else if (!(isWeb && (data instanceof Blob || isFileListInstance)) &&\n        (isArray || isObject(data))) {\n        copy = isArray ? [] : {};\n        if (!isArray && !isPlainObject(data)) {\n            copy = data;\n        }\n        else {\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    copy[key] = cloneObject(data[key]);\n                }\n            }\n        }\n    }\n    else {\n        return data;\n    }\n    return copy;\n}\n\nvar compact = (value) => Array.isArray(value) ? value.filter(Boolean) : [];\n\nvar isUndefined = (val) => val === undefined;\n\nvar get = (object, path, defaultValue) => {\n    if (!path || !isObject(object)) {\n        return defaultValue;\n    }\n    const result = compact(path.split(/[,[\\].]+?/)).reduce((result, key) => isNullOrUndefined(result) ? result : result[key], object);\n    return isUndefined(result) || result === object\n        ? isUndefined(object[path])\n            ? defaultValue\n            : object[path]\n        : result;\n};\n\nvar isBoolean = (value) => typeof value === 'boolean';\n\nvar isKey = (value) => /^\\w*$/.test(value);\n\nvar stringToPath = (input) => compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n\nvar set = (object, path, value) => {\n    let index = -1;\n    const tempPath = isKey(path) ? [path] : stringToPath(path);\n    const length = tempPath.length;\n    const lastIndex = length - 1;\n    while (++index < length) {\n        const key = tempPath[index];\n        let newValue = value;\n        if (index !== lastIndex) {\n            const objValue = object[key];\n            newValue =\n                isObject(objValue) || Array.isArray(objValue)\n                    ? objValue\n                    : !isNaN(+tempPath[index + 1])\n                        ? []\n                        : {};\n        }\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n            return;\n        }\n        object[key] = newValue;\n        object = object[key];\n    }\n};\n\nconst EVENTS = {\n    BLUR: 'blur',\n    FOCUS_OUT: 'focusout',\n    CHANGE: 'change',\n};\nconst VALIDATION_MODE = {\n    onBlur: 'onBlur',\n    onChange: 'onChange',\n    onSubmit: 'onSubmit',\n    onTouched: 'onTouched',\n    all: 'all',\n};\nconst INPUT_VALIDATION_RULES = {\n    max: 'max',\n    min: 'min',\n    maxLength: 'maxLength',\n    minLength: 'minLength',\n    pattern: 'pattern',\n    required: 'required',\n    validate: 'validate',\n};\n\nconst HookFormContext = React.createContext(null);\n/**\n * This custom hook allows you to access the form context. useFormContext is intended to be used in deeply nested structures, where it would become inconvenient to pass the context as a prop. To be used with {@link FormProvider}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) • [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @returns return all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst useFormContext = () => React.useContext(HookFormContext);\n/**\n * A provider component that propagates the `useForm` methods to all children components via [React Context](https://reactjs.org/docs/context.html) API. To be used with {@link useFormContext}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) • [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @param props - all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst FormProvider = (props) => {\n    const { children, ...data } = props;\n    return (React.createElement(HookFormContext.Provider, { value: data }, children));\n};\n\nvar getProxyFormState = (formState, control, localProxyFormState, isRoot = true) => {\n    const result = {\n        defaultValues: control._defaultValues,\n    };\n    for (const key in formState) {\n        Object.defineProperty(result, key, {\n            get: () => {\n                const _key = key;\n                if (control._proxyFormState[_key] !== VALIDATION_MODE.all) {\n                    control._proxyFormState[_key] = !isRoot || VALIDATION_MODE.all;\n                }\n                localProxyFormState && (localProxyFormState[_key] = true);\n                return formState[_key];\n            },\n        });\n    }\n    return result;\n};\n\n/**\n * This custom hook allows you to subscribe to each form state, and isolate the re-render at the custom hook level. It has its scope in terms of form state subscription, so it would not affect other useFormState and useForm. Using this hook can reduce the re-render impact on large and complex form application.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformstate) • [Demo](https://codesandbox.io/s/useformstate-75xly)\n *\n * @param props - include options on specify fields to subscribe. {@link UseFormStateReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, control } = useForm({\n *     defaultValues: {\n *     firstName: \"firstName\"\n *   }});\n *   const { dirtyFields } = useFormState({\n *     control\n *   });\n *   const onSubmit = (data) => console.log(data);\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input {...register(\"firstName\")} placeholder=\"First Name\" />\n *       {dirtyFields.firstName && <p>Field is dirty.</p>}\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFormState(props) {\n    const methods = useFormContext();\n    const { control = methods.control, disabled, name, exact } = props || {};\n    const [formState, updateFormState] = React.useState(control._formState);\n    const _localProxyFormState = React.useRef({\n        isDirty: false,\n        isLoading: false,\n        dirtyFields: false,\n        touchedFields: false,\n        validatingFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    });\n    const _name = React.useRef(name);\n    _name.current = name;\n    React.useEffect(() => control._subscribe({\n        name: _name.current,\n        formState: _localProxyFormState.current,\n        exact,\n        callback: (formState) => {\n            !disabled &&\n                updateFormState({\n                    ...control._formState,\n                    ...formState,\n                });\n        },\n    }), [control, disabled, exact]);\n    React.useEffect(() => {\n        _localProxyFormState.current.isValid && control._setValid(true);\n    }, [control]);\n    return React.useMemo(() => getProxyFormState(formState, control, _localProxyFormState.current, false), [formState, control]);\n}\n\nvar isString = (value) => typeof value === 'string';\n\nvar generateWatchOutput = (names, _names, formValues, isGlobal, defaultValue) => {\n    if (isString(names)) {\n        isGlobal && _names.watch.add(names);\n        return get(formValues, names, defaultValue);\n    }\n    if (Array.isArray(names)) {\n        return names.map((fieldName) => (isGlobal && _names.watch.add(fieldName), get(formValues, fieldName)));\n    }\n    isGlobal && (_names.watchAll = true);\n    return formValues;\n};\n\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) • [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   name: \"fieldName\"\n *   control,\n * })\n * ```\n */\nfunction useWatch(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, defaultValue, disabled, exact, } = props || {};\n    const _name = React.useRef(name);\n    const _defaultValue = React.useRef(defaultValue);\n    _name.current = name;\n    React.useEffect(() => control._subscribe({\n        name: _name.current,\n        formState: {\n            values: true,\n        },\n        exact,\n        callback: (formState) => !disabled &&\n            updateValue(generateWatchOutput(_name.current, control._names, formState.values || control._formValues, false, _defaultValue.current)),\n    }), [control, disabled, exact]);\n    const [value, updateValue] = React.useState(control._getWatch(name, defaultValue));\n    React.useEffect(() => control._removeUnmounted());\n    return value;\n}\n\n/**\n * Custom hook to work with controlled component, this function provide you with both form and field level state. Re-render is isolated at the hook level.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller) • [Demo](https://codesandbox.io/s/usecontroller-0o8px)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns field properties, field and form state. {@link UseControllerReturn}\n *\n * @example\n * ```tsx\n * function Input(props) {\n *   const { field, fieldState, formState } = useController(props);\n *   return (\n *     <div>\n *       <input {...field} placeholder={props.name} />\n *       <p>{fieldState.isTouched && \"Touched\"}</p>\n *       <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *     </div>\n *   );\n * }\n * ```\n */\nfunction useController(props) {\n    const methods = useFormContext();\n    const { name, disabled, control = methods.control, shouldUnregister } = props;\n    const isArrayField = isNameInFieldArray(control._names.array, name);\n    const value = useWatch({\n        control,\n        name,\n        defaultValue: get(control._formValues, name, get(control._defaultValues, name, props.defaultValue)),\n        exact: true,\n    });\n    const formState = useFormState({\n        control,\n        name,\n        exact: true,\n    });\n    const _props = React.useRef(props);\n    const _registerProps = React.useRef(control.register(name, {\n        ...props.rules,\n        value,\n        ...(isBoolean(props.disabled) ? { disabled: props.disabled } : {}),\n    }));\n    const fieldState = React.useMemo(() => Object.defineProperties({}, {\n        invalid: {\n            enumerable: true,\n            get: () => !!get(formState.errors, name),\n        },\n        isDirty: {\n            enumerable: true,\n            get: () => !!get(formState.dirtyFields, name),\n        },\n        isTouched: {\n            enumerable: true,\n            get: () => !!get(formState.touchedFields, name),\n        },\n        isValidating: {\n            enumerable: true,\n            get: () => !!get(formState.validatingFields, name),\n        },\n        error: {\n            enumerable: true,\n            get: () => get(formState.errors, name),\n        },\n    }), [formState, name]);\n    const onChange = React.useCallback((event) => _registerProps.current.onChange({\n        target: {\n            value: getEventValue(event),\n            name: name,\n        },\n        type: EVENTS.CHANGE,\n    }), [name]);\n    const onBlur = React.useCallback(() => _registerProps.current.onBlur({\n        target: {\n            value: get(control._formValues, name),\n            name: name,\n        },\n        type: EVENTS.BLUR,\n    }), [name, control._formValues]);\n    const ref = React.useCallback((elm) => {\n        const field = get(control._fields, name);\n        if (field && elm) {\n            field._f.ref = {\n                focus: () => elm.focus(),\n                select: () => elm.select(),\n                setCustomValidity: (message) => elm.setCustomValidity(message),\n                reportValidity: () => elm.reportValidity(),\n            };\n        }\n    }, [control._fields, name]);\n    const field = React.useMemo(() => ({\n        name,\n        value,\n        ...(isBoolean(disabled) || formState.disabled\n            ? { disabled: formState.disabled || disabled }\n            : {}),\n        onChange,\n        onBlur,\n        ref,\n    }), [name, disabled, formState.disabled, onChange, onBlur, ref, value]);\n    React.useEffect(() => {\n        const _shouldUnregisterField = control._options.shouldUnregister || shouldUnregister;\n        control.register(name, {\n            ..._props.current.rules,\n            ...(isBoolean(_props.current.disabled)\n                ? { disabled: _props.current.disabled }\n                : {}),\n        });\n        const updateMounted = (name, value) => {\n            const field = get(control._fields, name);\n            if (field && field._f) {\n                field._f.mount = value;\n            }\n        };\n        updateMounted(name, true);\n        if (_shouldUnregisterField) {\n            const value = cloneObject(get(control._options.defaultValues, name));\n            set(control._defaultValues, name, value);\n            if (isUndefined(get(control._formValues, name))) {\n                set(control._formValues, name, value);\n            }\n        }\n        !isArrayField && control.register(name);\n        return () => {\n            (isArrayField\n                ? _shouldUnregisterField && !control._state.action\n                : _shouldUnregisterField)\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, isArrayField, shouldUnregister]);\n    React.useEffect(() => {\n        control._setDisabledField({\n            disabled,\n            name,\n        });\n    }, [disabled, name, control]);\n    return React.useMemo(() => ({\n        field,\n        formState,\n        fieldState,\n    }), [field, formState, fieldState]);\n}\n\n/**\n * Component based on `useController` hook to work with controlled component.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller/controller) • [Demo](https://codesandbox.io/s/react-hook-form-v6-controller-ts-jwyzw) • [Video](https://www.youtube.com/watch?v=N2UNk_UCVyA)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns provide field handler functions, field and form state.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control } = useForm<FormValues>({\n *     defaultValues: {\n *       test: \"\"\n *     }\n *   });\n *\n *   return (\n *     <form>\n *       <Controller\n *         control={control}\n *         name=\"test\"\n *         render={({ field: { onChange, onBlur, value, ref }, formState, fieldState }) => (\n *           <>\n *             <input\n *               onChange={onChange} // send value to hook form\n *               onBlur={onBlur} // notify when input is touched\n *               value={value} // return updated value\n *               ref={ref} // set ref for focus management\n *             />\n *             <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *             <p>{fieldState.isTouched ? \"touched\" : \"\"}</p>\n *           </>\n *         )}\n *       />\n *     </form>\n *   );\n * }\n * ```\n */\nconst Controller = (props) => props.render(useController(props));\n\nconst flatten = (obj) => {\n    const output = {};\n    for (const key of Object.keys(obj)) {\n        if (isObjectType(obj[key]) && obj[key] !== null) {\n            const nested = flatten(obj[key]);\n            for (const nestedKey of Object.keys(nested)) {\n                output[`${key}.${nestedKey}`] = nested[nestedKey];\n            }\n        }\n        else {\n            output[key] = obj[key];\n        }\n    }\n    return output;\n};\n\nconst POST_REQUEST = 'post';\n/**\n * Form component to manage submission.\n *\n * @param props - to setup submission detail. {@link FormProps}\n *\n * @returns form component or headless render prop.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control, formState: { errors } } = useForm();\n *\n *   return (\n *     <Form action=\"/api\" control={control}>\n *       <input {...register(\"name\")} />\n *       <p>{errors?.root?.server && 'Server error'}</p>\n *       <button>Submit</button>\n *     </Form>\n *   );\n * }\n * ```\n */\nfunction Form(props) {\n    const methods = useFormContext();\n    const [mounted, setMounted] = React.useState(false);\n    const { control = methods.control, onSubmit, children, action, method = POST_REQUEST, headers, encType, onError, render, onSuccess, validateStatus, ...rest } = props;\n    const submit = async (event) => {\n        let hasError = false;\n        let type = '';\n        await control.handleSubmit(async (data) => {\n            const formData = new FormData();\n            let formDataJson = '';\n            try {\n                formDataJson = JSON.stringify(data);\n            }\n            catch (_a) { }\n            const flattenFormValues = flatten(control._formValues);\n            for (const key in flattenFormValues) {\n                formData.append(key, flattenFormValues[key]);\n            }\n            if (onSubmit) {\n                await onSubmit({\n                    data,\n                    event,\n                    method,\n                    formData,\n                    formDataJson,\n                });\n            }\n            if (action) {\n                try {\n                    const shouldStringifySubmissionData = [\n                        headers && headers['Content-Type'],\n                        encType,\n                    ].some((value) => value && value.includes('json'));\n                    const response = await fetch(String(action), {\n                        method,\n                        headers: {\n                            ...headers,\n                            ...(encType ? { 'Content-Type': encType } : {}),\n                        },\n                        body: shouldStringifySubmissionData ? formDataJson : formData,\n                    });\n                    if (response &&\n                        (validateStatus\n                            ? !validateStatus(response.status)\n                            : response.status < 200 || response.status >= 300)) {\n                        hasError = true;\n                        onError && onError({ response });\n                        type = String(response.status);\n                    }\n                    else {\n                        onSuccess && onSuccess({ response });\n                    }\n                }\n                catch (error) {\n                    hasError = true;\n                    onError && onError({ error });\n                }\n            }\n        })(event);\n        if (hasError && props.control) {\n            props.control._subjects.state.next({\n                isSubmitSuccessful: false,\n            });\n            props.control.setError('root.server', {\n                type,\n            });\n        }\n    };\n    React.useEffect(() => {\n        setMounted(true);\n    }, []);\n    return render ? (React.createElement(React.Fragment, null, render({\n        submit,\n    }))) : (React.createElement(\"form\", { noValidate: mounted, action: action, method: method, encType: encType, onSubmit: submit, ...rest }, children));\n}\n\nvar appendErrors = (name, validateAllFieldCriteria, errors, type, message) => validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n            ...(errors[name] && errors[name].types ? errors[name].types : {}),\n            [type]: message || true,\n        },\n    }\n    : {};\n\nvar convertToArrayPayload = (value) => (Array.isArray(value) ? value : [value]);\n\nvar createSubject = () => {\n    let _observers = [];\n    const next = (value) => {\n        for (const observer of _observers) {\n            observer.next && observer.next(value);\n        }\n    };\n    const subscribe = (observer) => {\n        _observers.push(observer);\n        return {\n            unsubscribe: () => {\n                _observers = _observers.filter((o) => o !== observer);\n            },\n        };\n    };\n    const unsubscribe = () => {\n        _observers = [];\n    };\n    return {\n        get observers() {\n            return _observers;\n        },\n        next,\n        subscribe,\n        unsubscribe,\n    };\n};\n\nvar isPrimitive = (value) => isNullOrUndefined(value) || !isObjectType(value);\n\nfunction deepEqual(object1, object2) {\n    if (isPrimitive(object1) || isPrimitive(object2)) {\n        return object1 === object2;\n    }\n    if (isDateObject(object1) && isDateObject(object2)) {\n        return object1.getTime() === object2.getTime();\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const val1 = object1[key];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (key !== 'ref') {\n            const val2 = object2[key];\n            if ((isDateObject(val1) && isDateObject(val2)) ||\n                (isObject(val1) && isObject(val2)) ||\n                (Array.isArray(val1) && Array.isArray(val2))\n                ? !deepEqual(val1, val2)\n                : val1 !== val2) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nvar isEmptyObject = (value) => isObject(value) && !Object.keys(value).length;\n\nvar isFileInput = (element) => element.type === 'file';\n\nvar isFunction = (value) => typeof value === 'function';\n\nvar isHTMLElement = (value) => {\n    if (!isWeb) {\n        return false;\n    }\n    const owner = value ? value.ownerDocument : 0;\n    return (value instanceof\n        (owner && owner.defaultView ? owner.defaultView.HTMLElement : HTMLElement));\n};\n\nvar isMultipleSelect = (element) => element.type === `select-multiple`;\n\nvar isRadioInput = (element) => element.type === 'radio';\n\nvar isRadioOrCheckbox = (ref) => isRadioInput(ref) || isCheckBoxInput(ref);\n\nvar live = (ref) => isHTMLElement(ref) && ref.isConnected;\n\nfunction baseGet(object, updatePath) {\n    const length = updatePath.slice(0, -1).length;\n    let index = 0;\n    while (index < length) {\n        object = isUndefined(object) ? index++ : object[updatePath[index++]];\n    }\n    return object;\n}\nfunction isEmptyArray(obj) {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key) && !isUndefined(obj[key])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction unset(object, path) {\n    const paths = Array.isArray(path)\n        ? path\n        : isKey(path)\n            ? [path]\n            : stringToPath(path);\n    const childObject = paths.length === 1 ? object : baseGet(object, paths);\n    const index = paths.length - 1;\n    const key = paths[index];\n    if (childObject) {\n        delete childObject[key];\n    }\n    if (index !== 0 &&\n        ((isObject(childObject) && isEmptyObject(childObject)) ||\n            (Array.isArray(childObject) && isEmptyArray(childObject)))) {\n        unset(object, paths.slice(0, -1));\n    }\n    return object;\n}\n\nvar objectHasFunction = (data) => {\n    for (const key in data) {\n        if (isFunction(data[key])) {\n            return true;\n        }\n    }\n    return false;\n};\n\nfunction markFieldsDirty(data, fields = {}) {\n    const isParentNodeArray = Array.isArray(data);\n    if (isObject(data) || isParentNodeArray) {\n        for (const key in data) {\n            if (Array.isArray(data[key]) ||\n                (isObject(data[key]) && !objectHasFunction(data[key]))) {\n                fields[key] = Array.isArray(data[key]) ? [] : {};\n                markFieldsDirty(data[key], fields[key]);\n            }\n            else if (!isNullOrUndefined(data[key])) {\n                fields[key] = true;\n            }\n        }\n    }\n    return fields;\n}\nfunction getDirtyFieldsFromDefaultValues(data, formValues, dirtyFieldsFromValues) {\n    const isParentNodeArray = Array.isArray(data);\n    if (isObject(data) || isParentNodeArray) {\n        for (const key in data) {\n            if (Array.isArray(data[key]) ||\n                (isObject(data[key]) && !objectHasFunction(data[key]))) {\n                if (isUndefined(formValues) ||\n                    isPrimitive(dirtyFieldsFromValues[key])) {\n                    dirtyFieldsFromValues[key] = Array.isArray(data[key])\n                        ? markFieldsDirty(data[key], [])\n                        : { ...markFieldsDirty(data[key]) };\n                }\n                else {\n                    getDirtyFieldsFromDefaultValues(data[key], isNullOrUndefined(formValues) ? {} : formValues[key], dirtyFieldsFromValues[key]);\n                }\n            }\n            else {\n                dirtyFieldsFromValues[key] = !deepEqual(data[key], formValues[key]);\n            }\n        }\n    }\n    return dirtyFieldsFromValues;\n}\nvar getDirtyFields = (defaultValues, formValues) => getDirtyFieldsFromDefaultValues(defaultValues, formValues, markFieldsDirty(formValues));\n\nconst defaultResult = {\n    value: false,\n    isValid: false,\n};\nconst validResult = { value: true, isValid: true };\nvar getCheckboxValue = (options) => {\n    if (Array.isArray(options)) {\n        if (options.length > 1) {\n            const values = options\n                .filter((option) => option && option.checked && !option.disabled)\n                .map((option) => option.value);\n            return { value: values, isValid: !!values.length };\n        }\n        return options[0].checked && !options[0].disabled\n            ? // @ts-expect-error expected to work in the browser\n                options[0].attributes && !isUndefined(options[0].attributes.value)\n                    ? isUndefined(options[0].value) || options[0].value === ''\n                        ? validResult\n                        : { value: options[0].value, isValid: true }\n                    : validResult\n            : defaultResult;\n    }\n    return defaultResult;\n};\n\nvar getFieldValueAs = (value, { valueAsNumber, valueAsDate, setValueAs }) => isUndefined(value)\n    ? value\n    : valueAsNumber\n        ? value === ''\n            ? NaN\n            : value\n                ? +value\n                : value\n        : valueAsDate && isString(value)\n            ? new Date(value)\n            : setValueAs\n                ? setValueAs(value)\n                : value;\n\nconst defaultReturn = {\n    isValid: false,\n    value: null,\n};\nvar getRadioValue = (options) => Array.isArray(options)\n    ? options.reduce((previous, option) => option && option.checked && !option.disabled\n        ? {\n            isValid: true,\n            value: option.value,\n        }\n        : previous, defaultReturn)\n    : defaultReturn;\n\nfunction getFieldValue(_f) {\n    const ref = _f.ref;\n    if (isFileInput(ref)) {\n        return ref.files;\n    }\n    if (isRadioInput(ref)) {\n        return getRadioValue(_f.refs).value;\n    }\n    if (isMultipleSelect(ref)) {\n        return [...ref.selectedOptions].map(({ value }) => value);\n    }\n    if (isCheckBoxInput(ref)) {\n        return getCheckboxValue(_f.refs).value;\n    }\n    return getFieldValueAs(isUndefined(ref.value) ? _f.ref.value : ref.value, _f);\n}\n\nvar getResolverOptions = (fieldsNames, _fields, criteriaMode, shouldUseNativeValidation) => {\n    const fields = {};\n    for (const name of fieldsNames) {\n        const field = get(_fields, name);\n        field && set(fields, name, field._f);\n    }\n    return {\n        criteriaMode,\n        names: [...fieldsNames],\n        fields,\n        shouldUseNativeValidation,\n    };\n};\n\nvar isRegex = (value) => value instanceof RegExp;\n\nvar getRuleValue = (rule) => isUndefined(rule)\n    ? rule\n    : isRegex(rule)\n        ? rule.source\n        : isObject(rule)\n            ? isRegex(rule.value)\n                ? rule.value.source\n                : rule.value\n            : rule;\n\nvar getValidationModes = (mode) => ({\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange,\n    isOnAll: mode === VALIDATION_MODE.all,\n    isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n\nconst ASYNC_FUNCTION = 'AsyncFunction';\nvar hasPromiseValidation = (fieldReference) => !!fieldReference &&\n    !!fieldReference.validate &&\n    !!((isFunction(fieldReference.validate) &&\n        fieldReference.validate.constructor.name === ASYNC_FUNCTION) ||\n        (isObject(fieldReference.validate) &&\n            Object.values(fieldReference.validate).find((validateFunction) => validateFunction.constructor.name === ASYNC_FUNCTION)));\n\nvar hasValidation = (options) => options.mount &&\n    (options.required ||\n        options.min ||\n        options.max ||\n        options.maxLength ||\n        options.minLength ||\n        options.pattern ||\n        options.validate);\n\nvar isWatched = (name, _names, isBlurEvent) => !isBlurEvent &&\n    (_names.watchAll ||\n        _names.watch.has(name) ||\n        [..._names.watch].some((watchName) => name.startsWith(watchName) &&\n            /^\\.\\w+/.test(name.slice(watchName.length))));\n\nconst iterateFieldsByAction = (fields, action, fieldsNames, abortEarly) => {\n    for (const key of fieldsNames || Object.keys(fields)) {\n        const field = get(fields, key);\n        if (field) {\n            const { _f, ...currentField } = field;\n            if (_f) {\n                if (_f.refs && _f.refs[0] && action(_f.refs[0], key) && !abortEarly) {\n                    return true;\n                }\n                else if (_f.ref && action(_f.ref, _f.name) && !abortEarly) {\n                    return true;\n                }\n                else {\n                    if (iterateFieldsByAction(currentField, action)) {\n                        break;\n                    }\n                }\n            }\n            else if (isObject(currentField)) {\n                if (iterateFieldsByAction(currentField, action)) {\n                    break;\n                }\n            }\n        }\n    }\n    return;\n};\n\nfunction schemaErrorLookup(errors, _fields, name) {\n    const error = get(errors, name);\n    if (error || isKey(name)) {\n        return {\n            error,\n            name,\n        };\n    }\n    const names = name.split('.');\n    while (names.length) {\n        const fieldName = names.join('.');\n        const field = get(_fields, fieldName);\n        const foundError = get(errors, fieldName);\n        if (field && !Array.isArray(field) && name !== fieldName) {\n            return { name };\n        }\n        if (foundError && foundError.type) {\n            return {\n                name: fieldName,\n                error: foundError,\n            };\n        }\n        names.pop();\n    }\n    return {\n        name,\n    };\n}\n\nvar shouldRenderFormState = (formStateData, _proxyFormState, updateFormState, isRoot) => {\n    updateFormState(formStateData);\n    const { name, ...formState } = formStateData;\n    return (isEmptyObject(formState) ||\n        Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n        Object.keys(formState).find((key) => _proxyFormState[key] ===\n            (!isRoot || VALIDATION_MODE.all)));\n};\n\nvar shouldSubscribeByName = (name, signalName, exact) => !name ||\n    !signalName ||\n    name === signalName ||\n    convertToArrayPayload(name).some((currentName) => currentName &&\n        (exact\n            ? currentName === signalName\n            : currentName.startsWith(signalName) ||\n                signalName.startsWith(currentName)));\n\nvar skipValidation = (isBlurEvent, isTouched, isSubmitted, reValidateMode, mode) => {\n    if (mode.isOnAll) {\n        return false;\n    }\n    else if (!isSubmitted && mode.isOnTouch) {\n        return !(isTouched || isBlurEvent);\n    }\n    else if (isSubmitted ? reValidateMode.isOnBlur : mode.isOnBlur) {\n        return !isBlurEvent;\n    }\n    else if (isSubmitted ? reValidateMode.isOnChange : mode.isOnChange) {\n        return isBlurEvent;\n    }\n    return true;\n};\n\nvar unsetEmptyArray = (ref, name) => !compact(get(ref, name)).length && unset(ref, name);\n\nvar updateFieldArrayRootError = (errors, error, name) => {\n    const fieldArrayErrors = convertToArrayPayload(get(errors, name));\n    set(fieldArrayErrors, 'root', error[name]);\n    set(errors, name, fieldArrayErrors);\n    return errors;\n};\n\nvar isMessage = (value) => isString(value);\n\nfunction getValidateError(result, ref, type = 'validate') {\n    if (isMessage(result) ||\n        (Array.isArray(result) && result.every(isMessage)) ||\n        (isBoolean(result) && !result)) {\n        return {\n            type,\n            message: isMessage(result) ? result : '',\n            ref,\n        };\n    }\n}\n\nvar getValueAndMessage = (validationData) => isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n    };\n\nvar validateField = async (field, disabledFieldNames, formValues, validateAllFieldCriteria, shouldUseNativeValidation, isFieldArray) => {\n    const { ref, refs, required, maxLength, minLength, min, max, pattern, validate, name, valueAsNumber, mount, } = field._f;\n    const inputValue = get(formValues, name);\n    if (!mount || disabledFieldNames.has(name)) {\n        return {};\n    }\n    const inputRef = refs ? refs[0] : ref;\n    const setCustomValidity = (message) => {\n        if (shouldUseNativeValidation && inputRef.reportValidity) {\n            inputRef.setCustomValidity(isBoolean(message) ? '' : message || '');\n            inputRef.reportValidity();\n        }\n    };\n    const error = {};\n    const isRadio = isRadioInput(ref);\n    const isCheckBox = isCheckBoxInput(ref);\n    const isRadioOrCheckbox = isRadio || isCheckBox;\n    const isEmpty = ((valueAsNumber || isFileInput(ref)) &&\n        isUndefined(ref.value) &&\n        isUndefined(inputValue)) ||\n        (isHTMLElement(ref) && ref.value === '') ||\n        inputValue === '' ||\n        (Array.isArray(inputValue) && !inputValue.length);\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\n        error[name] = {\n            type: exceedMax ? maxType : minType,\n            message,\n            ref,\n            ...appendErrorsCurry(exceedMax ? maxType : minType, message),\n        };\n    };\n    if (isFieldArray\n        ? !Array.isArray(inputValue) || !inputValue.length\n        : required &&\n            ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n                (isBoolean(inputValue) && !inputValue) ||\n                (isCheckBox && !getCheckboxValue(refs).isValid) ||\n                (isRadio && !getRadioValue(refs).isValid))) {\n        const { value, message } = isMessage(required)\n            ? { value: !!required, message: required }\n            : getValueAndMessage(required);\n        if (value) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.required,\n                message,\n                ref: inputRef,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n        let exceedMax;\n        let exceedMin;\n        const maxOutput = getValueAndMessage(max);\n        const minOutput = getValueAndMessage(min);\n        if (!isNullOrUndefined(inputValue) && !isNaN(inputValue)) {\n            const valueNumber = ref.valueAsNumber ||\n                (inputValue ? +inputValue : inputValue);\n            if (!isNullOrUndefined(maxOutput.value)) {\n                exceedMax = valueNumber > maxOutput.value;\n            }\n            if (!isNullOrUndefined(minOutput.value)) {\n                exceedMin = valueNumber < minOutput.value;\n            }\n        }\n        else {\n            const valueDate = ref.valueAsDate || new Date(inputValue);\n            const convertTimeToDate = (time) => new Date(new Date().toDateString() + ' ' + time);\n            const isTime = ref.type == 'time';\n            const isWeek = ref.type == 'week';\n            if (isString(maxOutput.value) && inputValue) {\n                exceedMax = isTime\n                    ? convertTimeToDate(inputValue) > convertTimeToDate(maxOutput.value)\n                    : isWeek\n                        ? inputValue > maxOutput.value\n                        : valueDate > new Date(maxOutput.value);\n            }\n            if (isString(minOutput.value) && inputValue) {\n                exceedMin = isTime\n                    ? convertTimeToDate(inputValue) < convertTimeToDate(minOutput.value)\n                    : isWeek\n                        ? inputValue < minOutput.value\n                        : valueDate < new Date(minOutput.value);\n            }\n        }\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(!!exceedMax, maxOutput.message, minOutput.message, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if ((maxLength || minLength) &&\n        !isEmpty &&\n        (isString(inputValue) || (isFieldArray && Array.isArray(inputValue)))) {\n        const maxLengthOutput = getValueAndMessage(maxLength);\n        const minLengthOutput = getValueAndMessage(minLength);\n        const exceedMax = !isNullOrUndefined(maxLengthOutput.value) &&\n            inputValue.length > +maxLengthOutput.value;\n        const exceedMin = !isNullOrUndefined(minLengthOutput.value) &&\n            inputValue.length < +minLengthOutput.value;\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(exceedMax, maxLengthOutput.message, minLengthOutput.message);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if (pattern && !isEmpty && isString(inputValue)) {\n        const { value: patternValue, message } = getValueAndMessage(pattern);\n        if (isRegex(patternValue) && !inputValue.match(patternValue)) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.pattern,\n                message,\n                ref,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (validate) {\n        if (isFunction(validate)) {\n            const result = await validate(inputValue, formValues);\n            const validateError = getValidateError(result, inputRef);\n            if (validateError) {\n                error[name] = {\n                    ...validateError,\n                    ...appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message),\n                };\n                if (!validateAllFieldCriteria) {\n                    setCustomValidity(validateError.message);\n                    return error;\n                }\n            }\n        }\n        else if (isObject(validate)) {\n            let validationResult = {};\n            for (const key in validate) {\n                if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n                    break;\n                }\n                const validateError = getValidateError(await validate[key](inputValue, formValues), inputRef, key);\n                if (validateError) {\n                    validationResult = {\n                        ...validateError,\n                        ...appendErrorsCurry(key, validateError.message),\n                    };\n                    setCustomValidity(validateError.message);\n                    if (validateAllFieldCriteria) {\n                        error[name] = validationResult;\n                    }\n                }\n            }\n            if (!isEmptyObject(validationResult)) {\n                error[name] = {\n                    ref: inputRef,\n                    ...validationResult,\n                };\n                if (!validateAllFieldCriteria) {\n                    return error;\n                }\n            }\n        }\n    }\n    setCustomValidity(true);\n    return error;\n};\n\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nfunction createFormControl(props = {}) {\n    let _options = {\n        ...defaultOptions,\n        ...props,\n    };\n    let _formState = {\n        submitCount: 0,\n        isDirty: false,\n        isLoading: isFunction(_options.defaultValues),\n        isValidating: false,\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        touchedFields: {},\n        dirtyFields: {},\n        validatingFields: {},\n        errors: _options.errors || {},\n        disabled: _options.disabled || false,\n    };\n    const _fields = {};\n    let _defaultValues = isObject(_options.defaultValues) || isObject(_options.values)\n        ? cloneObject(_options.values || _options.defaultValues) || {}\n        : {};\n    let _formValues = _options.shouldUnregister\n        ? {}\n        : cloneObject(_defaultValues);\n    let _state = {\n        action: false,\n        mount: false,\n        watch: false,\n    };\n    let _names = {\n        mount: new Set(),\n        disabled: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n    };\n    let delayErrorCallback;\n    let timer = 0;\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        validatingFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    let _proxySubscribeFormState = {\n        ..._proxyFormState,\n    };\n    const _subjects = {\n        array: createSubject(),\n        state: createSubject(),\n    };\n    const validationModeBeforeSubmit = getValidationModes(_options.mode);\n    const validationModeAfterSubmit = getValidationModes(_options.reValidateMode);\n    const shouldDisplayAllAssociatedErrors = _options.criteriaMode === VALIDATION_MODE.all;\n    const debounce = (callback) => (wait) => {\n        clearTimeout(timer);\n        timer = setTimeout(callback, wait);\n    };\n    const _setValid = async (shouldUpdateValid) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValid ||\n                _proxySubscribeFormState.isValid ||\n                shouldUpdateValid)) {\n            const isValid = _options.resolver\n                ? isEmptyObject((await _runSchema()).errors)\n                : await executeBuiltInValidation(_fields, true);\n            if (isValid !== _formState.isValid) {\n                _subjects.state.next({\n                    isValid,\n                });\n            }\n        }\n    };\n    const _updateIsValidating = (names, isValidating) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValidating ||\n                _proxyFormState.validatingFields ||\n                _proxySubscribeFormState.isValidating ||\n                _proxySubscribeFormState.validatingFields)) {\n            (names || Array.from(_names.mount)).forEach((name) => {\n                if (name) {\n                    isValidating\n                        ? set(_formState.validatingFields, name, isValidating)\n                        : unset(_formState.validatingFields, name);\n                }\n            });\n            _subjects.state.next({\n                validatingFields: _formState.validatingFields,\n                isValidating: !isEmptyObject(_formState.validatingFields),\n            });\n        }\n    };\n    const _setFieldArray = (name, values = [], method, args, shouldSetValues = true, shouldUpdateFieldsAndState = true) => {\n        if (args && method && !_options.disabled) {\n            _state.action = true;\n            if (shouldUpdateFieldsAndState && Array.isArray(get(_fields, name))) {\n                const fieldValues = method(get(_fields, name), args.argA, args.argB);\n                shouldSetValues && set(_fields, name, fieldValues);\n            }\n            if (shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.errors, name))) {\n                const errors = method(get(_formState.errors, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.errors, name, errors);\n                unsetEmptyArray(_formState.errors, name);\n            }\n            if ((_proxyFormState.touchedFields ||\n                _proxySubscribeFormState.touchedFields) &&\n                shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.touchedFields, name))) {\n                const touchedFields = method(get(_formState.touchedFields, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.touchedFields, name, touchedFields);\n            }\n            if (_proxyFormState.dirtyFields || _proxySubscribeFormState.dirtyFields) {\n                _formState.dirtyFields = getDirtyFields(_defaultValues, _formValues);\n            }\n            _subjects.state.next({\n                name,\n                isDirty: _getDirty(name, values),\n                dirtyFields: _formState.dirtyFields,\n                errors: _formState.errors,\n                isValid: _formState.isValid,\n            });\n        }\n        else {\n            set(_formValues, name, values);\n        }\n    };\n    const updateErrors = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const _setErrors = (errors) => {\n        _formState.errors = errors;\n        _subjects.state.next({\n            errors: _formState.errors,\n            isValid: false,\n        });\n    };\n    const updateValidAndValue = (name, shouldSkipSetValueAs, value, ref) => {\n        const field = get(_fields, name);\n        if (field) {\n            const defaultValue = get(_formValues, name, isUndefined(value) ? get(_defaultValues, name) : value);\n            isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipSetValueAs\n                ? set(_formValues, name, shouldSkipSetValueAs ? defaultValue : getFieldValue(field._f))\n                : setFieldValue(name, defaultValue);\n            _state.mount && _setValid();\n        }\n    };\n    const updateTouchAndDirty = (name, fieldValue, isBlurEvent, shouldDirty, shouldRender) => {\n        let shouldUpdateField = false;\n        let isPreviousDirty = false;\n        const output = {\n            name,\n        };\n        if (!_options.disabled) {\n            if (!isBlurEvent || shouldDirty) {\n                if (_proxyFormState.isDirty || _proxySubscribeFormState.isDirty) {\n                    isPreviousDirty = _formState.isDirty;\n                    _formState.isDirty = output.isDirty = _getDirty();\n                    shouldUpdateField = isPreviousDirty !== output.isDirty;\n                }\n                const isCurrentFieldPristine = deepEqual(get(_defaultValues, name), fieldValue);\n                isPreviousDirty = !!get(_formState.dirtyFields, name);\n                isCurrentFieldPristine\n                    ? unset(_formState.dirtyFields, name)\n                    : set(_formState.dirtyFields, name, true);\n                output.dirtyFields = _formState.dirtyFields;\n                shouldUpdateField =\n                    shouldUpdateField ||\n                        ((_proxyFormState.dirtyFields ||\n                            _proxySubscribeFormState.dirtyFields) &&\n                            isPreviousDirty !== !isCurrentFieldPristine);\n            }\n            if (isBlurEvent) {\n                const isPreviousFieldTouched = get(_formState.touchedFields, name);\n                if (!isPreviousFieldTouched) {\n                    set(_formState.touchedFields, name, isBlurEvent);\n                    output.touchedFields = _formState.touchedFields;\n                    shouldUpdateField =\n                        shouldUpdateField ||\n                            ((_proxyFormState.touchedFields ||\n                                _proxySubscribeFormState.touchedFields) &&\n                                isPreviousFieldTouched !== isBlurEvent);\n                }\n            }\n            shouldUpdateField && shouldRender && _subjects.state.next(output);\n        }\n        return shouldUpdateField ? output : {};\n    };\n    const shouldRenderByError = (name, isValid, error, fieldState) => {\n        const previousFieldError = get(_formState.errors, name);\n        const shouldUpdateValid = (_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n            isBoolean(isValid) &&\n            _formState.isValid !== isValid;\n        if (_options.delayError && error) {\n            delayErrorCallback = debounce(() => updateErrors(name, error));\n            delayErrorCallback(_options.delayError);\n        }\n        else {\n            clearTimeout(timer);\n            delayErrorCallback = null;\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((error ? !deepEqual(previousFieldError, error) : previousFieldError) ||\n            !isEmptyObject(fieldState) ||\n            shouldUpdateValid) {\n            const updatedFormState = {\n                ...fieldState,\n                ...(shouldUpdateValid && isBoolean(isValid) ? { isValid } : {}),\n                errors: _formState.errors,\n                name,\n            };\n            _formState = {\n                ..._formState,\n                ...updatedFormState,\n            };\n            _subjects.state.next(updatedFormState);\n        }\n    };\n    const _runSchema = async (name) => {\n        _updateIsValidating(name, true);\n        const result = await _options.resolver(_formValues, _options.context, getResolverOptions(name || _names.mount, _fields, _options.criteriaMode, _options.shouldUseNativeValidation));\n        _updateIsValidating(name);\n        return result;\n    };\n    const executeSchemaAndUpdateState = async (names) => {\n        const { errors } = await _runSchema(names);\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const executeBuiltInValidation = async (fields, shouldOnlyCheckValid, context = {\n        valid: true,\n    }) => {\n        for (const name in fields) {\n            const field = fields[name];\n            if (field) {\n                const { _f, ...fieldValue } = field;\n                if (_f) {\n                    const isFieldArrayRoot = _names.array.has(_f.name);\n                    const isPromiseFunction = field._f && hasPromiseValidation(field._f);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([name], true);\n                    }\n                    const fieldError = await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation && !shouldOnlyCheckValid, isFieldArrayRoot);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([name]);\n                    }\n                    if (fieldError[_f.name]) {\n                        context.valid = false;\n                        if (shouldOnlyCheckValid) {\n                            break;\n                        }\n                    }\n                    !shouldOnlyCheckValid &&\n                        (get(fieldError, _f.name)\n                            ? isFieldArrayRoot\n                                ? updateFieldArrayRootError(_formState.errors, fieldError, _f.name)\n                                : set(_formState.errors, _f.name, fieldError[_f.name])\n                            : unset(_formState.errors, _f.name));\n                }\n                !isEmptyObject(fieldValue) &&\n                    (await executeBuiltInValidation(fieldValue, shouldOnlyCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const _removeUnmounted = () => {\n        for (const name of _names.unMount) {\n            const field = get(_fields, name);\n            field &&\n                (field._f.refs\n                    ? field._f.refs.every((ref) => !live(ref))\n                    : !live(field._f.ref)) &&\n                unregister(name);\n        }\n        _names.unMount = new Set();\n    };\n    const _getDirty = (name, data) => !_options.disabled &&\n        (name && data && set(_formValues, name, data),\n            !deepEqual(getValues(), _defaultValues));\n    const _getWatch = (names, defaultValue, isGlobal) => generateWatchOutput(names, _names, {\n        ...(_state.mount\n            ? _formValues\n            : isUndefined(defaultValue)\n                ? _defaultValues\n                : isString(names)\n                    ? { [names]: defaultValue }\n                    : defaultValue),\n    }, isGlobal, defaultValue);\n    const _getFieldArray = (name) => compact(get(_state.mount ? _formValues : _defaultValues, name, _options.shouldUnregister ? get(_defaultValues, name, []) : []));\n    const setFieldValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        let fieldValue = value;\n        if (field) {\n            const fieldReference = field._f;\n            if (fieldReference) {\n                !fieldReference.disabled &&\n                    set(_formValues, name, getFieldValueAs(value, fieldReference));\n                fieldValue =\n                    isHTMLElement(fieldReference.ref) && isNullOrUndefined(value)\n                        ? ''\n                        : value;\n                if (isMultipleSelect(fieldReference.ref)) {\n                    [...fieldReference.ref.options].forEach((optionRef) => (optionRef.selected = fieldValue.includes(optionRef.value)));\n                }\n                else if (fieldReference.refs) {\n                    if (isCheckBoxInput(fieldReference.ref)) {\n                        fieldReference.refs.length > 1\n                            ? fieldReference.refs.forEach((checkboxRef) => (!checkboxRef.defaultChecked || !checkboxRef.disabled) &&\n                                (checkboxRef.checked = Array.isArray(fieldValue)\n                                    ? !!fieldValue.find((data) => data === checkboxRef.value)\n                                    : fieldValue === checkboxRef.value))\n                            : fieldReference.refs[0] &&\n                                (fieldReference.refs[0].checked = !!fieldValue);\n                    }\n                    else {\n                        fieldReference.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else if (isFileInput(fieldReference.ref)) {\n                    fieldReference.ref.value = '';\n                }\n                else {\n                    fieldReference.ref.value = fieldValue;\n                    if (!fieldReference.ref.type) {\n                        _subjects.state.next({\n                            name,\n                            values: cloneObject(_formValues),\n                        });\n                    }\n                }\n            }\n        }\n        (options.shouldDirty || options.shouldTouch) &&\n            updateTouchAndDirty(name, fieldValue, options.shouldTouch, options.shouldDirty, true);\n        options.shouldValidate && trigger(name);\n    };\n    const setValues = (name, value, options) => {\n        for (const fieldKey in value) {\n            const fieldValue = value[fieldKey];\n            const fieldName = `${name}.${fieldKey}`;\n            const field = get(_fields, fieldName);\n            (_names.array.has(name) ||\n                isObject(fieldValue) ||\n                (field && !field._f)) &&\n                !isDateObject(fieldValue)\n                ? setValues(fieldName, fieldValue, options)\n                : setFieldValue(fieldName, fieldValue, options);\n        }\n    };\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        const cloneValue = cloneObject(value);\n        set(_formValues, name, cloneValue);\n        if (isFieldArray) {\n            _subjects.array.next({\n                name,\n                values: cloneObject(_formValues),\n            });\n            if ((_proxyFormState.isDirty ||\n                _proxyFormState.dirtyFields ||\n                _proxySubscribeFormState.isDirty ||\n                _proxySubscribeFormState.dirtyFields) &&\n                options.shouldDirty) {\n                _subjects.state.next({\n                    name,\n                    dirtyFields: getDirtyFields(_defaultValues, _formValues),\n                    isDirty: _getDirty(name, cloneValue),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(cloneValue)\n                ? setValues(name, cloneValue, options)\n                : setFieldValue(name, cloneValue, options);\n        }\n        isWatched(name, _names) && _subjects.state.next({ ..._formState });\n        _subjects.state.next({\n            name: _state.mount ? name : undefined,\n            values: cloneObject(_formValues),\n        });\n    };\n    const onChange = async (event) => {\n        _state.mount = true;\n        const target = event.target;\n        let name = target.name;\n        let isFieldValueUpdated = true;\n        const field = get(_fields, name);\n        const _updateIsFieldValueUpdated = (fieldValue) => {\n            isFieldValueUpdated =\n                Number.isNaN(fieldValue) ||\n                    (isDateObject(fieldValue) && isNaN(fieldValue.getTime())) ||\n                    deepEqual(fieldValue, get(_formValues, name, fieldValue));\n        };\n        if (field) {\n            let error;\n            let isValid;\n            const fieldValue = target.type\n                ? getFieldValue(field._f)\n                : getEventValue(event);\n            const isBlurEvent = event.type === EVENTS.BLUR || event.type === EVENTS.FOCUS_OUT;\n            const shouldSkipValidation = (!hasValidation(field._f) &&\n                !_options.resolver &&\n                !get(_formState.errors, name) &&\n                !field._f.deps) ||\n                skipValidation(isBlurEvent, get(_formState.touchedFields, name), _formState.isSubmitted, validationModeAfterSubmit, validationModeBeforeSubmit);\n            const watched = isWatched(name, _names, isBlurEvent);\n            set(_formValues, name, fieldValue);\n            if (isBlurEvent) {\n                field._f.onBlur && field._f.onBlur(event);\n                delayErrorCallback && delayErrorCallback(0);\n            }\n            else if (field._f.onChange) {\n                field._f.onChange(event);\n            }\n            const fieldState = updateTouchAndDirty(name, fieldValue, isBlurEvent);\n            const shouldRender = !isEmptyObject(fieldState) || watched;\n            !isBlurEvent &&\n                _subjects.state.next({\n                    name,\n                    type: event.type,\n                    values: cloneObject(_formValues),\n                });\n            if (shouldSkipValidation) {\n                if (_proxyFormState.isValid || _proxySubscribeFormState.isValid) {\n                    if (_options.mode === 'onBlur') {\n                        if (isBlurEvent) {\n                            _setValid();\n                        }\n                    }\n                    else if (!isBlurEvent) {\n                        _setValid();\n                    }\n                }\n                return (shouldRender &&\n                    _subjects.state.next({ name, ...(watched ? {} : fieldState) }));\n            }\n            !isBlurEvent && watched && _subjects.state.next({ ..._formState });\n            if (_options.resolver) {\n                const { errors } = await _runSchema([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    const previousErrorLookupResult = schemaErrorLookup(_formState.errors, _fields, name);\n                    const errorLookupResult = schemaErrorLookup(errors, _fields, previousErrorLookupResult.name || name);\n                    error = errorLookupResult.error;\n                    name = errorLookupResult.name;\n                    isValid = isEmptyObject(errors);\n                }\n            }\n            else {\n                _updateIsValidating([name], true);\n                error = (await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation))[name];\n                _updateIsValidating([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    if (error) {\n                        isValid = false;\n                    }\n                    else if (_proxyFormState.isValid ||\n                        _proxySubscribeFormState.isValid) {\n                        isValid = await executeBuiltInValidation(_fields, true);\n                    }\n                }\n            }\n            if (isFieldValueUpdated) {\n                field._f.deps &&\n                    trigger(field._f.deps);\n                shouldRenderByError(name, isValid, error, fieldState);\n            }\n        }\n    };\n    const _focusInput = (ref, key) => {\n        if (get(_formState.errors, key) && ref.focus) {\n            ref.focus();\n            return 1;\n        }\n        return;\n    };\n    const trigger = async (name, options = {}) => {\n        let isValid;\n        let validationResult;\n        const fieldNames = convertToArrayPayload(name);\n        if (_options.resolver) {\n            const errors = await executeSchemaAndUpdateState(isUndefined(name) ? name : fieldNames);\n            isValid = isEmptyObject(errors);\n            validationResult = name\n                ? !fieldNames.some((name) => get(errors, name))\n                : isValid;\n        }\n        else if (name) {\n            validationResult = (await Promise.all(fieldNames.map(async (fieldName) => {\n                const field = get(_fields, fieldName);\n                return await executeBuiltInValidation(field && field._f ? { [fieldName]: field } : field);\n            }))).every(Boolean);\n            !(!validationResult && !_formState.isValid) && _setValid();\n        }\n        else {\n            validationResult = isValid = await executeBuiltInValidation(_fields);\n        }\n        _subjects.state.next({\n            ...(!isString(name) ||\n                ((_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n                    isValid !== _formState.isValid)\n                ? {}\n                : { name }),\n            ...(_options.resolver || !name ? { isValid } : {}),\n            errors: _formState.errors,\n        });\n        options.shouldFocus &&\n            !validationResult &&\n            iterateFieldsByAction(_fields, _focusInput, name ? fieldNames : _names.mount);\n        return validationResult;\n    };\n    const getValues = (fieldNames) => {\n        const values = {\n            ...(_state.mount ? _formValues : _defaultValues),\n        };\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const getFieldState = (name, formState) => ({\n        invalid: !!get((formState || _formState).errors, name),\n        isDirty: !!get((formState || _formState).dirtyFields, name),\n        error: get((formState || _formState).errors, name),\n        isValidating: !!get(_formState.validatingFields, name),\n        isTouched: !!get((formState || _formState).touchedFields, name),\n    });\n    const clearErrors = (name) => {\n        name &&\n            convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName));\n        _subjects.state.next({\n            errors: name ? _formState.errors : {},\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        const currentError = get(_formState.errors, name) || {};\n        // Don't override existing error messages elsewhere in the object tree.\n        const { ref: currentRef, message, type, ...restOfErrorTree } = currentError;\n        set(_formState.errors, name, {\n            ...restOfErrorTree,\n            ...error,\n            ref,\n        });\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (name, defaultValue) => isFunction(name)\n        ? _subjects.state.subscribe({\n            next: (payload) => name(_getWatch(undefined, defaultValue), payload),\n        })\n        : _getWatch(name, defaultValue, true);\n    const _subscribe = (props) => _subjects.state.subscribe({\n        next: (formState) => {\n            if (shouldSubscribeByName(props.name, formState.name, props.exact) &&\n                shouldRenderFormState(formState, props.formState || _proxyFormState, _setFormState, props.reRenderRoot)) {\n                props.callback({\n                    values: { ..._formValues },\n                    ..._formState,\n                    ...formState,\n                });\n            }\n        },\n    }).unsubscribe;\n    const subscribe = (props) => {\n        _state.mount = true;\n        _proxySubscribeFormState = {\n            ..._proxySubscribeFormState,\n            ...props.formState,\n        };\n        return _subscribe({\n            ...props,\n            formState: _proxySubscribeFormState,\n        });\n    };\n    const unregister = (name, options = {}) => {\n        for (const fieldName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(fieldName);\n            _names.array.delete(fieldName);\n            if (!options.keepValue) {\n                unset(_fields, fieldName);\n                unset(_formValues, fieldName);\n            }\n            !options.keepError && unset(_formState.errors, fieldName);\n            !options.keepDirty && unset(_formState.dirtyFields, fieldName);\n            !options.keepTouched && unset(_formState.touchedFields, fieldName);\n            !options.keepIsValidating &&\n                unset(_formState.validatingFields, fieldName);\n            !_options.shouldUnregister &&\n                !options.keepDefaultValue &&\n                unset(_defaultValues, fieldName);\n        }\n        _subjects.state.next({\n            values: cloneObject(_formValues),\n        });\n        _subjects.state.next({\n            ..._formState,\n            ...(!options.keepDirty ? {} : { isDirty: _getDirty() }),\n        });\n        !options.keepIsValid && _setValid();\n    };\n    const _setDisabledField = ({ disabled, name, }) => {\n        if ((isBoolean(disabled) && _state.mount) ||\n            !!disabled ||\n            _names.disabled.has(name)) {\n            disabled ? _names.disabled.add(name) : _names.disabled.delete(name);\n        }\n    };\n    const register = (name, options = {}) => {\n        let field = get(_fields, name);\n        const disabledIsDefined = isBoolean(options.disabled) || isBoolean(_options.disabled);\n        set(_fields, name, {\n            ...(field || {}),\n            _f: {\n                ...(field && field._f ? field._f : { ref: { name } }),\n                name,\n                mount: true,\n                ...options,\n            },\n        });\n        _names.mount.add(name);\n        if (field) {\n            _setDisabledField({\n                disabled: isBoolean(options.disabled)\n                    ? options.disabled\n                    : _options.disabled,\n                name,\n            });\n        }\n        else {\n            updateValidAndValue(name, true, options.value);\n        }\n        return {\n            ...(disabledIsDefined\n                ? { disabled: options.disabled || _options.disabled }\n                : {}),\n            ...(_options.progressive\n                ? {\n                    required: !!options.required,\n                    min: getRuleValue(options.min),\n                    max: getRuleValue(options.max),\n                    minLength: getRuleValue(options.minLength),\n                    maxLength: getRuleValue(options.maxLength),\n                    pattern: getRuleValue(options.pattern),\n                }\n                : {}),\n            name,\n            onChange,\n            onBlur: onChange,\n            ref: (ref) => {\n                if (ref) {\n                    register(name, options);\n                    field = get(_fields, name);\n                    const fieldRef = isUndefined(ref.value)\n                        ? ref.querySelectorAll\n                            ? ref.querySelectorAll('input,select,textarea')[0] || ref\n                            : ref\n                        : ref;\n                    const radioOrCheckbox = isRadioOrCheckbox(fieldRef);\n                    const refs = field._f.refs || [];\n                    if (radioOrCheckbox\n                        ? refs.find((option) => option === fieldRef)\n                        : fieldRef === field._f.ref) {\n                        return;\n                    }\n                    set(_fields, name, {\n                        _f: {\n                            ...field._f,\n                            ...(radioOrCheckbox\n                                ? {\n                                    refs: [\n                                        ...refs.filter(live),\n                                        fieldRef,\n                                        ...(Array.isArray(get(_defaultValues, name)) ? [{}] : []),\n                                    ],\n                                    ref: { type: fieldRef.type, name },\n                                }\n                                : { ref: fieldRef }),\n                        },\n                    });\n                    updateValidAndValue(name, false, undefined, fieldRef);\n                }\n                else {\n                    field = get(_fields, name, {});\n                    if (field._f) {\n                        field._f.mount = false;\n                    }\n                    (_options.shouldUnregister || options.shouldUnregister) &&\n                        !(isNameInFieldArray(_names.array, name) && _state.action) &&\n                        _names.unMount.add(name);\n                }\n            },\n        };\n    };\n    const _focusError = () => _options.shouldFocusError &&\n        iterateFieldsByAction(_fields, _focusInput, _names.mount);\n    const _disableForm = (disabled) => {\n        if (isBoolean(disabled)) {\n            _subjects.state.next({ disabled });\n            iterateFieldsByAction(_fields, (ref, name) => {\n                const currentField = get(_fields, name);\n                if (currentField) {\n                    ref.disabled = currentField._f.disabled || disabled;\n                    if (Array.isArray(currentField._f.refs)) {\n                        currentField._f.refs.forEach((inputRef) => {\n                            inputRef.disabled = currentField._f.disabled || disabled;\n                        });\n                    }\n                }\n            }, 0, false);\n        }\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        let onValidError = undefined;\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist &&\n                e.persist();\n        }\n        let fieldValues = cloneObject(_formValues);\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        if (_options.resolver) {\n            const { errors, values } = await _runSchema();\n            _formState.errors = errors;\n            fieldValues = values;\n        }\n        else {\n            await executeBuiltInValidation(_fields);\n        }\n        if (_names.disabled.size) {\n            for (const name of _names.disabled) {\n                set(fieldValues, name, undefined);\n            }\n        }\n        unset(_formState.errors, 'root');\n        if (isEmptyObject(_formState.errors)) {\n            _subjects.state.next({\n                errors: {},\n            });\n            try {\n                await onValid(fieldValues, e);\n            }\n            catch (error) {\n                onValidError = error;\n            }\n        }\n        else {\n            if (onInvalid) {\n                await onInvalid({ ..._formState.errors }, e);\n            }\n            _focusError();\n            setTimeout(_focusError);\n        }\n        _subjects.state.next({\n            isSubmitted: true,\n            isSubmitting: false,\n            isSubmitSuccessful: isEmptyObject(_formState.errors) && !onValidError,\n            submitCount: _formState.submitCount + 1,\n            errors: _formState.errors,\n        });\n        if (onValidError) {\n            throw onValidError;\n        }\n    };\n    const resetField = (name, options = {}) => {\n        if (get(_fields, name)) {\n            if (isUndefined(options.defaultValue)) {\n                setValue(name, cloneObject(get(_defaultValues, name)));\n            }\n            else {\n                setValue(name, options.defaultValue);\n                set(_defaultValues, name, cloneObject(options.defaultValue));\n            }\n            if (!options.keepTouched) {\n                unset(_formState.touchedFields, name);\n            }\n            if (!options.keepDirty) {\n                unset(_formState.dirtyFields, name);\n                _formState.isDirty = options.defaultValue\n                    ? _getDirty(name, cloneObject(get(_defaultValues, name)))\n                    : _getDirty();\n            }\n            if (!options.keepError) {\n                unset(_formState.errors, name);\n                _proxyFormState.isValid && _setValid();\n            }\n            _subjects.state.next({ ..._formState });\n        }\n    };\n    const _reset = (formValues, keepStateOptions = {}) => {\n        const updatedValues = formValues ? cloneObject(formValues) : _defaultValues;\n        const cloneUpdatedValues = cloneObject(updatedValues);\n        const isEmptyResetValues = isEmptyObject(formValues);\n        const values = isEmptyResetValues ? _defaultValues : cloneUpdatedValues;\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = updatedValues;\n        }\n        if (!keepStateOptions.keepValues) {\n            if (keepStateOptions.keepDirtyValues) {\n                const fieldsToCheck = new Set([\n                    ..._names.mount,\n                    ...Object.keys(getDirtyFields(_defaultValues, _formValues)),\n                ]);\n                for (const fieldName of Array.from(fieldsToCheck)) {\n                    get(_formState.dirtyFields, fieldName)\n                        ? set(values, fieldName, get(_formValues, fieldName))\n                        : setValue(fieldName, get(values, fieldName));\n                }\n            }\n            else {\n                if (isWeb && isUndefined(formValues)) {\n                    for (const name of _names.mount) {\n                        const field = get(_fields, name);\n                        if (field && field._f) {\n                            const fieldReference = Array.isArray(field._f.refs)\n                                ? field._f.refs[0]\n                                : field._f.ref;\n                            if (isHTMLElement(fieldReference)) {\n                                const form = fieldReference.closest('form');\n                                if (form) {\n                                    form.reset();\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                for (const fieldName of _names.mount) {\n                    setValue(fieldName, get(values, fieldName));\n                }\n            }\n            _formValues = cloneObject(values);\n            _subjects.array.next({\n                values: { ...values },\n            });\n            _subjects.state.next({\n                values: { ...values },\n            });\n        }\n        _names = {\n            mount: keepStateOptions.keepDirtyValues ? _names.mount : new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            disabled: new Set(),\n            watch: new Set(),\n            watchAll: false,\n            focus: '',\n        };\n        _state.mount =\n            !_proxyFormState.isValid ||\n                !!keepStateOptions.keepIsValid ||\n                !!keepStateOptions.keepDirtyValues;\n        _state.watch = !!_options.shouldUnregister;\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: isEmptyResetValues\n                ? false\n                : keepStateOptions.keepDirty\n                    ? _formState.isDirty\n                    : !!(keepStateOptions.keepDefaultValues &&\n                        !deepEqual(formValues, _defaultValues)),\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: isEmptyResetValues\n                ? {}\n                : keepStateOptions.keepDirtyValues\n                    ? keepStateOptions.keepDefaultValues && _formValues\n                        ? getDirtyFields(_defaultValues, _formValues)\n                        : _formState.dirtyFields\n                    : keepStateOptions.keepDefaultValues && formValues\n                        ? getDirtyFields(_defaultValues, formValues)\n                        : keepStateOptions.keepDirty\n                            ? _formState.dirtyFields\n                            : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitSuccessful: keepStateOptions.keepIsSubmitSuccessful\n                ? _formState.isSubmitSuccessful\n                : false,\n            isSubmitting: false,\n        });\n    };\n    const reset = (formValues, keepStateOptions) => _reset(isFunction(formValues)\n        ? formValues(_formValues)\n        : formValues, keepStateOptions);\n    const setFocus = (name, options = {}) => {\n        const field = get(_fields, name);\n        const fieldReference = field && field._f;\n        if (fieldReference) {\n            const fieldRef = fieldReference.refs\n                ? fieldReference.refs[0]\n                : fieldReference.ref;\n            if (fieldRef.focus) {\n                fieldRef.focus();\n                options.shouldSelect &&\n                    isFunction(fieldRef.select) &&\n                    fieldRef.select();\n            }\n        }\n    };\n    const _setFormState = (updatedFormState) => {\n        _formState = {\n            ..._formState,\n            ...updatedFormState,\n        };\n    };\n    const _resetDefaultValues = () => isFunction(_options.defaultValues) &&\n        _options.defaultValues().then((values) => {\n            reset(values, _options.resetOptions);\n            _subjects.state.next({\n                isLoading: false,\n            });\n        });\n    const methods = {\n        control: {\n            register,\n            unregister,\n            getFieldState,\n            handleSubmit,\n            setError,\n            _subscribe,\n            _runSchema,\n            _getWatch,\n            _getDirty,\n            _setValid,\n            _setFieldArray,\n            _setDisabledField,\n            _setErrors,\n            _getFieldArray,\n            _reset,\n            _resetDefaultValues,\n            _removeUnmounted,\n            _disableForm,\n            _subjects,\n            _proxyFormState,\n            get _fields() {\n                return _fields;\n            },\n            get _formValues() {\n                return _formValues;\n            },\n            get _state() {\n                return _state;\n            },\n            set _state(value) {\n                _state = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            get _formState() {\n                return _formState;\n            },\n            get _options() {\n                return _options;\n            },\n            set _options(value) {\n                _options = {\n                    ..._options,\n                    ...value,\n                };\n            },\n        },\n        subscribe,\n        trigger,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        resetField,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n        getFieldState,\n    };\n    return {\n        ...methods,\n        formControl: methods,\n    };\n}\n\nvar generateId = () => {\n    const d = typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = (Math.random() * 16 + d) % 16 | 0;\n        return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    });\n};\n\nvar getFocusFieldName = (name, index, options = {}) => options.shouldFocus || isUndefined(options.shouldFocus)\n    ? options.focusName ||\n        `${name}.${isUndefined(options.focusIndex) ? index : options.focusIndex}.`\n    : '';\n\nvar appendAt = (data, value) => [\n    ...data,\n    ...convertToArrayPayload(value),\n];\n\nvar fillEmptyArray = (value) => Array.isArray(value) ? value.map(() => undefined) : undefined;\n\nfunction insert(data, index, value) {\n    return [\n        ...data.slice(0, index),\n        ...convertToArrayPayload(value),\n        ...data.slice(index),\n    ];\n}\n\nvar moveArrayAt = (data, from, to) => {\n    if (!Array.isArray(data)) {\n        return [];\n    }\n    if (isUndefined(data[to])) {\n        data[to] = undefined;\n    }\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    return data;\n};\n\nvar prependAt = (data, value) => [\n    ...convertToArrayPayload(value),\n    ...convertToArrayPayload(data),\n];\n\nfunction removeAtIndexes(data, indexes) {\n    let i = 0;\n    const temp = [...data];\n    for (const index of indexes) {\n        temp.splice(index - i, 1);\n        i++;\n    }\n    return compact(temp).length ? temp : [];\n}\nvar removeArrayAt = (data, index) => isUndefined(index)\n    ? []\n    : removeAtIndexes(data, convertToArrayPayload(index).sort((a, b) => a - b));\n\nvar swapArrayAt = (data, indexA, indexB) => {\n    [data[indexA], data[indexB]] = [data[indexB], data[indexA]];\n};\n\nvar updateAt = (fieldValues, index, value) => {\n    fieldValues[index] = value;\n    return fieldValues;\n};\n\n/**\n * A custom hook that exposes convenient methods to perform operations with a list of dynamic inputs that need to be appended, updated, removed etc. • [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn) • [Video](https://youtu.be/4MrbfGSFY2A)\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usefieldarray) • [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)\n *\n * @param props - useFieldArray props\n *\n * @returns methods - functions to manipulate with the Field Arrays (dynamic inputs) {@link UseFieldArrayReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, control, handleSubmit, reset, trigger, setError } = useForm({\n *     defaultValues: {\n *       test: []\n *     }\n *   });\n *   const { fields, append } = useFieldArray({\n *     control,\n *     name: \"test\"\n *   });\n *\n *   return (\n *     <form onSubmit={handleSubmit(data => console.log(data))}>\n *       {fields.map((item, index) => (\n *          <input key={item.id} {...register(`test.${index}.firstName`)}  />\n *       ))}\n *       <button type=\"button\" onClick={() => append({ firstName: \"bill\" })}>\n *         append\n *       </button>\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFieldArray(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, keyName = 'id', shouldUnregister, rules, } = props;\n    const [fields, setFields] = React.useState(control._getFieldArray(name));\n    const ids = React.useRef(control._getFieldArray(name).map(generateId));\n    const _fieldIds = React.useRef(fields);\n    const _name = React.useRef(name);\n    const _actioned = React.useRef(false);\n    _name.current = name;\n    _fieldIds.current = fields;\n    control._names.array.add(name);\n    rules &&\n        control.register(name, rules);\n    React.useEffect(() => control._subjects.array.subscribe({\n        next: ({ values, name: fieldArrayName, }) => {\n            if (fieldArrayName === _name.current || !fieldArrayName) {\n                const fieldValues = get(values, _name.current);\n                if (Array.isArray(fieldValues)) {\n                    setFields(fieldValues);\n                    ids.current = fieldValues.map(generateId);\n                }\n            }\n        },\n    }).unsubscribe, [control]);\n    const updateValues = React.useCallback((updatedFieldArrayValues) => {\n        _actioned.current = true;\n        control._setFieldArray(name, updatedFieldArrayValues);\n    }, [control, name]);\n    const append = (value, options) => {\n        const appendValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = appendAt(control._getFieldArray(name), appendValue);\n        control._names.focus = getFocusFieldName(name, updatedFieldArrayValues.length - 1, options);\n        ids.current = appendAt(ids.current, appendValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, appendAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const prepend = (value, options) => {\n        const prependValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = prependAt(control._getFieldArray(name), prependValue);\n        control._names.focus = getFocusFieldName(name, 0, options);\n        ids.current = prependAt(ids.current, prependValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, prependAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const remove = (index) => {\n        const updatedFieldArrayValues = removeArrayAt(control._getFieldArray(name), index);\n        ids.current = removeArrayAt(ids.current, index);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        !Array.isArray(get(control._fields, name)) &&\n            set(control._fields, name, undefined);\n        control._setFieldArray(name, updatedFieldArrayValues, removeArrayAt, {\n            argA: index,\n        });\n    };\n    const insert$1 = (index, value, options) => {\n        const insertValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = insert(control._getFieldArray(name), index, insertValue);\n        control._names.focus = getFocusFieldName(name, index, options);\n        ids.current = insert(ids.current, index, insertValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, insert, {\n            argA: index,\n            argB: fillEmptyArray(value),\n        });\n    };\n    const swap = (indexA, indexB) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        swapArrayAt(updatedFieldArrayValues, indexA, indexB);\n        swapArrayAt(ids.current, indexA, indexB);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, swapArrayAt, {\n            argA: indexA,\n            argB: indexB,\n        }, false);\n    };\n    const move = (from, to) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        moveArrayAt(updatedFieldArrayValues, from, to);\n        moveArrayAt(ids.current, from, to);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, moveArrayAt, {\n            argA: from,\n            argB: to,\n        }, false);\n    };\n    const update = (index, value) => {\n        const updateValue = cloneObject(value);\n        const updatedFieldArrayValues = updateAt(control._getFieldArray(name), index, updateValue);\n        ids.current = [...updatedFieldArrayValues].map((item, i) => !item || i === index ? generateId() : ids.current[i]);\n        updateValues(updatedFieldArrayValues);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, updatedFieldArrayValues, updateAt, {\n            argA: index,\n            argB: updateValue,\n        }, true, false);\n    };\n    const replace = (value) => {\n        const updatedFieldArrayValues = convertToArrayPayload(cloneObject(value));\n        ids.current = updatedFieldArrayValues.map(generateId);\n        updateValues([...updatedFieldArrayValues]);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, [...updatedFieldArrayValues], (data) => data, {}, true, false);\n    };\n    React.useEffect(() => {\n        control._state.action = false;\n        isWatched(name, control._names) &&\n            control._subjects.state.next({\n                ...control._formState,\n            });\n        if (_actioned.current &&\n            (!getValidationModes(control._options.mode).isOnSubmit ||\n                control._formState.isSubmitted) &&\n            !getValidationModes(control._options.reValidateMode).isOnSubmit) {\n            if (control._options.resolver) {\n                control._runSchema([name]).then((result) => {\n                    const error = get(result.errors, name);\n                    const existingError = get(control._formState.errors, name);\n                    if (existingError\n                        ? (!error && existingError.type) ||\n                            (error &&\n                                (existingError.type !== error.type ||\n                                    existingError.message !== error.message))\n                        : error && error.type) {\n                        error\n                            ? set(control._formState.errors, name, error)\n                            : unset(control._formState.errors, name);\n                        control._subjects.state.next({\n                            errors: control._formState.errors,\n                        });\n                    }\n                });\n            }\n            else {\n                const field = get(control._fields, name);\n                if (field &&\n                    field._f &&\n                    !(getValidationModes(control._options.reValidateMode).isOnSubmit &&\n                        getValidationModes(control._options.mode).isOnSubmit)) {\n                    validateField(field, control._names.disabled, control._formValues, control._options.criteriaMode === VALIDATION_MODE.all, control._options.shouldUseNativeValidation, true).then((error) => !isEmptyObject(error) &&\n                        control._subjects.state.next({\n                            errors: updateFieldArrayRootError(control._formState.errors, error, name),\n                        }));\n                }\n            }\n        }\n        control._subjects.state.next({\n            name,\n            values: cloneObject(control._formValues),\n        });\n        control._names.focus &&\n            iterateFieldsByAction(control._fields, (ref, key) => {\n                if (control._names.focus &&\n                    key.startsWith(control._names.focus) &&\n                    ref.focus) {\n                    ref.focus();\n                    return 1;\n                }\n                return;\n            });\n        control._names.focus = '';\n        control._setValid();\n        _actioned.current = false;\n    }, [fields, name, control]);\n    React.useEffect(() => {\n        !get(control._formValues, name) && control._setFieldArray(name);\n        return () => {\n            const updateMounted = (name, value) => {\n                const field = get(control._fields, name);\n                if (field && field._f) {\n                    field._f.mount = value;\n                }\n            };\n            control._options.shouldUnregister || shouldUnregister\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, keyName, shouldUnregister]);\n    return {\n        swap: React.useCallback(swap, [updateValues, name, control]),\n        move: React.useCallback(move, [updateValues, name, control]),\n        prepend: React.useCallback(prepend, [updateValues, name, control]),\n        append: React.useCallback(append, [updateValues, name, control]),\n        remove: React.useCallback(remove, [updateValues, name, control]),\n        insert: React.useCallback(insert$1, [updateValues, name, control]),\n        update: React.useCallback(update, [updateValues, name, control]),\n        replace: React.useCallback(replace, [updateValues, name, control]),\n        fields: React.useMemo(() => fields.map((field, index) => ({\n            ...field,\n            [keyName]: ids.current[index] || generateId(),\n        })), [fields, keyName]),\n    };\n}\n\n/**\n * Custom hook to manage the entire form.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useform) • [Demo](https://codesandbox.io/s/react-hook-form-get-started-ts-5ksmm) • [Video](https://www.youtube.com/watch?v=RkXv4AXXC_4)\n *\n * @param props - form configuration and validation parameters.\n *\n * @returns methods - individual functions to manage the form state. {@link UseFormReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, watch, formState: { errors } } = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   console.log(watch(\"example\"));\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input defaultValue=\"test\" {...register(\"example\")} />\n *       <input {...register(\"exampleRequired\", { required: true })} />\n *       {errors.exampleRequired && <span>This field is required</span>}\n *       <button>Submit</button>\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useForm(props = {}) {\n    const _formControl = React.useRef(undefined);\n    const _values = React.useRef(undefined);\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        isLoading: isFunction(props.defaultValues),\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        submitCount: 0,\n        dirtyFields: {},\n        touchedFields: {},\n        validatingFields: {},\n        errors: props.errors || {},\n        disabled: props.disabled || false,\n        defaultValues: isFunction(props.defaultValues)\n            ? undefined\n            : props.defaultValues,\n    });\n    if (!_formControl.current) {\n        _formControl.current = {\n            ...(props.formControl ? props.formControl : createFormControl(props)),\n            formState,\n        };\n        if (props.formControl &&\n            props.defaultValues &&\n            !isFunction(props.defaultValues)) {\n            props.formControl.reset(props.defaultValues, props.resetOptions);\n        }\n    }\n    const control = _formControl.current.control;\n    control._options = props;\n    React.useLayoutEffect(() => control._subscribe({\n        formState: control._proxyFormState,\n        callback: () => updateFormState({ ...control._formState }),\n        reRenderRoot: true,\n    }), [control]);\n    React.useEffect(() => control._disableForm(props.disabled), [control, props.disabled]);\n    React.useEffect(() => {\n        if (control._proxyFormState.isDirty) {\n            const isDirty = control._getDirty();\n            if (isDirty !== formState.isDirty) {\n                control._subjects.state.next({\n                    isDirty,\n                });\n            }\n        }\n    }, [control, formState.isDirty]);\n    React.useEffect(() => {\n        if (props.values && !deepEqual(props.values, _values.current)) {\n            control._reset(props.values, control._options.resetOptions);\n            _values.current = props.values;\n            updateFormState((state) => ({ ...state }));\n        }\n        else {\n            control._resetDefaultValues();\n        }\n    }, [props.values, control]);\n    React.useEffect(() => {\n        if (props.errors && !isEmptyObject(props.errors)) {\n            control._setErrors(props.errors);\n        }\n    }, [props.errors, control]);\n    React.useEffect(() => {\n        if (!control._state.mount) {\n            control._setValid();\n            control._state.mount = true;\n        }\n        if (control._state.watch) {\n            control._state.watch = false;\n            control._subjects.state.next({ ...control._formState });\n        }\n        control._removeUnmounted();\n    });\n    React.useEffect(() => {\n        props.shouldUnregister &&\n            control._subjects.state.next({\n                values: control._getWatch(),\n            });\n    }, [props.shouldUnregister, control]);\n    _formControl.current.formState = getProxyFormState(formState, control);\n    return _formControl.current;\n}\n\nexport { Controller, Form, FormProvider, appendErrors, createFormControl, get, set, useController, useFieldArray, useForm, useFormContext, useFormState, useWatch };\n//# sourceMappingURL=index.esm.mjs.map\n", "import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Checkbox\n * -----------------------------------------------------------------------------------------------*/\n\nconst CHECKBOX_NAME = 'Checkbox';\n\ntype ScopedProps<P> = P & { __scopeCheckbox?: Scope };\nconst [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\n\ntype CheckedState = boolean | 'indeterminate';\n\ntype CheckboxContextValue = {\n  state: CheckedState;\n  disabled?: boolean;\n};\n\nconst [CheckboxProvider, useCheckboxContext] =\n  createCheckboxContext<CheckboxContextValue>(CHECKBOX_NAME);\n\ntype CheckboxElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface CheckboxProps extends Omit<PrimitiveButtonProps, 'checked' | 'defaultChecked'> {\n  checked?: CheckedState;\n  defaultChecked?: CheckedState;\n  required?: boolean;\n  onCheckedChange?(checked: CheckedState): void;\n}\n\nconst Checkbox = React.forwardRef<CheckboxElement, CheckboxProps>(\n  (props: ScopedProps<CheckboxProps>, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = 'on',\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    const [button, setButton] = React.useState<HTMLButtonElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = button ? form || !!button.closest('form') : true;\n    const [checked = false, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked,\n      onChange: onCheckedChange,\n    });\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = button?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener('reset', reset);\n        return () => form.removeEventListener('reset', reset);\n      }\n    }, [button, setChecked]);\n\n    return (\n      <CheckboxProvider scope={__scopeCheckbox} state={checked} disabled={disabled}>\n        <Primitive.button\n          type=\"button\"\n          role=\"checkbox\"\n          aria-checked={isIndeterminate(checked) ? 'mixed' : checked}\n          aria-required={required}\n          data-state={getState(checked)}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          value={value}\n          {...checkboxProps}\n          ref={composedRefs}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            // According to WAI ARIA, Checkboxes don't activate on enter keypress\n            if (event.key === 'Enter') event.preventDefault();\n          })}\n          onClick={composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => (isIndeterminate(prevChecked) ? true : !prevChecked));\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              // if checkbox is in a form, stop propagation from the button so that we only propagate\n              // one click event (from the input). We propagate changes from an input so that native\n              // form validation works and form events reflect checkbox updates.\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })}\n        />\n        {isFormControl && (\n          <BubbleInput\n            control={button}\n            bubbles={!hasConsumerStoppedPropagationRef.current}\n            name={name}\n            value={value}\n            checked={checked}\n            required={required}\n            disabled={disabled}\n            form={form}\n            // We transform because the input is absolutely positioned but we have\n            // rendered it **after** the button. This pulls it back to sit on top\n            // of the button.\n            style={{ transform: 'translateX(-100%)' }}\n            defaultChecked={isIndeterminate(defaultChecked) ? false : defaultChecked}\n          />\n        )}\n      </CheckboxProvider>\n    );\n  }\n);\n\nCheckbox.displayName = CHECKBOX_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'CheckboxIndicator';\n\ntype CheckboxIndicatorElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface CheckboxIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst CheckboxIndicator = React.forwardRef<CheckboxIndicatorElement, CheckboxIndicatorProps>(\n  (props: ScopedProps<CheckboxIndicatorProps>, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return (\n      <Presence present={forceMount || isIndeterminate(context.state) || context.state === true}>\n        <Primitive.span\n          data-state={getState(context.state)}\n          data-disabled={context.disabled ? '' : undefined}\n          {...indicatorProps}\n          ref={forwardedRef}\n          style={{ pointerEvents: 'none', ...props.style }}\n        />\n      </Presence>\n    );\n  }\n);\n\nCheckboxIndicator.displayName = INDICATOR_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype InputProps = React.ComponentPropsWithoutRef<'input'>;\ninterface BubbleInputProps extends Omit<InputProps, 'checked'> {\n  checked: CheckedState;\n  control: HTMLElement | null;\n  bubbles: boolean;\n}\n\nconst BubbleInput = (props: BubbleInputProps) => {\n  const { control, checked, bubbles = true, defaultChecked, ...inputProps } = props;\n  const ref = React.useRef<HTMLInputElement>(null);\n  const prevChecked = usePrevious(checked);\n  const controlSize = useSize(control);\n\n  // Bubble checked change to parents (e.g form change event)\n  React.useEffect(() => {\n    const input = ref.current!;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, 'checked') as PropertyDescriptor;\n    const setChecked = descriptor.set;\n\n    if (prevChecked !== checked && setChecked) {\n      const event = new Event('click', { bubbles });\n      input.indeterminate = isIndeterminate(checked);\n      setChecked.call(input, isIndeterminate(checked) ? false : checked);\n      input.dispatchEvent(event);\n    }\n  }, [prevChecked, checked, bubbles]);\n\n  const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n  return (\n    <input\n      type=\"checkbox\"\n      aria-hidden\n      defaultChecked={defaultChecked ?? defaultCheckedRef.current}\n      {...inputProps}\n      tabIndex={-1}\n      ref={ref}\n      style={{\n        ...props.style,\n        ...controlSize,\n        position: 'absolute',\n        pointerEvents: 'none',\n        opacity: 0,\n        margin: 0,\n      }}\n    />\n  );\n};\n\nfunction isIndeterminate(checked?: CheckedState): checked is 'indeterminate' {\n  return checked === 'indeterminate';\n}\n\nfunction getState(checked: CheckedState) {\n  return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n}\n\nconst Root = Checkbox;\nconst Indicator = CheckboxIndicator;\n\nexport {\n  createCheckboxScope,\n  //\n  Checkbox,\n  CheckboxIndicator,\n  //\n  Root,\n  Indicator,\n};\nexport type { CheckboxProps, CheckboxIndicatorProps, CheckedState };\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createSlot } from '@radix-ui/react-slot';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Popover\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPOVER_NAME = 'Popover';\n\ntype ScopedProps<P> = P & { __scopePopover?: Scope };\nconst [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\ntype PopoverContextValue = {\n  triggerRef: React.RefObject<HTMLButtonElement | null>;\n  contentId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  hasCustomAnchor: boolean;\n  onCustomAnchorAdd(): void;\n  onCustomAnchorRemove(): void;\n  modal: boolean;\n};\n\nconst [PopoverProvider, usePopoverContext] =\n  createPopoverContext<PopoverContextValue>(POPOVER_NAME);\n\ninterface PopoverProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  modal?: boolean;\n}\n\nconst Popover: React.FC<PopoverProps> = (props: ScopedProps<PopoverProps>) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false,\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React.useRef<HTMLButtonElement>(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React.useState(false);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <PopoverProvider\n        scope={__scopePopover}\n        contentId={useId()}\n        triggerRef={triggerRef}\n        open={open}\n        onOpenChange={setOpen}\n        onOpenToggle={React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n        hasCustomAnchor={hasCustomAnchor}\n        onCustomAnchorAdd={React.useCallback(() => setHasCustomAnchor(true), [])}\n        onCustomAnchorRemove={React.useCallback(() => setHasCustomAnchor(false), [])}\n        modal={modal}\n      >\n        {children}\n      </PopoverProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nPopover.displayName = POPOVER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'PopoverAnchor';\n\ntype PopoverAnchorElement = React.ElementRef<typeof PopperPrimitive.Anchor>;\ntype PopperAnchorProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Anchor>;\ninterface PopoverAnchorProps extends PopperAnchorProps {}\n\nconst PopoverAnchor = React.forwardRef<PopoverAnchorElement, PopoverAnchorProps>(\n  (props: ScopedProps<PopoverAnchorProps>, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n\n    React.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n\n    return <PopperPrimitive.Anchor {...popperScope} {...anchorProps} ref={forwardedRef} />;\n  }\n);\n\nPopoverAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'PopoverTrigger';\n\ntype PopoverTriggerElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface PopoverTriggerProps extends PrimitiveButtonProps {}\n\nconst PopoverTrigger = React.forwardRef<PopoverTriggerElement, PopoverTriggerProps>(\n  (props: ScopedProps<PopoverTriggerProps>, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n\n    const trigger = (\n      <Primitive.button\n        type=\"button\"\n        aria-haspopup=\"dialog\"\n        aria-expanded={context.open}\n        aria-controls={context.contentId}\n        data-state={getState(context.open)}\n        {...triggerProps}\n        ref={composedTriggerRef}\n        onClick={composeEventHandlers(props.onClick, context.onOpenToggle)}\n      />\n    );\n\n    return context.hasCustomAnchor ? (\n      trigger\n    ) : (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        {trigger}\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nPopoverTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'PopoverPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createPopoverContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface PopoverPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst PopoverPortal: React.FC<PopoverPortalProps> = (props: ScopedProps<PopoverPortalProps>) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return (\n    <PortalProvider scope={__scopePopover} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nPopoverPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'PopoverContent';\n\ninterface PopoverContentProps extends PopoverContentTypeProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst PopoverContent = React.forwardRef<PopoverContentTypeElement, PopoverContentProps>(\n  (props: ScopedProps<PopoverContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return (\n      <Presence present={forceMount || context.open}>\n        {context.modal ? (\n          <PopoverContentModal {...contentProps} ref={forwardedRef} />\n        ) : (\n          <PopoverContentNonModal {...contentProps} ref={forwardedRef} />\n        )}\n      </Presence>\n    );\n  }\n);\n\nPopoverContent.displayName = CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Slot = createSlot('PopoverContent.RemoveScroll');\n\ntype PopoverContentTypeElement = PopoverContentImplElement;\ninterface PopoverContentTypeProps\n  extends Omit<PopoverContentImplProps, 'trapFocus' | 'disableOutsidePointerEvents'> {}\n\nconst PopoverContentModal = React.forwardRef<PopoverContentTypeElement, PopoverContentTypeProps>(\n  (props: ScopedProps<PopoverContentTypeProps>, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React.useRef(false);\n\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n\n    return (\n      <RemoveScroll as={Slot} allowPinchZoom>\n        <PopoverContentImpl\n          {...props}\n          ref={composedRefs}\n          // we make sure we're not trapping once it's been closed\n          // (closed !== unmounted when animating out)\n          trapFocus={context.open}\n          disableOutsidePointerEvents\n          onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n            event.preventDefault();\n            if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n          })}\n          onPointerDownOutside={composeEventHandlers(\n            props.onPointerDownOutside,\n            (event) => {\n              const originalEvent = event.detail.originalEvent;\n              const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n              const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n\n              isRightClickOutsideRef.current = isRightClick;\n            },\n            { checkForDefaultPrevented: false }\n          )}\n          // When focus is trapped, a `focusout` event may still happen.\n          // We make sure we don't trigger our `onDismiss` in such case.\n          onFocusOutside={composeEventHandlers(\n            props.onFocusOutside,\n            (event) => event.preventDefault(),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </RemoveScroll>\n    );\n  }\n);\n\nconst PopoverContentNonModal = React.forwardRef<PopoverContentTypeElement, PopoverContentTypeProps>(\n  (props: ScopedProps<PopoverContentTypeProps>, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n\n    return (\n      <PopoverContentImpl\n        {...props}\n        ref={forwardedRef}\n        trapFocus={false}\n        disableOutsidePointerEvents={false}\n        onCloseAutoFocus={(event) => {\n          props.onCloseAutoFocus?.(event);\n\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            // Always prevent auto focus because we either focus manually or want user agent focus\n            event.preventDefault();\n          }\n\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        }}\n        onInteractOutside={(event) => {\n          props.onInteractOutside?.(event);\n\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === 'pointerdown') {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n\n          // Prevent dismissing when clicking the trigger.\n          // As the trigger is already setup to close, without doing so would\n          // cause it to close and immediately open.\n          const target = event.target as HTMLElement;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n\n          // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n          // we will get the pointer down outside event on the trigger, but then a subsequent\n          // focus outside event on the container, we ignore any focus outside event when we've\n          // already had a pointer down outside event.\n          if (event.detail.originalEvent.type === 'focusin' && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype PopoverContentImplElement = React.ElementRef<typeof PopperPrimitive.Content>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface PopoverContentImplProps\n  extends Omit<PopperContentProps, 'onPlaced'>,\n    Omit<DismissableLayerProps, 'onDismiss'> {\n  /**\n   * Whether focus should be trapped within the `Popover`\n   * (default: false)\n   */\n  trapFocus?: FocusScopeProps['trapped'];\n\n  /**\n   * Event handler called when auto-focusing on open.\n   * Can be prevented.\n   */\n  onOpenAutoFocus?: FocusScopeProps['onMountAutoFocus'];\n\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n}\n\nconst PopoverContentImpl = React.forwardRef<PopoverContentImplElement, PopoverContentImplProps>(\n  (props: ScopedProps<PopoverContentImplProps>, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n\n    // Make sure the whole tree has focus guards as our `Popover` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    return (\n      <FocusScope\n        asChild\n        loop\n        trapped={trapFocus}\n        onMountAutoFocus={onOpenAutoFocus}\n        onUnmountAutoFocus={onCloseAutoFocus}\n      >\n        <DismissableLayer\n          asChild\n          disableOutsidePointerEvents={disableOutsidePointerEvents}\n          onInteractOutside={onInteractOutside}\n          onEscapeKeyDown={onEscapeKeyDown}\n          onPointerDownOutside={onPointerDownOutside}\n          onFocusOutside={onFocusOutside}\n          onDismiss={() => context.onOpenChange(false)}\n        >\n          <PopperPrimitive.Content\n            data-state={getState(context.open)}\n            role=\"dialog\"\n            id={context.contentId}\n            {...popperScope}\n            {...contentProps}\n            ref={forwardedRef}\n            style={{\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                '--radix-popover-content-transform-origin': 'var(--radix-popper-transform-origin)',\n                '--radix-popover-content-available-width': 'var(--radix-popper-available-width)',\n                '--radix-popover-content-available-height': 'var(--radix-popper-available-height)',\n                '--radix-popover-trigger-width': 'var(--radix-popper-anchor-width)',\n                '--radix-popover-trigger-height': 'var(--radix-popper-anchor-height)',\n              },\n            }}\n          />\n        </DismissableLayer>\n      </FocusScope>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverClose\n * -----------------------------------------------------------------------------------------------*/\n\nconst CLOSE_NAME = 'PopoverClose';\n\ntype PopoverCloseElement = React.ElementRef<typeof Primitive.button>;\ninterface PopoverCloseProps extends PrimitiveButtonProps {}\n\nconst PopoverClose = React.forwardRef<PopoverCloseElement, PopoverCloseProps>(\n  (props: ScopedProps<PopoverCloseProps>, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return (\n      <Primitive.button\n        type=\"button\"\n        {...closeProps}\n        ref={forwardedRef}\n        onClick={composeEventHandlers(props.onClick, () => context.onOpenChange(false))}\n      />\n    );\n  }\n);\n\nPopoverClose.displayName = CLOSE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'PopoverArrow';\n\ntype PopoverArrowElement = React.ElementRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface PopoverArrowProps extends PopperArrowProps {}\n\nconst PopoverArrow = React.forwardRef<PopoverArrowElement, PopoverArrowProps>(\n  (props: ScopedProps<PopoverArrowProps>, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nPopoverArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getState(open: boolean) {\n  return open ? 'open' : 'closed';\n}\n\nconst Root = Popover;\nconst Anchor = PopoverAnchor;\nconst Trigger = PopoverTrigger;\nconst Portal = PopoverPortal;\nconst Content = PopoverContent;\nconst Close = PopoverClose;\nconst Arrow = PopoverArrow;\n\nexport {\n  createPopoverScope,\n  //\n  Popover,\n  PopoverAnchor,\n  PopoverTrigger,\n  PopoverPortal,\n  PopoverContent,\n  PopoverClose,\n  PopoverArrow,\n  //\n  Root,\n  Anchor,\n  Trigger,\n  Portal,\n  Content,\n  Close,\n  Arrow,\n};\nexport type {\n  PopoverProps,\n  PopoverAnchorProps,\n  PopoverTriggerProps,\n  PopoverPortalProps,\n  PopoverContentProps,\n  PopoverCloseProps,\n  PopoverArrowProps,\n};\n", "var U=1,Y=.9,H=.8,J=.17,p=.1,u=.999,$=.9999;var k=.99,m=/[\\\\\\/_+.#\"@\\[\\(\\{&]/,B=/[\\\\\\/_+.#\"@\\[\\(\\{&]/g,K=/[\\s-]/,X=/[\\s-]/g;function G(_,C,h,P,A,f,O){if(f===C.length)return A===_.length?U:k;var T=`${A},${f}`;if(O[T]!==void 0)return O[T];for(var L=P.charAt(f),c=h.indexOf(L,A),S=0,E,N,R,M;c>=0;)E=G(_,C,h,P,c+1,f+1,O),E>S&&(c===A?E*=U:m.test(_.charAt(c-1))?(E*=H,R=_.slice(A,c-1).match(B),R&&A>0&&(E*=Math.pow(u,R.length))):K.test(_.charAt(c-1))?(E*=Y,M=_.slice(A,c-1).match(X),M&&A>0&&(E*=Math.pow(u,M.length))):(E*=J,A>0&&(E*=Math.pow(u,c-A))),_.charAt(c)!==C.charAt(f)&&(E*=$)),(E<p&&h.charAt(c-1)===P.charAt(f+1)||P.charAt(f+1)===P.charAt(f)&&h.charAt(c-1)!==P.charAt(f))&&(N=G(_,C,h,P,c+1,f+2,O),N*p>E&&(E=N*p)),E>S&&(S=E),c=h.indexOf(L,c+1);return O[T]=S,S}function D(_){return _.toLowerCase().replace(X,\" \")}function W(_,C,h){return _=h&&h.length>0?`${_+\" \"+h.join(\" \")}`:_,G(_,C,D(_),D(C),0,0,{})}export{W as a};\n", "\"use client\";import{a as ae}from\"./chunk-NZJY6EH4.mjs\";import*as w from\"@radix-ui/react-dialog\";import*as t from\"react\";import{Primitive as D}from\"@radix-ui/react-primitive\";import{useId as H}from\"@radix-ui/react-id\";import{composeRefs as G}from\"@radix-ui/react-compose-refs\";var N='[cmdk-group=\"\"]',Y='[cmdk-group-items=\"\"]',be='[cmdk-group-heading=\"\"]',le='[cmdk-item=\"\"]',ce=`${le}:not([aria-disabled=\"true\"])`,Z=\"cmdk-item-select\",T=\"data-value\",Re=(r,o,n)=>ae(r,o,n),ue=t.createContext(void 0),K=()=>t.useContext(ue),de=t.createContext(void 0),ee=()=>t.useContext(de),fe=t.createContext(void 0),me=t.forwardRef((r,o)=>{let n=L(()=>{var e,a;return{search:\"\",value:(a=(e=r.value)!=null?e:r.defaultValue)!=null?a:\"\",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),u=L(()=>new Set),c=L(()=>new Map),d=L(()=>new Map),f=L(()=>new Set),p=pe(r),{label:b,children:m,value:R,onValueChange:x,filter:C,shouldFilter:S,loop:A,disablePointerSelection:ge=!1,vimBindings:j=!0,...O}=r,$=H(),q=H(),_=H(),I=t.useRef(null),v=ke();k(()=>{if(R!==void 0){let e=R.trim();n.current.value=e,E.emit()}},[R]),k(()=>{v(6,ne)},[]);let E=t.useMemo(()=>({subscribe:e=>(f.current.add(e),()=>f.current.delete(e)),snapshot:()=>n.current,setState:(e,a,s)=>{var i,l,g,y;if(!Object.is(n.current[e],a)){if(n.current[e]=a,e===\"search\")J(),z(),v(1,W);else if(e===\"value\"){if(document.activeElement.hasAttribute(\"cmdk-input\")||document.activeElement.hasAttribute(\"cmdk-root\")){let h=document.getElementById(_);h?h.focus():(i=document.getElementById($))==null||i.focus()}if(v(7,()=>{var h;n.current.selectedItemId=(h=M())==null?void 0:h.id,E.emit()}),s||v(5,ne),((l=p.current)==null?void 0:l.value)!==void 0){let h=a!=null?a:\"\";(y=(g=p.current).onValueChange)==null||y.call(g,h);return}}E.emit()}},emit:()=>{f.current.forEach(e=>e())}}),[]),U=t.useMemo(()=>({value:(e,a,s)=>{var i;a!==((i=d.current.get(e))==null?void 0:i.value)&&(d.current.set(e,{value:a,keywords:s}),n.current.filtered.items.set(e,te(a,s)),v(2,()=>{z(),E.emit()}))},item:(e,a)=>(u.current.add(e),a&&(c.current.has(a)?c.current.get(a).add(e):c.current.set(a,new Set([e]))),v(3,()=>{J(),z(),n.current.value||W(),E.emit()}),()=>{d.current.delete(e),u.current.delete(e),n.current.filtered.items.delete(e);let s=M();v(4,()=>{J(),(s==null?void 0:s.getAttribute(\"id\"))===e&&W(),E.emit()})}),group:e=>(c.current.has(e)||c.current.set(e,new Set),()=>{d.current.delete(e),c.current.delete(e)}),filter:()=>p.current.shouldFilter,label:b||r[\"aria-label\"],getDisablePointerSelection:()=>p.current.disablePointerSelection,listId:$,inputId:_,labelId:q,listInnerRef:I}),[]);function te(e,a){var i,l;let s=(l=(i=p.current)==null?void 0:i.filter)!=null?l:Re;return e?s(e,n.current.search,a):0}function z(){if(!n.current.search||p.current.shouldFilter===!1)return;let e=n.current.filtered.items,a=[];n.current.filtered.groups.forEach(i=>{let l=c.current.get(i),g=0;l.forEach(y=>{let h=e.get(y);g=Math.max(h,g)}),a.push([i,g])});let s=I.current;V().sort((i,l)=>{var h,F;let g=i.getAttribute(\"id\"),y=l.getAttribute(\"id\");return((h=e.get(y))!=null?h:0)-((F=e.get(g))!=null?F:0)}).forEach(i=>{let l=i.closest(Y);l?l.appendChild(i.parentElement===l?i:i.closest(`${Y} > *`)):s.appendChild(i.parentElement===s?i:i.closest(`${Y} > *`))}),a.sort((i,l)=>l[1]-i[1]).forEach(i=>{var g;let l=(g=I.current)==null?void 0:g.querySelector(`${N}[${T}=\"${encodeURIComponent(i[0])}\"]`);l==null||l.parentElement.appendChild(l)})}function W(){let e=V().find(s=>s.getAttribute(\"aria-disabled\")!==\"true\"),a=e==null?void 0:e.getAttribute(T);E.setState(\"value\",a||void 0)}function J(){var a,s,i,l;if(!n.current.search||p.current.shouldFilter===!1){n.current.filtered.count=u.current.size;return}n.current.filtered.groups=new Set;let e=0;for(let g of u.current){let y=(s=(a=d.current.get(g))==null?void 0:a.value)!=null?s:\"\",h=(l=(i=d.current.get(g))==null?void 0:i.keywords)!=null?l:[],F=te(y,h);n.current.filtered.items.set(g,F),F>0&&e++}for(let[g,y]of c.current)for(let h of y)if(n.current.filtered.items.get(h)>0){n.current.filtered.groups.add(g);break}n.current.filtered.count=e}function ne(){var a,s,i;let e=M();e&&(((a=e.parentElement)==null?void 0:a.firstChild)===e&&((i=(s=e.closest(N))==null?void 0:s.querySelector(be))==null||i.scrollIntoView({block:\"nearest\"})),e.scrollIntoView({block:\"nearest\"}))}function M(){var e;return(e=I.current)==null?void 0:e.querySelector(`${le}[aria-selected=\"true\"]`)}function V(){var e;return Array.from(((e=I.current)==null?void 0:e.querySelectorAll(ce))||[])}function X(e){let s=V()[e];s&&E.setState(\"value\",s.getAttribute(T))}function Q(e){var g;let a=M(),s=V(),i=s.findIndex(y=>y===a),l=s[i+e];(g=p.current)!=null&&g.loop&&(l=i+e<0?s[s.length-1]:i+e===s.length?s[0]:s[i+e]),l&&E.setState(\"value\",l.getAttribute(T))}function re(e){let a=M(),s=a==null?void 0:a.closest(N),i;for(;s&&!i;)s=e>0?we(s,N):De(s,N),i=s==null?void 0:s.querySelector(ce);i?E.setState(\"value\",i.getAttribute(T)):Q(e)}let oe=()=>X(V().length-1),ie=e=>{e.preventDefault(),e.metaKey?oe():e.altKey?re(1):Q(1)},se=e=>{e.preventDefault(),e.metaKey?X(0):e.altKey?re(-1):Q(-1)};return t.createElement(D.div,{ref:o,tabIndex:-1,...O,\"cmdk-root\":\"\",onKeyDown:e=>{var s;(s=O.onKeyDown)==null||s.call(O,e);let a=e.nativeEvent.isComposing||e.keyCode===229;if(!(e.defaultPrevented||a))switch(e.key){case\"n\":case\"j\":{j&&e.ctrlKey&&ie(e);break}case\"ArrowDown\":{ie(e);break}case\"p\":case\"k\":{j&&e.ctrlKey&&se(e);break}case\"ArrowUp\":{se(e);break}case\"Home\":{e.preventDefault(),X(0);break}case\"End\":{e.preventDefault(),oe();break}case\"Enter\":{e.preventDefault();let i=M();if(i){let l=new Event(Z);i.dispatchEvent(l)}}}}},t.createElement(\"label\",{\"cmdk-label\":\"\",htmlFor:U.inputId,id:U.labelId,style:Te},b),B(r,e=>t.createElement(de.Provider,{value:E},t.createElement(ue.Provider,{value:U},e))))}),he=t.forwardRef((r,o)=>{var _,I;let n=H(),u=t.useRef(null),c=t.useContext(fe),d=K(),f=pe(r),p=(I=(_=f.current)==null?void 0:_.forceMount)!=null?I:c==null?void 0:c.forceMount;k(()=>{if(!p)return d.item(n,c==null?void 0:c.id)},[p]);let b=ve(n,u,[r.value,r.children,u],r.keywords),m=ee(),R=P(v=>v.value&&v.value===b.current),x=P(v=>p||d.filter()===!1?!0:v.search?v.filtered.items.get(n)>0:!0);t.useEffect(()=>{let v=u.current;if(!(!v||r.disabled))return v.addEventListener(Z,C),()=>v.removeEventListener(Z,C)},[x,r.onSelect,r.disabled]);function C(){var v,E;S(),(E=(v=f.current).onSelect)==null||E.call(v,b.current)}function S(){m.setState(\"value\",b.current,!0)}if(!x)return null;let{disabled:A,value:ge,onSelect:j,forceMount:O,keywords:$,...q}=r;return t.createElement(D.div,{ref:G(u,o),...q,id:n,\"cmdk-item\":\"\",role:\"option\",\"aria-disabled\":!!A,\"aria-selected\":!!R,\"data-disabled\":!!A,\"data-selected\":!!R,onPointerMove:A||d.getDisablePointerSelection()?void 0:S,onClick:A?void 0:C},r.children)}),Ee=t.forwardRef((r,o)=>{let{heading:n,children:u,forceMount:c,...d}=r,f=H(),p=t.useRef(null),b=t.useRef(null),m=H(),R=K(),x=P(S=>c||R.filter()===!1?!0:S.search?S.filtered.groups.has(f):!0);k(()=>R.group(f),[]),ve(f,p,[r.value,r.heading,b]);let C=t.useMemo(()=>({id:f,forceMount:c}),[c]);return t.createElement(D.div,{ref:G(p,o),...d,\"cmdk-group\":\"\",role:\"presentation\",hidden:x?void 0:!0},n&&t.createElement(\"div\",{ref:b,\"cmdk-group-heading\":\"\",\"aria-hidden\":!0,id:m},n),B(r,S=>t.createElement(\"div\",{\"cmdk-group-items\":\"\",role:\"group\",\"aria-labelledby\":n?m:void 0},t.createElement(fe.Provider,{value:C},S))))}),ye=t.forwardRef((r,o)=>{let{alwaysRender:n,...u}=r,c=t.useRef(null),d=P(f=>!f.search);return!n&&!d?null:t.createElement(D.div,{ref:G(c,o),...u,\"cmdk-separator\":\"\",role:\"separator\"})}),Se=t.forwardRef((r,o)=>{let{onValueChange:n,...u}=r,c=r.value!=null,d=ee(),f=P(m=>m.search),p=P(m=>m.selectedItemId),b=K();return t.useEffect(()=>{r.value!=null&&d.setState(\"search\",r.value)},[r.value]),t.createElement(D.input,{ref:o,...u,\"cmdk-input\":\"\",autoComplete:\"off\",autoCorrect:\"off\",spellCheck:!1,\"aria-autocomplete\":\"list\",role:\"combobox\",\"aria-expanded\":!0,\"aria-controls\":b.listId,\"aria-labelledby\":b.labelId,\"aria-activedescendant\":p,id:b.inputId,type:\"text\",value:c?r.value:f,onChange:m=>{c||d.setState(\"search\",m.target.value),n==null||n(m.target.value)}})}),Ce=t.forwardRef((r,o)=>{let{children:n,label:u=\"Suggestions\",...c}=r,d=t.useRef(null),f=t.useRef(null),p=P(m=>m.selectedItemId),b=K();return t.useEffect(()=>{if(f.current&&d.current){let m=f.current,R=d.current,x,C=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let S=m.offsetHeight;R.style.setProperty(\"--cmdk-list-height\",S.toFixed(1)+\"px\")})});return C.observe(m),()=>{cancelAnimationFrame(x),C.unobserve(m)}}},[]),t.createElement(D.div,{ref:G(d,o),...c,\"cmdk-list\":\"\",role:\"listbox\",tabIndex:-1,\"aria-activedescendant\":p,\"aria-label\":u,id:b.listId},B(r,m=>t.createElement(\"div\",{ref:G(f,b.listInnerRef),\"cmdk-list-sizer\":\"\"},m)))}),xe=t.forwardRef((r,o)=>{let{open:n,onOpenChange:u,overlayClassName:c,contentClassName:d,container:f,...p}=r;return t.createElement(w.Root,{open:n,onOpenChange:u},t.createElement(w.Portal,{container:f},t.createElement(w.Overlay,{\"cmdk-overlay\":\"\",className:c}),t.createElement(w.Content,{\"aria-label\":r.label,\"cmdk-dialog\":\"\",className:d},t.createElement(me,{ref:o,...p}))))}),Ie=t.forwardRef((r,o)=>P(u=>u.filtered.count===0)?t.createElement(D.div,{ref:o,...r,\"cmdk-empty\":\"\",role:\"presentation\"}):null),Pe=t.forwardRef((r,o)=>{let{progress:n,children:u,label:c=\"Loading...\",...d}=r;return t.createElement(D.div,{ref:o,...d,\"cmdk-loading\":\"\",role:\"progressbar\",\"aria-valuenow\":n,\"aria-valuemin\":0,\"aria-valuemax\":100,\"aria-label\":c},B(r,f=>t.createElement(\"div\",{\"aria-hidden\":!0},f)))}),_e=Object.assign(me,{List:Ce,Item:he,Input:Se,Group:Ee,Separator:ye,Dialog:xe,Empty:Ie,Loading:Pe});function we(r,o){let n=r.nextElementSibling;for(;n;){if(n.matches(o))return n;n=n.nextElementSibling}}function De(r,o){let n=r.previousElementSibling;for(;n;){if(n.matches(o))return n;n=n.previousElementSibling}}function pe(r){let o=t.useRef(r);return k(()=>{o.current=r}),o}var k=typeof window==\"undefined\"?t.useEffect:t.useLayoutEffect;function L(r){let o=t.useRef();return o.current===void 0&&(o.current=r()),o}function P(r){let o=ee(),n=()=>r(o.snapshot());return t.useSyncExternalStore(o.subscribe,n,n)}function ve(r,o,n,u=[]){let c=t.useRef(),d=K();return k(()=>{var b;let f=(()=>{var m;for(let R of n){if(typeof R==\"string\")return R.trim();if(typeof R==\"object\"&&\"current\"in R)return R.current?(m=R.current.textContent)==null?void 0:m.trim():c.current}})(),p=u.map(m=>m.trim());d.value(r,f,p),(b=o.current)==null||b.setAttribute(T,f),c.current=f}),c}var ke=()=>{let[r,o]=t.useState(),n=L(()=>new Map);return k(()=>{n.current.forEach(u=>u()),n.current=new Map},[r]),(u,c)=>{n.current.set(u,c),o({})}};function Me(r){let o=r.type;return typeof o==\"function\"?o(r.props):\"render\"in o?o.render(r.props):r}function B({asChild:r,children:o},n){return r&&t.isValidElement(o)?t.cloneElement(Me(o),{ref:o.ref},n(o.props.children)):n(o)}var Te={position:\"absolute\",width:\"1px\",height:\"1px\",padding:\"0\",margin:\"-1px\",overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\"};export{_e as Command,xe as CommandDialog,Ie as CommandEmpty,Ee as CommandGroup,Se as CommandInput,he as CommandItem,Ce as CommandList,Pe as CommandLoading,me as CommandRoot,ye as CommandSeparator,Re as defaultFilter,P as useCommandState};\n", "import { type DialogProps } from \"@radix-ui/react-dialog\";\nimport { Command as CommandPrimitive } from \"cmdk\";\nimport { Search } from \"lucide-react\";\nimport * as React from \"react\";\nimport { ComponentPropsWithoutRef } from \"react\";\nimport { Dialog, DialogContent } from \"zudoku/ui/Dialog.js\";\nimport { cn } from \"../util/cn.js\";\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\nconst CommandDialog = ({\n  children,\n  command,\n  content,\n  ...props\n}: DialogProps & {\n  command?: ComponentPropsWithoutRef<typeof CommandPrimitive>;\n  content?: ComponentPropsWithoutRef<typeof DialogContent>;\n}) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent\n        {...content}\n        className={cn(\n          \"overflow-hidden p-0 shadow-lg top-[15vh] translate-y-[0%]\",\n          content?.className,\n        )}\n        aria-describedby={undefined}\n      >\n        <Command\n          {...command}\n          className={cn(\n            \"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\",\n            command?.className,\n          )}\n        >\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  // eslint-disable-next-line react/no-unknown-property\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  </div>\n));\n\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\nconst CommandInlineInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  // eslint-disable-next-line react/no-unknown-property\n  <div className=\"flex items-center\" cmdk-input-wrapper=\"\">\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50\",\n        \"focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\",\n        className,\n      )}\n      {...props}\n    />\n  </div>\n));\n\nCommandInlineInput.displayName = CommandPrimitive.Input.displayName;\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n));\n\nCommandList.displayName = CommandPrimitive.List.displayName;\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n));\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className,\n      )}\n      {...props}\n    />\n  );\n};\nCommandShortcut.displayName = \"CommandShortcut\";\n\nexport {\n  Command,\n  CommandDialog,\n  CommandEmpty,\n  CommandGroup,\n  CommandInlineInput,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n  CommandShortcut,\n};\n", "import {\n  AlertTriangleIcon,\n  InfoIcon,\n  LightbulbIcon,\n  type LucideIcon,\n  ShieldAlertIcon,\n} from \"lucide-react\";\nimport type { ReactNode } from \"react\";\nimport { cn } from \"../util/cn.js\";\n\nconst stylesMap = {\n  note: {\n    border: \"border-gray-300 dark:border-zinc-800\",\n    bg: \"bg-gray-100 dark:bg-zinc-800/50\",\n    iconColor: \"text-gray-600 dark:text-zinc-300\",\n    titleColor: \"text-gray-600 dark:text-zinc-300\",\n    textColor: \"text-gray-600 dark:text-zinc-300\",\n    Icon: InfoIcon as LucideIcon,\n  },\n  tip: {\n    border: \"border-green-500 dark:border-green-800\",\n    bg: \"bg-green-200/25 dark:bg-green-950/70\",\n    iconColor: \"text-green-600 dark:text-green-200\",\n    titleColor: \"text-green-700 dark:text-green-200\",\n    textColor: \"text-green-600 dark:text-green-50\",\n    Icon: LightbulbIcon as LucideIcon,\n  },\n  info: {\n    border: \"border-blue-400 dark:border-blue-900/60\",\n    bg: \"bg-blue-50 dark:bg-blue-950/40\",\n    iconColor: \"text-blue-400 dark:text-blue-200\",\n    titleColor: \"text-blue-700 dark:text-blue-200\",\n    textColor: \"text-blue-600 dark:text-blue-100\",\n    Icon: InfoIcon as LucideIcon,\n  },\n  caution: {\n    border: \"border-yellow-400 dark:border-yellow-400/25\",\n    bg: \"bg-yellow-100/60 dark:bg-yellow-400/10\",\n    iconColor: \"text-yellow-500 dark:text-yellow-300\",\n    titleColor: \"text-yellow-600 dark:text-yellow-300\",\n    textColor: \"text-yellow-700 dark:text-yellow-200\",\n    Icon: AlertTriangleIcon as LucideIcon,\n  },\n  danger: {\n    border: \"border-rose-400 dark:border-rose-800\",\n    bg: \"bg-rose-50 dark:bg-rose-950/40\",\n    iconColor: \"text-rose-400 dark:text-rose-300\",\n    titleColor: \"text-rose-800 dark:text-rose-300\",\n    textColor: \"text-rose-700 dark:text-rose-100\",\n    Icon: ShieldAlertIcon as LucideIcon,\n  },\n} as const;\n\ntype CalloutProps = {\n  type: keyof typeof stylesMap;\n  title?: string;\n  children: ReactNode;\n  className?: string;\n  icon?: boolean;\n};\n\nexport const Callout = ({\n  type,\n  children,\n  title,\n  className,\n  icon = true,\n}: CalloutProps) => {\n  const { border, bg, iconColor, titleColor, textColor, Icon } =\n    stylesMap[type];\n\n  return (\n    <div\n      className={cn(\n        \"not-prose rounded-md border p-4 text-md my-2\",\n        icon &&\n          \"grid grid-cols-[min-content_1fr] items-baseline grid-rows-[fit-content_1fr] gap-x-4 gap-y-2\",\n        !icon && title && \"flex flex-col gap-2\",\n        \"[&_a]:underline [&_a]:decoration-current [&_a]:decoration-from-font [&_a]:underline-offset-4 hover:[&_a]:decoration-1\",\n        \"[&_code]:!bg-gray-50 [&_code]:dark:!bg-gray-800 [&_code]:!border-none\",\n        \"[&_ul]:list-disc [&_ol]:list-decimal [&_ul]:ps-4 [&_ul>li]:ps-1 [&_ul>li]:my-1\",\n        icon && title && \"items-center\",\n        border,\n        bg,\n        className,\n      )}\n    >\n      {icon && (\n        <Icon\n          className={cn(!title ? \"translate-y-1\" : \"align-middle\", iconColor)}\n          size={20}\n          aria-hidden=\"true\"\n        />\n      )}\n      {title && <h3 className={cn(\"font-medium\", titleColor)}>{title}</h3>}\n      <div\n        className={cn(\n          icon && \"col-start-2\",\n          !title && icon && \"row-start-1\",\n          textColor,\n        )}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n", "import * as React from \"react\";\nimport { cn } from \"../util/cn.js\";\n\ntype InputProps = React.InputHTMLAttributes<HTMLInputElement>;\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n", "import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Label\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Label';\n\ntype LabelElement = React.ElementRef<typeof Primitive.label>;\ntype PrimitiveLabelProps = React.ComponentPropsWithoutRef<typeof Primitive.label>;\ninterface LabelProps extends PrimitiveLabelProps {}\n\nconst Label = React.forwardRef<LabelElement, LabelProps>((props, forwardedRef) => {\n  return (\n    <Primitive.label\n      {...props}\n      ref={forwardedRef}\n      onMouseDown={(event) => {\n        // only prevent text selection if clicking inside the label itself\n        const target = event.target as HTMLElement;\n        if (target.closest('button, input, select, textarea')) return;\n\n        props.onMouseDown?.(event);\n        // prevent text selection when double clicking label\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }}\n    />\n  );\n});\n\nLabel.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Label;\n\nexport {\n  Label,\n  //\n  Root,\n};\nexport type { LabelProps };\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { Radio, RadioIndicator, createRadioScope } from './radio';\n\nimport type { Scope } from '@radix-ui/react-context';\n\nconst ARROW_KEYS = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'];\n\n/* -------------------------------------------------------------------------------------------------\n * RadioGroup\n * -----------------------------------------------------------------------------------------------*/\nconst RADIO_GROUP_NAME = 'RadioGroup';\n\ntype ScopedProps<P> = P & { __scopeRadioGroup?: Scope };\nconst [createRadioGroupContext, createRadioGroupScope] = createContextScope(RADIO_GROUP_NAME, [\n  createRovingFocusGroupScope,\n  createRadioScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\nconst useRadioScope = createRadioScope();\n\ntype RadioGroupContextValue = {\n  name?: string;\n  required: boolean;\n  disabled: boolean;\n  value?: string;\n  onValueChange(value: string): void;\n};\n\nconst [RadioGroupProvider, useRadioGroupContext] =\n  createRadioGroupContext<RadioGroupContextValue>(RADIO_GROUP_NAME);\n\ntype RadioGroupElement = React.ElementRef<typeof Primitive.div>;\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface RadioGroupProps extends PrimitiveDivProps {\n  name?: RadioGroupContextValue['name'];\n  required?: React.ComponentPropsWithoutRef<typeof Radio>['required'];\n  disabled?: React.ComponentPropsWithoutRef<typeof Radio>['disabled'];\n  dir?: RovingFocusGroupProps['dir'];\n  orientation?: RovingFocusGroupProps['orientation'];\n  loop?: RovingFocusGroupProps['loop'];\n  defaultValue?: string;\n  value?: RadioGroupContextValue['value'];\n  onValueChange?: RadioGroupContextValue['onValueChange'];\n}\n\nconst RadioGroup = React.forwardRef<RadioGroupElement, RadioGroupProps>(\n  (props: ScopedProps<RadioGroupProps>, forwardedRef) => {\n    const {\n      __scopeRadioGroup,\n      name,\n      defaultValue,\n      value: valueProp,\n      required = false,\n      disabled = false,\n      orientation,\n      dir,\n      loop = true,\n      onValueChange,\n      ...groupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      defaultProp: defaultValue,\n      onChange: onValueChange,\n    });\n\n    return (\n      <RadioGroupProvider\n        scope={__scopeRadioGroup}\n        name={name}\n        required={required}\n        disabled={disabled}\n        value={value}\n        onValueChange={setValue}\n      >\n        <RovingFocusGroup.Root\n          asChild\n          {...rovingFocusGroupScope}\n          orientation={orientation}\n          dir={direction}\n          loop={loop}\n        >\n          <Primitive.div\n            role=\"radiogroup\"\n            aria-required={required}\n            aria-orientation={orientation}\n            data-disabled={disabled ? '' : undefined}\n            dir={direction}\n            {...groupProps}\n            ref={forwardedRef}\n          />\n        </RovingFocusGroup.Root>\n      </RadioGroupProvider>\n    );\n  }\n);\n\nRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * RadioGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'RadioGroupItem';\n\ntype RadioGroupItemElement = React.ElementRef<typeof Radio>;\ntype RadioProps = React.ComponentPropsWithoutRef<typeof Radio>;\ninterface RadioGroupItemProps extends Omit<RadioProps, 'onCheck' | 'name'> {\n  value: string;\n}\n\nconst RadioGroupItem = React.forwardRef<RadioGroupItemElement, RadioGroupItemProps>(\n  (props: ScopedProps<RadioGroupItemProps>, forwardedRef) => {\n    const { __scopeRadioGroup, disabled, ...itemProps } = props;\n    const context = useRadioGroupContext(ITEM_NAME, __scopeRadioGroup);\n    const isDisabled = context.disabled || disabled;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    const ref = React.useRef<React.ElementRef<typeof Radio>>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const checked = context.value === itemProps.value;\n    const isArrowKeyPressedRef = React.useRef(false);\n\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (ARROW_KEYS.includes(event.key)) {\n          isArrowKeyPressedRef.current = true;\n        }\n      };\n      const handleKeyUp = () => (isArrowKeyPressedRef.current = false);\n      document.addEventListener('keydown', handleKeyDown);\n      document.addEventListener('keyup', handleKeyUp);\n      return () => {\n        document.removeEventListener('keydown', handleKeyDown);\n        document.removeEventListener('keyup', handleKeyUp);\n      };\n    }, []);\n\n    return (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!isDisabled}\n        active={checked}\n      >\n        <Radio\n          disabled={isDisabled}\n          required={context.required}\n          checked={checked}\n          {...radioScope}\n          {...itemProps}\n          name={context.name}\n          ref={composedRefs}\n          onCheck={() => context.onValueChange(itemProps.value)}\n          onKeyDown={composeEventHandlers((event) => {\n            // According to WAI ARIA, radio groups don't activate items on enter keypress\n            if (event.key === 'Enter') event.preventDefault();\n          })}\n          onFocus={composeEventHandlers(itemProps.onFocus, () => {\n            /**\n             * Our `RovingFocusGroup` will focus the radio when navigating with arrow keys\n             * and we need to \"check\" it in that case. We click it to \"check\" it (instead\n             * of updating `context.value`) so that the radio change event fires.\n             */\n            if (isArrowKeyPressedRef.current) ref.current?.click();\n          })}\n        />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nRadioGroupItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * RadioGroupIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'RadioGroupIndicator';\n\ntype RadioGroupIndicatorElement = React.ElementRef<typeof RadioIndicator>;\ntype RadioIndicatorProps = React.ComponentPropsWithoutRef<typeof RadioIndicator>;\ninterface RadioGroupIndicatorProps extends RadioIndicatorProps {}\n\nconst RadioGroupIndicator = React.forwardRef<RadioGroupIndicatorElement, RadioGroupIndicatorProps>(\n  (props: ScopedProps<RadioGroupIndicatorProps>, forwardedRef) => {\n    const { __scopeRadioGroup, ...indicatorProps } = props;\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    return <RadioIndicator {...radioScope} {...indicatorProps} ref={forwardedRef} />;\n  }\n);\n\nRadioGroupIndicator.displayName = INDICATOR_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst Root = RadioGroup;\nconst Item = RadioGroupItem;\nconst Indicator = RadioGroupIndicator;\n\nexport {\n  createRadioGroupScope,\n  //\n  RadioGroup,\n  RadioGroupItem,\n  RadioGroupIndicator,\n  //\n  Root,\n  Item,\n  Indicator,\n};\nexport type { RadioGroupProps, RadioGroupItemProps, RadioGroupIndicatorProps };\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Radio\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_NAME = 'Radio';\n\ntype ScopedProps<P> = P & { __scopeRadio?: Scope };\nconst [createRadioContext, createRadioScope] = createContextScope(RADIO_NAME);\n\ntype RadioContextValue = { checked: boolean; disabled?: boolean };\nconst [RadioProvider, useRadioContext] = createRadioContext<RadioContextValue>(RADIO_NAME);\n\ntype RadioElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface RadioProps extends PrimitiveButtonProps {\n  checked?: boolean;\n  required?: boolean;\n  onCheck?(): void;\n}\n\nconst Radio = React.forwardRef<RadioElement, RadioProps>(\n  (props: ScopedProps<RadioProps>, forwardedRef) => {\n    const {\n      __scopeRadio,\n      name,\n      checked = false,\n      required,\n      disabled,\n      value = 'on',\n      onCheck,\n      form,\n      ...radioProps\n    } = props;\n    const [button, setButton] = React.useState<HTMLButtonElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = button ? form || !!button.closest('form') : true;\n\n    return (\n      <RadioProvider scope={__scopeRadio} checked={checked} disabled={disabled}>\n        <Primitive.button\n          type=\"button\"\n          role=\"radio\"\n          aria-checked={checked}\n          data-state={getState(checked)}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          value={value}\n          {...radioProps}\n          ref={composedRefs}\n          onClick={composeEventHandlers(props.onClick, (event) => {\n            // radios cannot be unchecked so we only communicate a checked state\n            if (!checked) onCheck?.();\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              // if radio is in a form, stop propagation from the button so that we only propagate\n              // one click event (from the input). We propagate changes from an input so that native\n              // form validation works and form events reflect radio updates.\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })}\n        />\n        {isFormControl && (\n          <BubbleInput\n            control={button}\n            bubbles={!hasConsumerStoppedPropagationRef.current}\n            name={name}\n            value={value}\n            checked={checked}\n            required={required}\n            disabled={disabled}\n            form={form}\n            // We transform because the input is absolutely positioned but we have\n            // rendered it **after** the button. This pulls it back to sit on top\n            // of the button.\n            style={{ transform: 'translateX(-100%)' }}\n          />\n        )}\n      </RadioProvider>\n    );\n  }\n);\n\nRadio.displayName = RADIO_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * RadioIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'RadioIndicator';\n\ntype RadioIndicatorElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\nexport interface RadioIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst RadioIndicator = React.forwardRef<RadioIndicatorElement, RadioIndicatorProps>(\n  (props: ScopedProps<RadioIndicatorProps>, forwardedRef) => {\n    const { __scopeRadio, forceMount, ...indicatorProps } = props;\n    const context = useRadioContext(INDICATOR_NAME, __scopeRadio);\n    return (\n      <Presence present={forceMount || context.checked}>\n        <Primitive.span\n          data-state={getState(context.checked)}\n          data-disabled={context.disabled ? '' : undefined}\n          {...indicatorProps}\n          ref={forwardedRef}\n        />\n      </Presence>\n    );\n  }\n);\n\nRadioIndicator.displayName = INDICATOR_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype InputProps = React.ComponentPropsWithoutRef<'input'>;\ninterface BubbleInputProps extends Omit<InputProps, 'checked'> {\n  checked: boolean;\n  control: HTMLElement | null;\n  bubbles: boolean;\n}\n\nconst BubbleInput = (props: BubbleInputProps) => {\n  const { control, checked, bubbles = true, ...inputProps } = props;\n  const ref = React.useRef<HTMLInputElement>(null);\n  const prevChecked = usePrevious(checked);\n  const controlSize = useSize(control);\n\n  // Bubble checked change to parents (e.g form change event)\n  React.useEffect(() => {\n    const input = ref.current!;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, 'checked') as PropertyDescriptor;\n    const setChecked = descriptor.set;\n    if (prevChecked !== checked && setChecked) {\n      const event = new Event('click', { bubbles });\n      setChecked.call(input, checked);\n      input.dispatchEvent(event);\n    }\n  }, [prevChecked, checked, bubbles]);\n\n  return (\n    <input\n      type=\"radio\"\n      aria-hidden\n      defaultChecked={checked}\n      {...inputProps}\n      tabIndex={-1}\n      ref={ref}\n      style={{\n        ...props.style,\n        ...controlSize,\n        position: 'absolute',\n        pointerEvents: 'none',\n        opacity: 0,\n        margin: 0,\n      }}\n    />\n  );\n};\n\nfunction getState(checked: boolean) {\n  return checked ? 'checked' : 'unchecked';\n}\n\nexport {\n  createRadioScope,\n  //\n  Radio,\n  RadioIndicator,\n};\nexport type { RadioProps };\n", "import * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\";\n\nconst Collapsible = CollapsiblePrimitive.Root;\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;\n\nexport { Collapsible, CollapsibleContent, CollapsibleTrigger };\n", "import type { GraphQLError } from \"graphql/error/index.js\";\nimport { ZudokuError } from \"../../../util/invariant.js\";\nimport type { TypedDocumentString } from \"../graphql/graphql.js\";\nimport type { OpenApiPluginOptions } from \"../index.js\";\nimport type { LocalServer } from \"./createServer.js\";\n\nlet localServerPromise: Promise<LocalServer> | undefined;\n\ntype GraphQLResponse<TResult> = {\n  errors?: GraphQLError[];\n  data: TResult;\n};\n\nconst throwIfError = (response: GraphQLResponse<unknown>) => {\n  if (!response.errors?.[0]) return;\n\n  throw new ZudokuError(response.errors[0].message, {\n    developerHint:\n      \"Check your configuration value `apis.type` and `apis.input` in the Zudoku config.\",\n  });\n};\n\nexport class GraphQLClient {\n  constructor(private readonly config: OpenApiPluginOptions) {}\n\n  #getLocalServer = async () => {\n    if (!localServerPromise) {\n      localServerPromise = import(\"./createServer.js\").then((m) =>\n        m.createServer(this.config),\n      );\n    }\n    return localServerPromise;\n  };\n\n  #executeFetch = async (init: RequestInit): Promise<Response> => {\n    if (this.config.server) {\n      return fetch(this.config.server, init);\n    }\n\n    const localServer = await this.#getLocalServer();\n    return localServer.fetch(\"http://localhost/graphql\", init);\n  };\n\n  fetch = async <TResult, TVariables>(\n    query: TypedDocumentString<TResult, TVariables>,\n    variables?: TVariables,\n  ): Promise<TResult> => {\n    const operationName = query.match(/query (\\w+)/)?.[1];\n\n    const response = await this.#executeFetch({\n      method: \"POST\",\n      body: JSON.stringify({ query, variables, operationName }),\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Network response was not ok\");\n    }\n\n    const result = (await response.json()) as GraphQLResponse<TResult>;\n    throwIfError(result);\n\n    return result.data;\n  };\n}\n", "/* eslint-disable */\nimport type { DocumentTypeDecoration } from \"@graphql-typed-document-node/core\";\nexport type Maybe<T> = T | null;\nexport type InputMaybe<T> = Maybe<T>;\nexport type Exact<T extends { [key: string]: unknown }> = {\n  [K in keyof T]: T[K];\n};\nexport type MakeOptional<T, K extends keyof T> = Omit<T, K> & {\n  [SubKey in K]?: Maybe<T[SubKey]>;\n};\nexport type MakeMaybe<T, K extends keyof T> = Omit<T, K> & {\n  [SubKey in K]: Maybe<T[SubKey]>;\n};\nexport type MakeEmpty<\n  T extends { [key: string]: unknown },\n  K extends keyof T,\n> = { [_ in K]?: never };\nexport type Incremental<T> =\n  | T\n  | {\n      [P in keyof T]?: P extends \" $fragmentName\" | \"__typename\" ? T[P] : never;\n    };\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: { input: string; output: string };\n  String: { input: string; output: string };\n  Boolean: { input: boolean; output: boolean };\n  Int: { input: number; output: number };\n  Float: { input: number; output: number };\n  /** The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf). */\n  JSON: { input: any; output: any };\n  /** The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf). */\n  JSONObject: { input: any; output: any };\n  /** OpenAPI schema scalar type that handles circular references */\n  JSONSchema: { input: any; output: any };\n};\n\nexport type Components = {\n  __typename?: \"Components\";\n  schemas?: Maybe<Array<SchemaItem>>;\n};\n\nexport type EncodingItem = {\n  __typename?: \"EncodingItem\";\n  allowReserved?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n  contentType?: Maybe<Scalars[\"String\"][\"output\"]>;\n  explode?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n  headers?: Maybe<Scalars[\"JSONObject\"][\"output\"]>;\n  name: Scalars[\"String\"][\"output\"];\n  style?: Maybe<Scalars[\"String\"][\"output\"]>;\n};\n\nexport type ExampleItem = {\n  __typename?: \"ExampleItem\";\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  externalValue?: Maybe<Scalars[\"String\"][\"output\"]>;\n  name: Scalars[\"String\"][\"output\"];\n  summary?: Maybe<Scalars[\"String\"][\"output\"]>;\n  value?: Maybe<Scalars[\"JSON\"][\"output\"]>;\n};\n\nexport type MediaTypeObject = {\n  __typename?: \"MediaTypeObject\";\n  encoding?: Maybe<Array<EncodingItem>>;\n  examples?: Maybe<Array<ExampleItem>>;\n  mediaType: Scalars[\"String\"][\"output\"];\n  schema?: Maybe<Scalars[\"JSONSchema\"][\"output\"]>;\n};\n\nexport type OperationItem = {\n  __typename?: \"OperationItem\";\n  contentTypes: Array<Scalars[\"String\"][\"output\"]>;\n  deprecated?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  extensions?: Maybe<Scalars[\"JSONObject\"][\"output\"]>;\n  method: Scalars[\"String\"][\"output\"];\n  operationId?: Maybe<Scalars[\"String\"][\"output\"]>;\n  parameters?: Maybe<Array<ParameterItem>>;\n  path: Scalars[\"String\"][\"output\"];\n  requestBody?: Maybe<RequestBodyObject>;\n  responses: Array<ResponseItem>;\n  slug: Scalars[\"String\"][\"output\"];\n  summary?: Maybe<Scalars[\"String\"][\"output\"]>;\n  tags?: Maybe<Array<TagItem>>;\n};\n\nexport type ParameterIn = \"cookie\" | \"header\" | \"path\" | \"query\";\n\nexport type ParameterItem = {\n  __typename?: \"ParameterItem\";\n  allowEmptyValue?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n  allowReserved?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n  deprecated?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  examples?: Maybe<Array<ExampleItem>>;\n  explode?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n  extensions?: Maybe<Scalars[\"JSONObject\"][\"output\"]>;\n  in: ParameterIn;\n  name: Scalars[\"String\"][\"output\"];\n  required?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n  schema?: Maybe<Scalars[\"JSONSchema\"][\"output\"]>;\n  style?: Maybe<Scalars[\"String\"][\"output\"]>;\n};\n\nexport type PathItem = {\n  __typename?: \"PathItem\";\n  methods: Array<Scalars[\"String\"][\"output\"]>;\n  path: Scalars[\"String\"][\"output\"];\n};\n\nexport type Query = {\n  __typename?: \"Query\";\n  schema: Schema;\n};\n\nexport type QuerySchemaArgs = {\n  input: Scalars[\"JSON\"][\"input\"];\n  type: SchemaType;\n};\n\nexport type RequestBodyObject = {\n  __typename?: \"RequestBodyObject\";\n  content?: Maybe<Array<MediaTypeObject>>;\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  required?: Maybe<Scalars[\"Boolean\"][\"output\"]>;\n};\n\nexport type ResponseItem = {\n  __typename?: \"ResponseItem\";\n  content?: Maybe<Array<MediaTypeObject>>;\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  extensions?: Maybe<Scalars[\"JSONObject\"][\"output\"]>;\n  headers?: Maybe<Scalars[\"JSON\"][\"output\"]>;\n  links?: Maybe<Scalars[\"JSON\"][\"output\"]>;\n  statusCode: Scalars[\"String\"][\"output\"];\n};\n\nexport type Schema = {\n  __typename?: \"Schema\";\n  components?: Maybe<Components>;\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  extensions?: Maybe<Scalars[\"JSONObject\"][\"output\"]>;\n  openapi: Scalars[\"String\"][\"output\"];\n  operations: Array<OperationItem>;\n  paths: Array<PathItem>;\n  servers: Array<Server>;\n  summary?: Maybe<Scalars[\"String\"][\"output\"]>;\n  tag?: Maybe<SchemaTag>;\n  tags: Array<SchemaTag>;\n  title: Scalars[\"String\"][\"output\"];\n  url?: Maybe<Scalars[\"String\"][\"output\"]>;\n  version: Scalars[\"String\"][\"output\"];\n};\n\nexport type SchemaOperationsArgs = {\n  method?: InputMaybe<Scalars[\"String\"][\"input\"]>;\n  operationId?: InputMaybe<Scalars[\"String\"][\"input\"]>;\n  path?: InputMaybe<Scalars[\"String\"][\"input\"]>;\n  tag?: InputMaybe<Scalars[\"String\"][\"input\"]>;\n  untagged?: InputMaybe<Scalars[\"Boolean\"][\"input\"]>;\n};\n\nexport type SchemaTagArgs = {\n  name?: InputMaybe<Scalars[\"String\"][\"input\"]>;\n  slug?: InputMaybe<Scalars[\"String\"][\"input\"]>;\n  untagged?: InputMaybe<Scalars[\"Boolean\"][\"input\"]>;\n};\n\nexport type SchemaItem = {\n  __typename?: \"SchemaItem\";\n  extensions?: Maybe<Scalars[\"JSONObject\"][\"output\"]>;\n  name: Scalars[\"String\"][\"output\"];\n  schema: Scalars[\"JSONSchema\"][\"output\"];\n};\n\nexport type SchemaTag = {\n  __typename?: \"SchemaTag\";\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  extensions?: Maybe<Scalars[\"JSONObject\"][\"output\"]>;\n  isUntagged: Scalars[\"Boolean\"][\"output\"];\n  name?: Maybe<Scalars[\"String\"][\"output\"]>;\n  next?: Maybe<SchemaTag>;\n  operations: Array<OperationItem>;\n  prev?: Maybe<SchemaTag>;\n  slug?: Maybe<Scalars[\"String\"][\"output\"]>;\n};\n\nexport type SchemaType = \"file\" | \"raw\" | \"url\";\n\nexport type Server = {\n  __typename?: \"Server\";\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  url: Scalars[\"String\"][\"output\"];\n};\n\nexport type TagItem = {\n  __typename?: \"TagItem\";\n  description?: Maybe<Scalars[\"String\"][\"output\"]>;\n  extensions?: Maybe<Scalars[\"JSONObject\"][\"output\"]>;\n  name: Scalars[\"String\"][\"output\"];\n};\n\nexport type ServersQueryQueryVariables = Exact<{\n  input: Scalars[\"JSON\"][\"input\"];\n  type: SchemaType;\n}>;\n\nexport type ServersQueryQuery = {\n  __typename?: \"Query\";\n  schema: {\n    __typename?: \"Schema\";\n    url?: string | null;\n    servers: Array<{ __typename?: \"Server\"; url: string }>;\n  };\n};\n\nexport type OperationsFragmentFragment = {\n  __typename?: \"OperationItem\";\n  slug: string;\n  summary?: string | null;\n  method: string;\n  description?: string | null;\n  operationId?: string | null;\n  contentTypes: Array<string>;\n  path: string;\n  deprecated?: boolean | null;\n  extensions?: any | null;\n  parameters?: Array<{\n    __typename?: \"ParameterItem\";\n    name: string;\n    in: ParameterIn;\n    description?: string | null;\n    required?: boolean | null;\n    schema?: any | null;\n    style?: string | null;\n    explode?: boolean | null;\n    examples?: Array<{\n      __typename?: \"ExampleItem\";\n      name: string;\n      description?: string | null;\n      externalValue?: string | null;\n      value?: any | null;\n      summary?: string | null;\n    }> | null;\n  }> | null;\n  requestBody?: {\n    __typename?: \"RequestBodyObject\";\n    description?: string | null;\n    required?: boolean | null;\n    content?: Array<{\n      __typename?: \"MediaTypeObject\";\n      mediaType: string;\n      schema?: any | null;\n      encoding?: Array<{ __typename?: \"EncodingItem\"; name: string }> | null;\n      examples?: Array<{\n        __typename?: \"ExampleItem\";\n        name: string;\n        description?: string | null;\n        externalValue?: string | null;\n        value?: any | null;\n        summary?: string | null;\n      }> | null;\n    }> | null;\n  } | null;\n  responses: Array<{\n    __typename?: \"ResponseItem\";\n    statusCode: string;\n    links?: any | null;\n    description?: string | null;\n    content?: Array<{\n      __typename?: \"MediaTypeObject\";\n      mediaType: string;\n      schema?: any | null;\n      examples?: Array<{\n        __typename?: \"ExampleItem\";\n        name: string;\n        description?: string | null;\n        externalValue?: string | null;\n        value?: any | null;\n        summary?: string | null;\n      }> | null;\n      encoding?: Array<{ __typename?: \"EncodingItem\"; name: string }> | null;\n    }> | null;\n  }>;\n} & { \" $fragmentName\"?: \"OperationsFragmentFragment\" };\n\nexport type SchemaWarmupQueryVariables = Exact<{\n  input: Scalars[\"JSON\"][\"input\"];\n  type: SchemaType;\n}>;\n\nexport type SchemaWarmupQuery = {\n  __typename?: \"Query\";\n  schema: { __typename?: \"Schema\"; openapi: string };\n};\n\nexport type OperationsForTagQueryVariables = Exact<{\n  input: Scalars[\"JSON\"][\"input\"];\n  type: SchemaType;\n  tag?: InputMaybe<Scalars[\"String\"][\"input\"]>;\n  untagged?: InputMaybe<Scalars[\"Boolean\"][\"input\"]>;\n}>;\n\nexport type OperationsForTagQuery = {\n  __typename?: \"Query\";\n  schema: {\n    __typename?: \"Schema\";\n    description?: string | null;\n    summary?: string | null;\n    title: string;\n    url?: string | null;\n    version: string;\n    servers: Array<{ __typename?: \"Server\"; url: string }>;\n    tag?: {\n      __typename?: \"SchemaTag\";\n      name?: string | null;\n      description?: string | null;\n      operations: Array<\n        { __typename?: \"OperationItem\"; slug: string } & {\n          \" $fragmentRefs\"?: {\n            OperationsFragmentFragment: OperationsFragmentFragment;\n          };\n        }\n      >;\n      next?: {\n        __typename?: \"SchemaTag\";\n        name?: string | null;\n        slug?: string | null;\n      } | null;\n      prev?: {\n        __typename?: \"SchemaTag\";\n        name?: string | null;\n        slug?: string | null;\n      } | null;\n    } | null;\n  };\n};\n\nexport type GetSchemasQueryVariables = Exact<{\n  input: Scalars[\"JSON\"][\"input\"];\n  type: SchemaType;\n}>;\n\nexport type GetSchemasQuery = {\n  __typename?: \"Query\";\n  schema: {\n    __typename?: \"Schema\";\n    title: string;\n    description?: string | null;\n    summary?: string | null;\n    components?: {\n      __typename?: \"Components\";\n      schemas?: Array<{\n        __typename?: \"SchemaItem\";\n        name: string;\n        schema: any;\n        extensions?: any | null;\n      }> | null;\n    } | null;\n  };\n};\n\nexport type GetServerQueryQueryVariables = Exact<{\n  input: Scalars[\"JSON\"][\"input\"];\n  type: SchemaType;\n}>;\n\nexport type GetServerQueryQuery = {\n  __typename?: \"Query\";\n  schema: {\n    __typename?: \"Schema\";\n    url?: string | null;\n    servers: Array<{ __typename?: \"Server\"; url: string }>;\n  };\n};\n\nexport type GetSidebarOperationsQueryVariables = Exact<{\n  input: Scalars[\"JSON\"][\"input\"];\n  type: SchemaType;\n}>;\n\nexport type GetSidebarOperationsQuery = {\n  __typename?: \"Query\";\n  schema: {\n    __typename?: \"Schema\";\n    tags: Array<{\n      __typename?: \"SchemaTag\";\n      slug?: string | null;\n      name?: string | null;\n      extensions?: any | null;\n      operations: Array<{\n        __typename?: \"OperationItem\";\n        summary?: string | null;\n        slug: string;\n        method: string;\n        operationId?: string | null;\n        path: string;\n      }>;\n    }>;\n    components?: {\n      __typename?: \"Components\";\n      schemas?: Array<{ __typename: \"SchemaItem\" }> | null;\n    } | null;\n  };\n};\n\nexport class TypedDocumentString<TResult, TVariables>\n  extends String\n  implements DocumentTypeDecoration<TResult, TVariables>\n{\n  __apiType?: DocumentTypeDecoration<TResult, TVariables>[\"__apiType\"];\n  private value: string;\n  public __meta__?: Record<string, any> | undefined;\n\n  constructor(value: string, __meta__?: Record<string, any> | undefined) {\n    super(value);\n    this.value = value;\n    this.__meta__ = __meta__;\n  }\n\n  toString(): string & DocumentTypeDecoration<TResult, TVariables> {\n    return this.value;\n  }\n}\nexport const OperationsFragmentFragmentDoc = new TypedDocumentString(\n  `\n    fragment OperationsFragment on OperationItem {\n  slug\n  summary\n  method\n  description\n  operationId\n  contentTypes\n  path\n  deprecated\n  extensions\n  parameters {\n    name\n    in\n    description\n    required\n    schema\n    style\n    explode\n    examples {\n      name\n      description\n      externalValue\n      value\n      summary\n    }\n  }\n  requestBody {\n    content {\n      mediaType\n      encoding {\n        name\n      }\n      examples {\n        name\n        description\n        externalValue\n        value\n        summary\n      }\n      schema\n    }\n    description\n    required\n  }\n  responses {\n    statusCode\n    links\n    description\n    content {\n      examples {\n        name\n        description\n        externalValue\n        value\n        summary\n      }\n      mediaType\n      encoding {\n        name\n      }\n      schema\n    }\n  }\n}\n    `,\n  { fragmentName: \"OperationsFragment\" },\n) as unknown as TypedDocumentString<OperationsFragmentFragment, unknown>;\nexport const ServersQueryDocument = new TypedDocumentString(`\n    query ServersQuery($input: JSON!, $type: SchemaType!) {\n  schema(input: $input, type: $type) {\n    url\n    servers {\n      url\n    }\n  }\n}\n    `) as unknown as TypedDocumentString<\n  ServersQueryQuery,\n  ServersQueryQueryVariables\n>;\nexport const SchemaWarmupDocument = new TypedDocumentString(`\n    query SchemaWarmup($input: JSON!, $type: SchemaType!) {\n  schema(input: $input, type: $type) {\n    openapi\n  }\n}\n    `) as unknown as TypedDocumentString<\n  SchemaWarmupQuery,\n  SchemaWarmupQueryVariables\n>;\nexport const OperationsForTagDocument = new TypedDocumentString(`\n    query OperationsForTag($input: JSON!, $type: SchemaType!, $tag: String, $untagged: Boolean) {\n  schema(input: $input, type: $type) {\n    servers {\n      url\n    }\n    description\n    summary\n    title\n    url\n    version\n    tag(slug: $tag, untagged: $untagged) {\n      name\n      description\n      operations {\n        slug\n        ...OperationsFragment\n      }\n      next {\n        name\n        slug\n      }\n      prev {\n        name\n        slug\n      }\n    }\n  }\n}\n    fragment OperationsFragment on OperationItem {\n  slug\n  summary\n  method\n  description\n  operationId\n  contentTypes\n  path\n  deprecated\n  extensions\n  parameters {\n    name\n    in\n    description\n    required\n    schema\n    style\n    explode\n    examples {\n      name\n      description\n      externalValue\n      value\n      summary\n    }\n  }\n  requestBody {\n    content {\n      mediaType\n      encoding {\n        name\n      }\n      examples {\n        name\n        description\n        externalValue\n        value\n        summary\n      }\n      schema\n    }\n    description\n    required\n  }\n  responses {\n    statusCode\n    links\n    description\n    content {\n      examples {\n        name\n        description\n        externalValue\n        value\n        summary\n      }\n      mediaType\n      encoding {\n        name\n      }\n      schema\n    }\n  }\n}`) as unknown as TypedDocumentString<\n  OperationsForTagQuery,\n  OperationsForTagQueryVariables\n>;\nexport const GetSchemasDocument = new TypedDocumentString(`\n    query GetSchemas($input: JSON!, $type: SchemaType!) {\n  schema(input: $input, type: $type) {\n    title\n    description\n    summary\n    components {\n      schemas {\n        name\n        schema\n        extensions\n      }\n    }\n  }\n}\n    `) as unknown as TypedDocumentString<\n  GetSchemasQuery,\n  GetSchemasQueryVariables\n>;\nexport const GetServerQueryDocument = new TypedDocumentString(`\n    query getServerQuery($input: JSON!, $type: SchemaType!) {\n  schema(input: $input, type: $type) {\n    url\n    servers {\n      url\n    }\n  }\n}\n    `) as unknown as TypedDocumentString<\n  GetServerQueryQuery,\n  GetServerQueryQueryVariables\n>;\nexport const GetSidebarOperationsDocument = new TypedDocumentString(`\n    query GetSidebarOperations($input: JSON!, $type: SchemaType!) {\n  schema(input: $input, type: $type) {\n    tags {\n      slug\n      name\n      extensions\n      operations {\n        summary\n        slug\n        method\n        operationId\n        path\n      }\n    }\n    components {\n      schemas {\n        __typename\n      }\n    }\n  }\n}\n    `) as unknown as TypedDocumentString<\n  GetSidebarOperationsQuery,\n  GetSidebarOperationsQueryVariables\n>;\n", "/* eslint-disable */\nimport * as types from \"./graphql.js\";\n\n/**\n * Map of all GraphQL operations in the project.\n *\n * This map has several performance disadvantages:\n * 1. It is not tree-shakeable, so it will include all operations in the project.\n * 2. It is not minifiable, so the string of a GraphQL query will be multiple times inside the bundle.\n * 3. It does not support dead code elimination, so it will add unused operations.\n *\n * Therefore it is highly recommended to use the babel or swc plugin for production.\n * Learn more about it here: https://the-guild.dev/graphql/codegen/plugins/presets/preset-client#reducing-bundle-size\n */\ntype Documents = {\n  \"\\n  query ServersQuery($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      url\\n      servers {\\n        url\\n      }\\n    }\\n  }\\n\": typeof types.ServersQueryDocument;\n  \"\\n  fragment OperationsFragment on OperationItem {\\n    slug\\n    summary\\n    method\\n    description\\n    operationId\\n    contentTypes\\n    path\\n    deprecated\\n    extensions\\n    parameters {\\n      name\\n      in\\n      description\\n      required\\n      schema\\n      style\\n      explode\\n      examples {\\n        name\\n        description\\n        externalValue\\n        value\\n        summary\\n      }\\n    }\\n    requestBody {\\n      content {\\n        mediaType\\n        encoding {\\n          name\\n        }\\n        examples {\\n          name\\n          description\\n          externalValue\\n          value\\n          summary\\n        }\\n        schema\\n      }\\n      description\\n      required\\n    }\\n    responses {\\n      statusCode\\n      links\\n      description\\n      content {\\n        examples {\\n          name\\n          description\\n          externalValue\\n          value\\n          summary\\n        }\\n        mediaType\\n        encoding {\\n          name\\n        }\\n        schema\\n      }\\n    }\\n  }\\n\": typeof types.OperationsFragmentFragmentDoc;\n  \"\\n  query SchemaWarmup($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      openapi\\n    }\\n  }\\n\": typeof types.SchemaWarmupDocument;\n  \"\\n  query OperationsForTag(\\n    $input: JSON!\\n    $type: SchemaType!\\n    $tag: String\\n    $untagged: Boolean\\n  ) {\\n    schema(input: $input, type: $type) {\\n      servers {\\n        url\\n      }\\n      description\\n      summary\\n      title\\n      url\\n      version\\n      tag(slug: $tag, untagged: $untagged) {\\n        name\\n        description\\n        operations {\\n          slug\\n          ...OperationsFragment\\n        }\\n        next {\\n          name\\n          slug\\n        }\\n        prev {\\n          name\\n          slug\\n        }\\n      }\\n    }\\n  }\\n\": typeof types.OperationsForTagDocument;\n  \"\\n  query GetSchemas($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      title\\n      description\\n      summary\\n      components {\\n        schemas {\\n          name\\n          schema\\n          extensions\\n        }\\n      }\\n    }\\n  }\\n\": typeof types.GetSchemasDocument;\n  \"\\n  query getServerQuery($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      url\\n      servers {\\n        url\\n      }\\n    }\\n  }\\n\": typeof types.GetServerQueryDocument;\n  \"\\n  query GetSidebarOperations($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      tags {\\n        slug\\n        name\\n        extensions\\n        operations {\\n          summary\\n          slug\\n          method\\n          operationId\\n          path\\n        }\\n      }\\n      components {\\n        schemas {\\n          __typename\\n        }\\n      }\\n    }\\n  }\\n\": typeof types.GetSidebarOperationsDocument;\n};\nconst documents: Documents = {\n  \"\\n  query ServersQuery($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      url\\n      servers {\\n        url\\n      }\\n    }\\n  }\\n\":\n    types.ServersQueryDocument,\n  \"\\n  fragment OperationsFragment on OperationItem {\\n    slug\\n    summary\\n    method\\n    description\\n    operationId\\n    contentTypes\\n    path\\n    deprecated\\n    extensions\\n    parameters {\\n      name\\n      in\\n      description\\n      required\\n      schema\\n      style\\n      explode\\n      examples {\\n        name\\n        description\\n        externalValue\\n        value\\n        summary\\n      }\\n    }\\n    requestBody {\\n      content {\\n        mediaType\\n        encoding {\\n          name\\n        }\\n        examples {\\n          name\\n          description\\n          externalValue\\n          value\\n          summary\\n        }\\n        schema\\n      }\\n      description\\n      required\\n    }\\n    responses {\\n      statusCode\\n      links\\n      description\\n      content {\\n        examples {\\n          name\\n          description\\n          externalValue\\n          value\\n          summary\\n        }\\n        mediaType\\n        encoding {\\n          name\\n        }\\n        schema\\n      }\\n    }\\n  }\\n\":\n    types.OperationsFragmentFragmentDoc,\n  \"\\n  query SchemaWarmup($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      openapi\\n    }\\n  }\\n\":\n    types.SchemaWarmupDocument,\n  \"\\n  query OperationsForTag(\\n    $input: JSON!\\n    $type: SchemaType!\\n    $tag: String\\n    $untagged: Boolean\\n  ) {\\n    schema(input: $input, type: $type) {\\n      servers {\\n        url\\n      }\\n      description\\n      summary\\n      title\\n      url\\n      version\\n      tag(slug: $tag, untagged: $untagged) {\\n        name\\n        description\\n        operations {\\n          slug\\n          ...OperationsFragment\\n        }\\n        next {\\n          name\\n          slug\\n        }\\n        prev {\\n          name\\n          slug\\n        }\\n      }\\n    }\\n  }\\n\":\n    types.OperationsForTagDocument,\n  \"\\n  query GetSchemas($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      title\\n      description\\n      summary\\n      components {\\n        schemas {\\n          name\\n          schema\\n          extensions\\n        }\\n      }\\n    }\\n  }\\n\":\n    types.GetSchemasDocument,\n  \"\\n  query getServerQuery($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      url\\n      servers {\\n        url\\n      }\\n    }\\n  }\\n\":\n    types.GetServerQueryDocument,\n  \"\\n  query GetSidebarOperations($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      tags {\\n        slug\\n        name\\n        extensions\\n        operations {\\n          summary\\n          slug\\n          method\\n          operationId\\n          path\\n        }\\n      }\\n      components {\\n        schemas {\\n          __typename\\n        }\\n      }\\n    }\\n  }\\n\":\n    types.GetSidebarOperationsDocument,\n};\n\n/**\n * The graphql function is used to parse GraphQL queries into a document that can be used by GraphQL clients.\n */\nexport function graphql(\n  source: \"\\n  query ServersQuery($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      url\\n      servers {\\n        url\\n      }\\n    }\\n  }\\n\",\n): typeof import(\"./graphql.js\").ServersQueryDocument;\n/**\n * The graphql function is used to parse GraphQL queries into a document that can be used by GraphQL clients.\n */\nexport function graphql(\n  source: \"\\n  fragment OperationsFragment on OperationItem {\\n    slug\\n    summary\\n    method\\n    description\\n    operationId\\n    contentTypes\\n    path\\n    deprecated\\n    extensions\\n    parameters {\\n      name\\n      in\\n      description\\n      required\\n      schema\\n      style\\n      explode\\n      examples {\\n        name\\n        description\\n        externalValue\\n        value\\n        summary\\n      }\\n    }\\n    requestBody {\\n      content {\\n        mediaType\\n        encoding {\\n          name\\n        }\\n        examples {\\n          name\\n          description\\n          externalValue\\n          value\\n          summary\\n        }\\n        schema\\n      }\\n      description\\n      required\\n    }\\n    responses {\\n      statusCode\\n      links\\n      description\\n      content {\\n        examples {\\n          name\\n          description\\n          externalValue\\n          value\\n          summary\\n        }\\n        mediaType\\n        encoding {\\n          name\\n        }\\n        schema\\n      }\\n    }\\n  }\\n\",\n): typeof import(\"./graphql.js\").OperationsFragmentFragmentDoc;\n/**\n * The graphql function is used to parse GraphQL queries into a document that can be used by GraphQL clients.\n */\nexport function graphql(\n  source: \"\\n  query SchemaWarmup($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      openapi\\n    }\\n  }\\n\",\n): typeof import(\"./graphql.js\").SchemaWarmupDocument;\n/**\n * The graphql function is used to parse GraphQL queries into a document that can be used by GraphQL clients.\n */\nexport function graphql(\n  source: \"\\n  query OperationsForTag(\\n    $input: JSON!\\n    $type: SchemaType!\\n    $tag: String\\n    $untagged: Boolean\\n  ) {\\n    schema(input: $input, type: $type) {\\n      servers {\\n        url\\n      }\\n      description\\n      summary\\n      title\\n      url\\n      version\\n      tag(slug: $tag, untagged: $untagged) {\\n        name\\n        description\\n        operations {\\n          slug\\n          ...OperationsFragment\\n        }\\n        next {\\n          name\\n          slug\\n        }\\n        prev {\\n          name\\n          slug\\n        }\\n      }\\n    }\\n  }\\n\",\n): typeof import(\"./graphql.js\").OperationsForTagDocument;\n/**\n * The graphql function is used to parse GraphQL queries into a document that can be used by GraphQL clients.\n */\nexport function graphql(\n  source: \"\\n  query GetSchemas($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      title\\n      description\\n      summary\\n      components {\\n        schemas {\\n          name\\n          schema\\n          extensions\\n        }\\n      }\\n    }\\n  }\\n\",\n): typeof import(\"./graphql.js\").GetSchemasDocument;\n/**\n * The graphql function is used to parse GraphQL queries into a document that can be used by GraphQL clients.\n */\nexport function graphql(\n  source: \"\\n  query getServerQuery($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      url\\n      servers {\\n        url\\n      }\\n    }\\n  }\\n\",\n): typeof import(\"./graphql.js\").GetServerQueryDocument;\n/**\n * The graphql function is used to parse GraphQL queries into a document that can be used by GraphQL clients.\n */\nexport function graphql(\n  source: \"\\n  query GetSidebarOperations($input: JSON!, $type: SchemaType!) {\\n    schema(input: $input, type: $type) {\\n      tags {\\n        slug\\n        name\\n        extensions\\n        operations {\\n          summary\\n          slug\\n          method\\n          operationId\\n          path\\n        }\\n      }\\n      components {\\n        schemas {\\n          __typename\\n        }\\n      }\\n    }\\n  }\\n\",\n): typeof import(\"./graphql.js\").GetSidebarOperationsDocument;\n\nexport function graphql(source: string) {\n  return (documents as any)[source] ?? {};\n}\n", "import { cva, type VariantProps } from \"class-variance-authority\";\nimport * as React from \"react\";\n\nimport { cn } from \"../util/cn.js\";\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n));\nAlert.displayName = \"Alert\";\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nAlertTitle.displayName = \"AlertTitle\";\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n));\nAlertDescription.displayName = \"AlertDescription\";\n\nexport { Alert, AlertDescription, AlertTitle };\n", "import { Fragment, type ReactNode } from \"react\";\n\ntype PathParamProps = {\n  name: string;\n  index: number;\n  originalValue?: string;\n};\n\nexport const PathRenderer = ({\n  path,\n  renderParam,\n}: {\n  path: string;\n  renderParam: (props: PathParamProps) => ReactNode;\n}) => {\n  let paramIndex = 0;\n  return path.split(\"/\").map((part, i, arr) => {\n    const matches = Array.from(part.matchAll(/{([^}]+)}/g));\n    const elements: ReactNode[] = [];\n    let lastIndex = 0;\n\n    matches.forEach((match) => {\n      const [originalValue, name] = match;\n      if (!name) return;\n      const startIndex = match.index!;\n\n      if (startIndex > lastIndex) {\n        elements.push(\n          <Fragment key={`text-${lastIndex}-${startIndex}`}>\n            {part.slice(lastIndex, startIndex)}\n          </Fragment>,\n        );\n      }\n\n      elements.push(\n        <Fragment key={`param-${name}`}>\n          {renderParam({ name, originalValue, index: paramIndex++ })}\n        </Fragment>,\n      );\n\n      lastIndex = startIndex + originalValue.length;\n    });\n\n    if (lastIndex < part.length) {\n      elements.push(\n        <Fragment key={`text-${lastIndex}-${part.length}`}>\n          {part.slice(lastIndex)}\n        </Fragment>,\n      );\n    }\n\n    return (\n      // eslint-disable-next-line react/no-array-index-key\n      <Fragment key={`${part}-${i}`}>\n        {elements}\n        {i < arr.length - 1 && \"/\"}\n        <wbr />\n      </Fragment>\n    );\n  });\n};\n", "import * as React from \"react\";\n\nimport { cn } from \"../util/cn.js\";\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>;\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n", "const c2n = (c: string) =>\n  Math.abs(\n    isNaN(parseInt(c))\n      ? c.toLowerCase().charCodeAt(0) - 96\n      : isNaN(parseInt(c))\n        ? 0\n        : parseInt(c),\n  );\nconst s2n = (s: string) =>\n  s.length > 1\n    ? parseInt(s.split(\"\").reduce((a, c) => `${c2n(a) + c2n(c)}`))\n    : c2n(s);\n\nexport const pastellize = (\n  s: string,\n  options: {\n    saturation?: number;\n    lightness?: number;\n  } = {},\n) => {\n  const hue = (3 * s2n(s) + 2 * s2n(s) + s2n(s)) % 360;\n  const { saturation = 75, lightness = 60 } = options;\n\n  return `${hue}deg ${saturation}% ${lightness}%`;\n};\n", "import { useTheme } from \"next-themes\";\nimport { useEffect, useRef, type CSSProperties, type ReactNode } from \"react\";\nimport { cn } from \"../../util/cn.js\";\nimport { pastellize } from \"../../util/pastellize.js\";\n\nexport const DATA_ATTR = \"data-linked-param\";\n\nexport const usePastellizedColor = (name: string) => {\n  const { resolvedTheme } = useTheme();\n\n  return {\n    text: pastellize(\n      name,\n      resolvedTheme === \"light\" ? { saturation: 95, lightness: 38 } : {},\n    ),\n    background: pastellize(\n      name,\n      resolvedTheme === \"light\" ? { saturation: 85, lightness: 40 } : {},\n    ),\n  };\n};\n\nexport const useParamColor = (name: string) => {\n  const normalized = name.replace(/[{}]/g, \"\");\n  return usePastellizedColor(normalized);\n};\n\nexport const ColorizedParam = ({\n  name,\n  className,\n  slug,\n  title,\n  children,\n  onClick,\n}: {\n  name: string;\n  className?: string;\n  backgroundOpacity?: string;\n  borderOpacity?: string;\n  slug?: string;\n  children?: ReactNode;\n  title?: string;\n  onClick?: () => void;\n}) => {\n  const ref = useRef<HTMLSpanElement>(null);\n  const normalizedSlug = slug?.replace(/[{}]/g, \"\");\n  const normalized = name.replace(/[{}]/g, \"\");\n  const { text, background } = usePastellizedColor(normalized);\n\n  const textColor = `hsl(${text} / 100%)`;\n  const backgroundColor = `hsl(${background} / 10%)`;\n  const borderColor = `hsl(${background} / 50%)`;\n\n  useEffect(() => {\n    if (!normalizedSlug) return;\n    if (!ref.current) return;\n\n    const onMouseEnter = () => {\n      document\n        .querySelectorAll(`[${DATA_ATTR}=\"${normalizedSlug}\"]`)\n        .forEach((el) => {\n          if (el instanceof HTMLElement) {\n            el.dataset.active = \"true\";\n          }\n        });\n    };\n    const onMouseLeave = () => {\n      document\n        .querySelectorAll(`[${DATA_ATTR}=\"${normalizedSlug}\"]`)\n        .forEach((el) => {\n          if (el instanceof HTMLElement) {\n            el.dataset.active = \"false\";\n          }\n        });\n    };\n\n    const el = ref.current;\n\n    el.addEventListener(\"mouseenter\", onMouseEnter);\n    el.addEventListener(\"mouseleave\", onMouseLeave);\n\n    return () => {\n      el.removeEventListener(\"mouseenter\", onMouseEnter);\n      el.removeEventListener(\"mouseleave\", onMouseLeave);\n    };\n  }, [normalizedSlug]);\n\n  return (\n    <span\n      {...{ [DATA_ATTR]: normalizedSlug }}\n      className={cn(\n        // This may not contain (inline-)flex or (inline-)block otherwise it breaks the browser's full text search\n        \"relative transition-all duration-100 rounded-lg\",\n        \"border border-[--border-color] p-0.5 text-[--param-color] bg-[--background-color]\",\n        \"data-[active=true]:border-[--param-color] data-[active=true]:shadow data-[active=true]:bottom-px\",\n        className,\n      )}\n      title={title}\n      suppressHydrationWarning\n      ref={ref}\n      onClick={onClick}\n      style={\n        {\n          \"--param-color\": textColor,\n          \"--border-color\": borderColor,\n          \"--background-color\": backgroundColor,\n        } as CSSProperties\n      }\n    >\n      {children ?? name}\n    </span>\n  );\n};\n", "import { useMemo } from \"react\";\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\ninterface SelectedServerState {\n  selectedServer?: string;\n  setSelectedServer: (newServer: string) => void;\n}\n\nexport const useSelectedServerStore = create<SelectedServerState>()(\n  persist(\n    (set) => ({\n      selectedServer: undefined,\n      setSelectedServer: (newServer: string) =>\n        set({ selectedServer: newServer }),\n    }),\n    { name: \"zudoku-selected-server\" },\n  ),\n);\n\n/**\n * Simple wrapper for `useSelectedServerStore` to fall back to first of the provided servers\n */\nexport const useSelectedServer = (servers: Array<{ url: string }>) => {\n  const { selectedServer, setSelectedServer } = useSelectedServerStore();\n\n  const finalSelectedServer = useMemo(\n    () =>\n      selectedServer && servers.some((s) => s.url === selectedServer)\n        ? selectedServer\n        : (servers.at(0)?.url ?? \"\"),\n    [selectedServer, servers],\n  );\n\n  return { selectedServer: finalSelectedServer, setSelectedServer };\n};\n", "import type { PlaygroundForm } from \"./Playground.js\";\n\nexport const createUrl = (host: string, path: string, data: PlaygroundForm) => {\n  const filledPath = path.replace(/(:\\w+|\\{\\w+})/g, (match) => {\n    const key = match.replace(/[:{}]/g, \"\");\n    const value = data.pathParams.find((part) => part.name === key)?.value;\n\n    return value ?? match;\n  });\n\n  // Ensure host ends with a slash and path doesn't start with one,\n  // so they form a correct URL, without overriding the host's path.\n  const url = new URL(\n    filledPath.replace(/^\\//, \"\"),\n    host.endsWith(\"/\") ? host : `${host}/`,\n  );\n\n  data.queryParams\n    .filter((param) => param.active)\n    .forEach((param) => {\n      url.searchParams.set(param.name, param.value);\n    });\n\n  return url;\n};\n", "import * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\n\nimport { CheckIcon, ChevronRightIcon, DotIcon } from \"lucide-react\";\nimport * as React from \"react\";\nimport { cn } from \"../util/cn.js\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <DotIcon className=\"h-4 w-4 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  );\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n};\n", "import { Button } from \"zudoku/ui/Button.js\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"zudoku/ui/DropdownMenu.js\";\nimport type { Content, Example } from \"../SidecarExamples.js\";\n\nconst ExamplesDropdown = ({\n  examples,\n  onSelect,\n}: {\n  examples: Content;\n  onSelect: (example: Example, mediaType: string) => void;\n}) => {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\">Use Example</Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent className=\"max-w-72\">\n        {examples.map((mediaTypeObject) => (\n          <div key={mediaTypeObject.mediaType}>\n            <DropdownMenuLabel>{mediaTypeObject.mediaType}</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <DropdownMenuGroup>\n              {mediaTypeObject.examples?.map((example) => (\n                <DropdownMenuItem\n                  key={example.name}\n                  onSelect={() => onSelect(example, mediaTypeObject.mediaType)}\n                >\n                  <span\n                    className=\"line-clamp-1\"\n                    title={example.summary ?? example.name}\n                  >\n                    {example.summary ?? example.name}\n                  </span>\n                </DropdownMenuItem>\n              ))}\n            </DropdownMenuGroup>\n          </div>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n\nexport default ExamplesDropdown;\n", "import * as React from \"react\";\nimport { cn } from \"../util/cn.js\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow-sm\",\n      className,\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n};\n", "import * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"../util/cn.js\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-[min(6px,var(--radius)-4px)] ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:text-primary\",\n      \"border border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n", "import * as PopoverPrimitive from \"@radix-ui/react-popover\";\nimport * as React from \"react\";\n\nimport { cn } from \"../util/cn.js\";\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n));\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverContent, PopoverTrigger };\n", "import { PopoverAnchor } from \"@radix-ui/react-popover\";\nimport { useCommandState } from \"cmdk\";\nimport { useRef, useState, type KeyboardEvent, type Ref } from \"react\";\nimport {\n  Command,\n  CommandInlineInput,\n  CommandItem,\n  CommandList,\n} from \"zudoku/ui/Command.js\";\nimport { Popover, PopoverContent } from \"zudoku/ui/Popover.js\";\nimport { cn } from \"../util/cn.js\";\n\ntype AutocompleteProps = {\n  value: string;\n  options: readonly string[];\n  onChange: (e: string) => void;\n  className?: string;\n  placeholder?: string;\n  onEnterPress?: (e: KeyboardEvent<HTMLInputElement>) => void;\n  ref?: Ref<HTMLInputElement>;\n  shouldFilter?: boolean;\n};\n\nconst AutocompletePopover = ({\n  value,\n  options,\n  onChange,\n  className,\n  placeholder = \"Enter value\",\n  onEnterPress,\n  ref,\n}: AutocompleteProps) => {\n  const [open, setOpen] = useState(false);\n  const [dontClose, setDontClose] = useState(false);\n  const count = useCommandState((state) => state.filtered.count);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  return (\n    <Popover open={open}>\n      <PopoverAnchor>\n        <CommandInlineInput\n          ref={(el) => {\n            inputRef.current = el;\n            if (typeof ref === \"function\") {\n              ref(el);\n            } else if (ref) {\n              ref.current = el;\n            }\n          }}\n          value={value}\n          placeholder={placeholder}\n          className={cn(\"h-9 bg-transparent\", className)}\n          onFocus={() => setOpen(true)}\n          onBlur={() => {\n            if (dontClose) {\n              return;\n            }\n            setOpen(false);\n          }}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              setOpen(false);\n              inputRef.current?.blur();\n              onEnterPress?.(e);\n            }\n          }}\n          onValueChange={(e) => onChange(e)}\n        />\n      </PopoverAnchor>\n      <PopoverContent\n        onMouseEnter={() => setDontClose(true)}\n        onMouseLeave={() => setDontClose(false)}\n        onOpenAutoFocus={(e) => e.preventDefault()}\n        className={cn(\"p-0 w-[--radix-popover-trigger-width]\", {\n          \"border-0\": count === 0,\n        })}\n        align=\"start\"\n        side=\"bottom\"\n        onWheel={(e) => {\n          // See: https://github.com/radix-ui/primitives/issues/1159\n          e.stopPropagation();\n        }}\n        onTouchMove={(e) => {\n          e.stopPropagation();\n        }}\n      >\n        <CommandList className=\"max-h-[140px]\">\n          {options.map((enumValue) => (\n            <CommandItem\n              key={enumValue}\n              value={enumValue}\n              onSelect={(selected) => {\n                onChange(selected);\n                setOpen(false);\n              }}\n              className=\"cursor-pointer\"\n            >\n              {enumValue}\n            </CommandItem>\n          ))}\n        </CommandList>\n      </PopoverContent>\n    </Popover>\n  );\n};\n\nexport const Autocomplete = ({ shouldFilter, ...props }: AutocompleteProps) => {\n  return (\n    <Command className=\"bg-transparent\" shouldFilter={shouldFilter}>\n      <AutocompletePopover {...props} />\n    </Command>\n  );\n};\n", "import { Slot } from \"@radix-ui/react-slot\";\nimport { cva } from \"class-variance-authority\";\nimport type { ClassValue } from \"clsx\";\nimport * as React from \"react\";\nimport { type HTMLElementType, type JSX } from \"react\";\nimport { cn } from \"./cn.js\";\n\nconst createVariantComponent = <\n  E extends HTMLElementType,\n  C extends ReturnType<typeof cva>,\n>(\n  tag: E,\n  cvx: ClassValue | C,\n  // variantProps: Array<keyof VariantProps<C>> = [],\n) => {\n  const MyVariant = React.forwardRef<\n    HTMLElement,\n    JSX.IntrinsicElements[E] & { className?: ClassValue; asChild?: boolean }\n  >(({ className, asChild, ...props }, ref) => {\n    const Comp = asChild ? Slot : tag;\n\n    return React.createElement(Comp, {\n      ...props,\n      ref,\n      className:\n        typeof cvx === \"function\" ? cvx({ className }) : cn(cvx, className),\n    });\n  });\n\n  MyVariant.displayName = `VariantComponent(${tag})`;\n\n  return MyVariant;\n};\n\nexport default createVariantComponent;\n", "import createVariantComponent from \"../../../util/createVariantComponent.js\";\n\nconst ParamsGrid = createVariantComponent(\n  \"div\",\n  \"grid grid-cols-[2fr_3fr] gap-2 items-center\",\n);\n\nexport const ParamsGridItem = createVariantComponent(\n  \"div\",\n  \"group hover:bg-accent px-3 grid col-span-full grid-cols-subgrid\",\n);\n\nexport default ParamsGrid;\n", "import { XIcon } from \"lucide-react\";\nimport { useCallback, useEffect, useRef } from \"react\";\nimport {\n  Control,\n  Controller,\n  useFieldArray,\n  useFormContext,\n} from \"react-hook-form\";\nimport { Card } from \"zudoku/ui/Card.js\";\nimport { Checkbox } from \"zudoku/ui/Checkbox.js\";\nimport { Autocomplete } from \"../../../components/Autocomplete.js\";\nimport { Button } from \"../../../ui/Button.js\";\nimport { Input } from \"../../../ui/Input.js\";\nimport ParamsGrid, { ParamsGridItem } from \"./ParamsGrid.js\";\nimport { Header, type PlaygroundForm } from \"./Playground.js\";\n\nconst headerOptions = Object.freeze([\n  \"Accept\",\n  \"Accept-Encoding\",\n  \"Accept-Language\",\n  \"Authorization\",\n  \"Cache-Control\",\n  \"Connection\",\n  \"Content-Disposition\",\n  \"Content-Encoding\",\n  \"Content-Language\",\n  \"Content-Length\",\n  \"Content-Range\",\n  \"Content-Security-Policy\",\n  \"Content-Type\",\n  \"Cookie\",\n  \"Date\",\n  \"ETag\",\n  \"Expires\",\n  \"Host\",\n  \"If-Modified-Since\",\n  \"Location\",\n  \"Origin\",\n  \"Pragma\",\n  \"Referer\",\n  \"Set-Cookie\",\n  \"User-Agent\",\n  \"X-Requested-With\",\n]);\n\nexport const Headers = ({\n  control,\n  headers: schemaHeaders,\n}: {\n  control: Control<PlaygroundForm>;\n  headers: Header[];\n}) => {\n  const { fields, append, remove } = useFieldArray<PlaygroundForm, \"headers\">({\n    control,\n    name: \"headers\",\n  });\n  const { setValue, watch } = useFormContext<PlaygroundForm>();\n  const valueRefs = useRef<Array<HTMLInputElement | null>>([]);\n  const nameRefs = useRef<Array<HTMLInputElement | null>>([]);\n  const watchedHeaders = watch(\"headers\");\n\n  const addNewHeader = useCallback(() => {\n    append({ name: \"\", value: \"\", active: false });\n  }, [append]);\n\n  useEffect(() => {\n    if (watchedHeaders.length === 0) {\n      addNewHeader();\n    }\n  }, [watchedHeaders, addNewHeader]);\n\n  const handleHeaderEnter = (index: number) => {\n    valueRefs.current[index]?.focus();\n  };\n\n  const handleValueEnter = (index: number) => {\n    addNewHeader();\n    requestAnimationFrame(() => nameRefs.current[index + 1]?.focus());\n  };\n\n  const missingHeaders = schemaHeaders\n    .filter((h) => !watchedHeaders.some((f) => f.name === h.name))\n    .map(({ name }) => name);\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <Card className=\"overflow-hidden\">\n        <ParamsGrid>\n          {fields.map((field, i) => {\n            const currentHeader = schemaHeaders.find(\n              (h) => h.name === watch(`headers.${i}.name`),\n            );\n            return (\n              <ParamsGridItem key={field.id}>\n                <div className=\"flex items-center gap-2 \">\n                  <Controller\n                    control={control}\n                    name={`headers.${i}.active`}\n                    render={({ field }) => (\n                      <Checkbox\n                        id={`headers.${i}.active`}\n                        checked={field.value}\n                        onCheckedChange={(checked) => {\n                          field.onChange(checked);\n                        }}\n                      />\n                    )}\n                  />\n                  <Controller\n                    control={control}\n                    name={`headers.${i}.name`}\n                    render={({ field }) => (\n                      <Autocomplete\n                        {...field}\n                        placeholder=\"Name\"\n                        className=\"border-0 shadow-none bg-transparent text-xs font-mono\"\n                        options={[...missingHeaders, ...headerOptions]}\n                        onEnterPress={() => handleHeaderEnter(i)}\n                        onChange={(e) => {\n                          field.onChange(e);\n                          setValue(`headers.${i}.active`, true);\n                        }}\n                        ref={(el) => {\n                          nameRefs.current[i] = el;\n                        }}\n                      />\n                    )}\n                  />\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Controller\n                    control={control}\n                    name={`headers.${i}.value`}\n                    render={({ field }) => {\n                      const hasEnum =\n                        currentHeader?.enum && currentHeader.enum.length > 0;\n\n                      if (!hasEnum) {\n                        return (\n                          <Input\n                            placeholder=\"Value\"\n                            className=\"w-full border-0 shadow-none text-xs font-mono focus-visible:ring-0\"\n                            {...field}\n                            ref={(el) => {\n                              valueRefs.current[i] = el;\n                            }}\n                            onKeyDown={(e) => {\n                              if (\n                                e.key === \"Enter\" &&\n                                e.currentTarget.value.trim()\n                              ) {\n                                handleValueEnter(i);\n                              }\n                            }}\n                            autoComplete=\"off\"\n                          />\n                        );\n                      }\n\n                      return (\n                        <Autocomplete\n                          shouldFilter={false}\n                          value={field.value}\n                          options={currentHeader.enum ?? []}\n                          onChange={(e) => {\n                            field.onChange(e);\n                            setValue(`headers.${i}.active`, true);\n                          }}\n                          className=\"font-mono text-xs border-0\"\n                        />\n                      );\n                    }}\n                  />\n                  <Button\n                    size=\"icon\"\n                    variant=\"ghost\"\n                    className=\"text-muted-foreground opacity-0 group-hover:opacity-100 rounded-full w-8 h-7\"\n                    onClick={() => remove(i)}\n                    type=\"button\"\n                  >\n                    <XIcon size={16} />\n                  </Button>\n                </div>\n              </ParamsGridItem>\n            );\n          })}\n        </ParamsGrid>\n      </Card>\n      <div className=\"text-end\">\n        <Button\n          className=\"\"\n          onClick={addNewHeader}\n          type=\"button\"\n          variant=\"secondary\"\n        >\n          Add header\n        </Button>\n      </div>\n    </div>\n  );\n};\n", "import * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport * as React from \"react\";\n\nimport { cn } from \"../util/cn.js\";\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n);\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n", "import * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\nimport { Circle } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"../util/cn.js\";\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  );\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\n\nexport { RadioGroup, RadioGroupItem };\n", "import { Card } from \"zudoku/ui/Card.js\";\nimport { Label } from \"zudoku/ui/Label.js\";\nimport { RadioGroup, RadioGroupItem } from \"zudoku/ui/RadioGroup.js\";\nimport { type ApiIdentity } from \"../../../core/ZudokuContext.js\";\nimport { NO_IDENTITY } from \"./Playground.js\";\n\nconst IdentitySelector = ({\n  identities,\n  setValue,\n  value,\n}: {\n  identities?: ApiIdentity[];\n  setValue: (value: string) => void;\n  value?: string;\n}) => {\n  return (\n    <Card className=\"w-full overflow-hidden\">\n      <RadioGroup\n        onValueChange={(value) => setValue(value)}\n        value={value}\n        defaultValue={NO_IDENTITY}\n        className=\"gap-0\"\n        disabled={identities?.length === 0}\n      >\n        <Label\n          className=\"h-12 border-b items-center flex p-4 cursor-pointer hover:bg-accent\"\n          htmlFor=\"none\"\n        >\n          <RadioGroupItem value={NO_IDENTITY} id=\"none\">\n            None\n          </RadioGroupItem>\n          <Label htmlFor=\"none\" className=\"ml-2\">\n            None\n          </Label>\n        </Label>\n        {identities?.map((identity) => (\n          <Label\n            key={identity.id}\n            className=\"h-12 border-b items-center flex p-4 cursor-pointer hover:bg-accent\"\n          >\n            <RadioGroupItem value={identity.id} id={identity.id}>\n              {identity.label}\n            </RadioGroupItem>\n            <Label htmlFor={identity.id} className=\"ml-2\">\n              {identity.label}\n            </Label>\n          </Label>\n        ))}\n      </RadioGroup>\n    </Card>\n  );\n};\n\nexport default IdentitySelector;\n", "import { useState } from \"react\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport { Checkbox } from \"zudoku/ui/Checkbox.js\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogTitle,\n} from \"zudoku/ui/Dialog.js\";\nimport { Label } from \"zudoku/ui/Label.js\";\nimport { type ApiIdentity } from \"../../../core/ZudokuContext.js\";\nimport IdentitySelector from \"./IdentitySelector.js\";\n\nconst IdentityDialog = ({\n  onSubmit,\n  identities,\n  open,\n  onOpenChange,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSubmit: ({\n    rememberedIdentity,\n    identity,\n  }: {\n    rememberedIdentity: boolean;\n    identity?: string;\n  }) => void;\n  identities: ApiIdentity[];\n}) => {\n  const [identity, setIdentity] = useState<string | undefined>(undefined);\n  const [rememberedIdentity, setRememberedIdentity] = useState<boolean>(false);\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogTitle>Select an auth identity</DialogTitle>\n        <DialogDescription>\n          Please select an identity for this request.\n        </DialogDescription>\n        <div className=\"max-h-80 overflow-auto\">\n          <IdentitySelector\n            identities={identities}\n            setValue={setIdentity}\n            value={identity}\n          />\n        </div>\n        <DialogFooter className=\"flex flex-col gap-2\">\n          <div className=\"flex items-center gap-2\">\n            <Checkbox\n              id=\"remember\"\n              checked={rememberedIdentity}\n              onCheckedChange={(checked) =>\n                setRememberedIdentity(\n                  checked === \"indeterminate\" ? false : !!checked,\n                )\n              }\n            />\n            <Label htmlFor=\"remember\">Remember my choice</Label>\n          </div>\n\n          <Button\n            onClick={() => onSubmit({ identity: identity, rememberedIdentity })}\n          >\n            Send\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport { IdentityDialog };\n", "import { type Control, Controller, useFieldArray } from \"react-hook-form\";\nimport { Card } from \"zudoku/ui/Card.js\";\nimport { Input } from \"../../../ui/Input.js\";\nimport { ColorizedParam } from \"../ColorizedParam.js\";\nimport ParamsGrid, { ParamsGridItem } from \"./ParamsGrid.js\";\nimport type { PlaygroundForm } from \"./Playground.js\";\n\nexport const PathParams = ({\n  control,\n  url,\n}: {\n  control: Control<PlaygroundForm>;\n  url: string;\n}) => {\n  const { fields } = useFieldArray<PlaygroundForm, \"pathParams\">({\n    control,\n    name: \"pathParams\",\n  });\n\n  const sortedFields = [...fields].sort(\n    (a, b) => url.indexOf(`{${a.name}}`) - url.indexOf(`{${b.name}}`),\n  );\n\n  return (\n    <Card className=\"rounded-lg\">\n      <ParamsGrid>\n        {sortedFields.map((field, i) => (\n          <ParamsGridItem key={field.id}>\n            <Controller\n              control={control}\n              name={`pathParams.${i}.name`}\n              render={() => (\n                <div className=\"flex items-center\">\n                  <ColorizedParam\n                    slug={field.name}\n                    name={field.name}\n                    className=\"font-mono text-xs px-2\"\n                  />\n                </div>\n              )}\n            />\n\n            <div className=\"flex justify-between items-center\">\n              <Controller\n                control={control}\n                name={`pathParams.${i}.value`}\n                render={({ field }) => (\n                  <Input\n                    {...field}\n                    required\n                    placeholder=\"Enter value\"\n                    className=\"w-full border-0 shadow-none text-xs font-mono focus-visible:ring-0\"\n                  />\n                )}\n              />\n            </div>\n          </ParamsGridItem>\n        ))}\n      </ParamsGrid>\n    </Card>\n  );\n};\n", "import createVariantComponent from \"../../../util/createVariantComponent.js\";\n\nexport const InlineInput = createVariantComponent(\n  \"input\",\n  \"px-2 bg-transparent h-6 font-mono text-xs m-2\",\n);\n", "import {\n  Control,\n  Controller,\n  useFieldArray,\n  useFormContext,\n} from \"react-hook-form\";\nimport { Card } from \"zudoku/ui/Card.js\";\nimport { Checkbox } from \"zudoku/ui/Checkbox.js\";\nimport { Autocomplete } from \"../../../components/Autocomplete.js\";\nimport { Input } from \"../../../ui/Input.js\";\nimport { InlineInput } from \"./InlineInput.js\";\nimport ParamsGrid, { ParamsGridItem } from \"./ParamsGrid.js\";\nimport { type PlaygroundForm, type QueryParam } from \"./Playground.js\";\n\nexport const QueryParams = ({\n  control,\n  queryParams,\n}: {\n  control: Control<PlaygroundForm>;\n  queryParams: QueryParam[];\n}) => {\n  const { fields } = useFieldArray<PlaygroundForm, \"queryParams\">({\n    control,\n    name: \"queryParams\",\n  });\n  const form = useFormContext<PlaygroundForm>();\n\n  const requiredFields = queryParams.map((param) => Boolean(param.isRequired));\n\n  return (\n    <Card className=\"rounded-lg\">\n      <div className=\"w-full \">\n        <ParamsGrid>\n          {fields.map((field, i) => {\n            const currentParam = queryParams.find(\n              (param) => param.name === form.watch(`queryParams.${i}.name`),\n            );\n            return (\n              <ParamsGridItem key={field.id}>\n                <div key={field.id} className=\"flex items-center gap-2\">\n                  <Controller\n                    control={control}\n                    name={`queryParams.${i}.active`}\n                    render={({ field }) => (\n                      <Checkbox\n                        id={`queryParams.${i}.active`}\n                        className=\"mr-2\"\n                        checked={field.value}\n                        onCheckedChange={field.onChange}\n                      />\n                    )}\n                  />\n                  <Controller\n                    control={control}\n                    render={({ field }) =>\n                      !requiredFields[i] ? (\n                        <Autocomplete\n                          value={field.value}\n                          options={queryParams.map((param) => param.name)}\n                          onChange={(e) => {\n                            field.onChange(e);\n                          }}\n                          className=\"border-0 font-mono text-xs bg-transparent hover:bg-transparent\"\n                        />\n                      ) : (\n                        <InlineInput asChild>\n                          <label\n                            className=\"flex items-center cursor-pointer gap-1\"\n                            htmlFor={`queryParams.${i}.active`}\n                            title={\n                              requiredFields[i] ? \"Required field\" : undefined\n                            }\n                          >\n                            {field.value}\n                            {requiredFields[i] && <sup>&nbsp;*</sup>}\n                          </label>\n                        </InlineInput>\n                      )\n                    }\n                    name={`queryParams.${i}.name`}\n                  />\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <Controller\n                    control={control}\n                    render={({ field }) => {\n                      const hasEnum =\n                        currentParam?.enum && currentParam.enum.length > 0;\n\n                      if (!hasEnum) {\n                        return (\n                          <Input\n                            {...field}\n                            onChange={(e) => {\n                              field.onChange(e.target.value);\n                              if (e.target.value.length > 0) {\n                                form.setValue(`queryParams.${i}.active`, true);\n                              }\n                            }}\n                            placeholder=\"Enter value\"\n                            className=\"w-full border-0 shadow-none focus-visible:ring-0 text-xs font-mono\"\n                          />\n                        );\n                      }\n\n                      return (\n                        <Autocomplete\n                          value={field.value}\n                          options={currentParam.enum ?? []}\n                          onChange={(e) => {\n                            field.onChange(e);\n                            form.setValue(`queryParams.${i}.active`, true);\n                          }}\n                          className=\"font-mono text-xs border-0 ring-1 ring-ring\"\n                        />\n                      );\n                    }}\n                    name={`queryParams.${i}.value`}\n                  />\n                </div>\n              </ParamsGridItem>\n            );\n          })}\n        </ParamsGrid>\n      </div>\n    </Card>\n  );\n};\n", "import { create } from \"zustand\";\nimport { createJSONStorage, persist } from \"zustand/middleware\";\n\ninterface IdentityState {\n  rememberedIdentity: string | null;\n  setRememberedIdentity: (identity: string | null) => void;\n  getRememberedIdentity: (availableIdentities: string[]) => string | undefined;\n}\n\nexport const useIdentityStore = create<IdentityState>()(\n  persist(\n    (set, get) => ({\n      rememberedIdentity: null,\n      setRememberedIdentity: (identity: string | null) =>\n        set({ rememberedIdentity: identity }),\n      getRememberedIdentity: (availableIdentities: string[]) =>\n        availableIdentities.find(\n          (identity) => identity === get().rememberedIdentity,\n        ),\n    }),\n    {\n      name: \"identity-storage\",\n      storage: createJSONStorage(() => sessionStorage),\n    },\n  ),\n);\n", "import { Button } from \"zudoku/ui/Button.js\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogTitle,\n} from \"zudoku/ui/Dialog.js\";\n\nconst RequestLoginDialog = ({\n  open,\n  setOpen,\n  onSignUp,\n  onLogin,\n}: {\n  open: boolean;\n  onSignUp?: () => void;\n  onLogin?: () => void;\n  setOpen: (open: boolean) => void;\n}) => {\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogContent>\n        <DialogTitle>Welcome to the Playground!</DialogTitle>\n        <DialogDescription>\n          The Playground is a tool for developers to test and explore our APIs.\n          To use the Playground, you need to login.\n        </DialogDescription>\n        <DialogFooter className=\"flex gap-2 sm:justify-between\">\n          <Button type=\"button\" variant=\"ghost\" onClick={() => setOpen(false)}>\n            Skip\n          </Button>\n          <div className=\"flex gap-2\">\n            {onSignUp && (\n              <Button type=\"button\" variant=\"outline\" onClick={onSignUp}>\n                Sign Up\n              </Button>\n            )}\n            {onLogin && (\n              <Button type=\"button\" variant=\"default\" onClick={onLogin}>\n                Login\n              </Button>\n            )}\n          </div>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default RequestLoginDialog;\n", "export const TextColorMap = {\n  green: \"text-green-600\",\n  blue: \"text-sky-600\",\n  yellow: \"text-yellow-600\",\n  red: \"text-red-600\",\n  purple: \"text-purple-600\",\n  indigo: \"text-indigo-600\",\n  gray: \"text-gray-600\",\n};\n\nexport const methodToColor = {\n  get: TextColorMap.green,\n  post: TextColorMap.blue,\n  put: TextColorMap.yellow,\n  delete: TextColorMap.red,\n  patch: TextColorMap.purple,\n  options: TextColorMap.indigo,\n  head: TextColorMap.gray,\n  trace: TextColorMap.gray,\n};\n\nexport const methodForColor = (method: string) => {\n  return (\n    methodToColor[method.toLocaleLowerCase() as keyof typeof methodToColor] ??\n    TextColorMap.gray\n  );\n};\n", "import { ChevronRightIcon } from \"lucide-react\";\nimport { Fragment } from \"react\";\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"../../../../ui/Collapsible.js\";\nimport { cn } from \"../../../../util/cn.js\";\nimport { methodForColor } from \"../../util/methodToColor.js\";\n\nexport const RequestTab = ({\n  method,\n  url,\n  headers,\n  body,\n}: {\n  method: string;\n  url: string;\n  headers: Array<[string, string]>;\n  body?: string;\n}) => {\n  return (\n    <div className=\"flex flex-col gap-2 font-mono text-xs\">\n      <div className=\"gap-2 p-2 bg-muted rounded-md\">\n        <span className={cn(methodForColor(method), \"font-semibold\")}>\n          {method}\n        </span>\n        &nbsp;\n        <span className=\"break-all\">{url}</span>&nbsp;\n        <span className=\"text-muted-foreground\">HTTP/1.1</span>\n      </div>\n      <div className=\"mx-1.5 flex flex-col gap-3\">\n        <Collapsible defaultOpen>\n          <CollapsibleTrigger className=\"flex items-center gap-2 hover:text-primary group\">\n            <ChevronRightIcon className=\"h-4 w-4 transition-transform duration-200 group-data-[state=open]:rotate-[90deg]\" />\n            <span className=\"font-semibold\">Headers</span>\n          </CollapsibleTrigger>\n          <CollapsibleContent>\n            <div className=\"grid grid-cols-[auto,1fr] gap-x-8 gap-y-1 pl-1.5 pt-2\">\n              {headers.map(([key, value]) => (\n                <Fragment key={key}>\n                  <div className=\"text-primary\">{key}</div>\n                  <div className=\"break-all\">{value}</div>\n                </Fragment>\n              ))}\n            </div>\n          </CollapsibleContent>\n        </Collapsible>\n\n        <Collapsible defaultOpen>\n          <CollapsibleTrigger className=\"flex items-center gap-2 hover:text-primary group\">\n            <ChevronRightIcon className=\"h-4 w-4 transition-transform duration-200 group-data-[state=open]:rotate-[90deg]\" />\n            <span className=\"font-semibold\">Body</span>\n          </CollapsibleTrigger>\n          <CollapsibleContent>\n            <div className=\"pl-0 pt-2\">\n              <div\n                className={cn(\n                  \"whitespace-pre-wrap break-all bg-muted p-2 rounded-md\",\n                  !body && \"text-muted-foreground\",\n                )}\n              >\n                {body ?? \"Empty body\"}\n              </div>\n            </div>\n          </CollapsibleContent>\n        </Collapsible>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestTab;\n", "import * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\";\n\nconst Collapsible = CollapsiblePrimitive.Root;\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;\n\nexport { Collapsible, CollapsibleContent, CollapsibleTrigger };\n", "type JsonValue = string | number | boolean | null | JsonObject | JsonArray;\ntype JsonObject = { [key: string]: JsonValue };\ntype JsonArray = JsonValue[];\n\nfunction inferType(value: JsonValue): string {\n  if (value === null) return \"null\";\n  if (Array.isArray(value)) {\n    if (value.length === 0) return \"any[]\";\n    const firstValue = value[0];\n    if (firstValue === undefined) return \"any[]\";\n    const elementType = inferType(firstValue);\n    return `${elementType}[]`;\n  }\n  if (typeof value === \"object\") {\n    return generateInterface(value);\n  }\n  return typeof value;\n}\n\nexport function generateInterface(obj: JsonObject, indentation = \"\"): string {\n  const lines: string[] = [\"{\"];\n\n  for (const [key, value] of Object.entries(obj)) {\n    const propertyType = inferType(value);\n    lines.push(`  ${key}: ${propertyType};`);\n  }\n\n  lines.push(\"}\");\n  return lines.join(\"\\n\");\n}\n\nexport function convertToTypes(json: JsonValue): { lines: string[] } {\n  const typeDefinition = inferType(json);\n  const lines = [`type GeneratedType = ${typeDefinition};`];\n  return { lines };\n}\n", "import { useQuery } from \"@tanstack/react-query\";\nimport { ChevronRightIcon } from \"lucide-react\";\nimport { Fragment, useState } from \"react\";\nimport { Callout } from \"zudoku/ui/Callout.js\";\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"zudoku/ui/Collapsible.js\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"zudoku/ui/Select.js\";\nimport { Card } from \"../../../../ui/Card.js\";\nimport { SyntaxHighlight } from \"../../../../ui/SyntaxHighlight.js\";\nimport { convertToTypes } from \"./convertToTypes.js\";\n\nconst statusCodeMap: Record<number, string> = {\n  200: \"OK\",\n  201: \"Created\",\n  202: \"Accepted\",\n  204: \"No Content\",\n  400: \"Bad Request\",\n  401: \"Unauthorized\",\n  403: \"Forbidden\",\n  404: \"Not Found\",\n  405: \"Method Not Allowed\",\n  500: \"Internal Server Error\",\n};\n\nconst humanFileSize = (bytes: number) => {\n  const exponent = Math.floor(Math.log(bytes) / Math.log(1000.0));\n  const decimal = (bytes / Math.pow(1000.0, exponent)).toFixed(\n    exponent ? 2 : 0,\n  );\n  return `${decimal} ${exponent ? `${\"kMGTPEZY\"[exponent - 1]}B` : \"B\"}`;\n};\n\nconst mimeTypeToLanguage = (mimeType: string) => {\n  const mimeTypeMapping = {\n    \"application/json\": \"json\",\n    \"text/json\": \"json\",\n    \"text/html\": \"html\",\n    \"text/css\": \"css\",\n    \"text/javascript\": \"javascript\",\n    \"application/xml\": \"xml\",\n    \"application/xhtml+xml\": \"xhtml\",\n  };\n\n  return Object.entries(mimeTypeMapping).find(([mime]) =>\n    mimeType.includes(mime),\n  )?.[1];\n};\n\nconst detectLanguage = (headers: Array<[string, string]>) => {\n  const contentType =\n    headers.find(([key, value]) => key === \"Content-Type\")?.[1] || \"\";\n  return mimeTypeToLanguage(contentType);\n};\n\nconst tryParseJson = (body: string) => {\n  try {\n    return JSON.stringify(JSON.parse(body), null, 2);\n  } catch {\n    return null;\n  }\n};\n\nconst sortHeadersByRelevance = (\n  headers: Array<[string, string]>,\n): Array<[string, string]> => {\n  const priorityOrder = [\n    \"Content-Type\",\n    \"Content-Length\",\n    \"Authorization\",\n    \"X-RateLimit-Remaining\",\n    \"X-RateLimit-Limit\",\n    \"Cache-Control\",\n    \"ETag\",\n  ].map((key) => key.toLowerCase());\n\n  return [...headers].sort(([keyA], [keyB]) => {\n    const indexA = priorityOrder.indexOf(keyA.toLowerCase());\n    const indexB = priorityOrder.indexOf(keyB.toLowerCase());\n    if (indexA === indexB) return 0;\n    if (indexA === -1) return 1;\n    if (indexB === -1) return -1;\n    return indexA - indexB;\n  });\n};\n\nconst SYNTAX_HIGHLIGHT_MAX_SIZE_THRESHOLD = 64_000;\n\nexport const ResponseTab = ({\n  body = \"\",\n  headers,\n  status,\n  time,\n  size,\n  url,\n}: {\n  body?: string;\n  headers: Array<[string, string]>;\n  status: number;\n  time: number;\n  size: number;\n  url: string;\n}) => {\n  const detectedLanguage = detectLanguage(headers);\n  const jsonContent = tryParseJson(body);\n  const beautifiedBody = jsonContent || body;\n  const [view, setView] = useState<\"formatted\" | \"raw\" | \"types\">(\n    jsonContent ? \"formatted\" : \"raw\",\n  );\n\n  const types = useQuery({\n    queryKey: [\"types\", beautifiedBody],\n    queryFn: async () => {\n      return convertToTypes(JSON.parse(beautifiedBody));\n    },\n    enabled: view === \"types\",\n  });\n\n  const sortedHeaders = sortHeadersByRelevance([...headers]);\n  const shouldDisableHighlighting = size > SYNTAX_HIGHLIGHT_MAX_SIZE_THRESHOLD;\n\n  return (\n    <div className=\"flex flex-col gap-2 h-full overflow-auto max-h-[calc(100vh-220px)] \">\n      <Collapsible defaultOpen>\n        <CollapsibleTrigger className=\"flex items-center gap-2 hover:text-primary group\">\n          <ChevronRightIcon className=\"h-4 w-4 transition-transform duration-200 group-data-[state=open]:rotate-[90deg]\" />\n          <span className=\"font-semibold\">Headers</span>\n        </CollapsibleTrigger>\n        <CollapsibleContent>\n          <div className=\"grid grid-cols-[auto,1fr] gap-x-8 gap-y-1 pl-1.5 pt-2 font-mono text-xs\">\n            {sortedHeaders.slice(0, 5).map(([key, value]) => (\n              <Fragment key={key}>\n                <div className=\"text-primary whitespace-pre\">{key}</div>\n                <div className=\"break-all\">{value}</div>\n              </Fragment>\n            ))}\n            {sortedHeaders.length > 5 && (\n              <Collapsible className=\"col-span-full grid-cols-subgrid grid\">\n                <CollapsibleTrigger className=\"col-span-2 text-xs text-muted-foreground hover:text-primary flex items-center gap-1 py-1\">\n                  <ChevronRightIcon className=\"h-3 w-3 transition-transform duration-200 group-data-[state=open]:rotate-[90deg]\" />\n                  Show {sortedHeaders.length - 5} more headers\n                </CollapsibleTrigger>\n                <CollapsibleContent className=\"col-span-full grid grid-cols-subgrid gap-x-8 gap-y-1 \">\n                  {sortedHeaders.slice(5).map(([key, value]) => (\n                    <Fragment key={key}>\n                      <div className=\"text-primary whitespace-pre\">{key}</div>\n                      <div className=\"break-all\">{value}</div>\n                    </Fragment>\n                  ))}\n                </CollapsibleContent>\n              </Collapsible>\n            )}\n          </div>\n        </CollapsibleContent>\n      </Collapsible>\n\n      <Card className=\"shadow-none\">\n        {shouldDisableHighlighting && (\n          <Callout type=\"info\" className=\"my-0 p-2\">\n            Code highlight is disabled for responses larger than{\" \"}\n            {humanFileSize(SYNTAX_HIGHLIGHT_MAX_SIZE_THRESHOLD)}\n          </Callout>\n        )}\n        <SyntaxHighlight\n          language={\n            view === \"types\"\n              ? \"typescript\"\n              : view === \"raw\"\n                ? jsonContent\n                  ? \"plain\"\n                  : detectedLanguage\n                : \"json\"\n          }\n          showCopy=\"always\"\n          disabled={shouldDisableHighlighting}\n          noBackground\n          className=\"overflow-x-auto p-4 text-xs max-h-[calc(83.333vh-180px)]\"\n          code={\n            (view === \"raw\"\n              ? body\n              : view === \"types\"\n                ? types.data?.lines.join(\"\\n\")\n                : beautifiedBody) ?? \"\"\n          }\n        />\n      </Card>\n      <div className=\"flex gap-2 justify-between items-center\">\n        <div className=\"flex text-xs gap-2 border bg-muted rounded-md p-2 items-center h-8 font-mono divide-x\">\n          <div>\n            <span className=\"text-muted-foreground\">Status</span> {status}{\" \"}\n            {statusCodeMap[status] ?? \"\"}\n          </div>\n          <div>\n            <span className=\"text-muted-foreground\">Time</span>{\" \"}\n            {time.toFixed(0)}ms\n          </div>\n          <div>\n            <span className=\"text-muted-foreground\">Size</span>{\" \"}\n            {humanFileSize(size)}\n          </div>\n        </div>\n        {jsonContent && (\n          <div>\n            <Select\n              value={view}\n              onValueChange={(value) => setView(value as \"formatted\" | \"raw\")}\n            >\n              <SelectTrigger className=\"min-w-32\">\n                <SelectValue placeholder=\"View\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"formatted\">Formatted</SelectItem>\n                <SelectItem value=\"raw\">Raw</SelectItem>\n                <SelectItem value=\"types\">Types</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n", "import { type UseMutationResult } from \"@tanstack/react-query\";\nimport { Spinner } from \"../../../../components/Spinner.js\";\nimport { Button } from \"../../../../ui/Button.js\";\nimport { Callout } from \"../../../../ui/Callout.js\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n} from \"../../../../ui/Card.js\";\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from \"../../../../ui/Tabs.js\";\nimport { cn } from \"../../../../util/cn.js\";\nimport { type PlaygroundResult } from \"../Playground.js\";\nimport { RequestTab } from \"./RequestTab.js\";\nimport { ResponseTab } from \"./ResponseTab.js\";\n\nexport const ResultPanel = ({\n  queryMutation,\n  showPathParamsWarning,\n  showLongRunningWarning,\n  onCancel,\n}: {\n  queryMutation: UseMutationResult<PlaygroundResult, Error, any>;\n  showPathParamsWarning: boolean;\n  showLongRunningWarning?: boolean;\n  onCancel?: () => void;\n}) => {\n  const status = ((queryMutation.data?.status ?? 0) / 100).toFixed(0);\n  return (\n    <div className=\"min-w-0 p-4 py-8 bg-muted/50\">\n      {queryMutation.error ? (\n        <div className=\"flex flex-col gap-2\">\n          {showPathParamsWarning && (\n            <Callout type=\"caution\">\n              Some path parameters are missing values. Please fill them in to\n              ensure the request is sent correctly.\n            </Callout>\n          )}\n          <Card>\n            <CardHeader>\n              <CardTitle>Request failed</CardTitle>\n            </CardHeader>\n            <CardContent>\n              Error:{\" \"}\n              {queryMutation.error.message ||\n                String(queryMutation.error) ||\n                \"Unexpected error\"}\n            </CardContent>\n          </Card>\n        </div>\n      ) : queryMutation.data ? (\n        <Tabs defaultValue=\"response\">\n          <TabsList>\n            <TabsTrigger value=\"request\">Request</TabsTrigger>\n            <TabsTrigger value=\"response\">\n              Response\n              <span\n                className={cn(\n                  \"text-xs font-mono ml-1\",\n                  status === \"2\" && \"text-green-500\",\n                  status === \"3\" && \"text-blue-500\",\n                  status === \"4\" && \"text-yellow-500\",\n                  status === \"5\" && \"text-red-500\",\n                )}\n              >\n                ({queryMutation.data.status})\n              </span>\n            </TabsTrigger>\n          </TabsList>\n          <TabsContent value=\"request\">\n            <RequestTab {...queryMutation.data.request} />\n          </TabsContent>\n          <TabsContent value=\"response\">\n            <ResponseTab\n              status={queryMutation.data.status}\n              time={queryMutation.data.time}\n              size={queryMutation.data.size}\n              headers={queryMutation.data.headers}\n              body={queryMutation.data.body}\n              url={queryMutation.data.request.url}\n            />\n          </TabsContent>\n        </Tabs>\n      ) : (\n        <div className=\"grid place-items-center h-full\">\n          {queryMutation.isPending ? (\n            <div className=\"flex flex-col gap-2 items-center mt-20\">\n              <Spinner size={20} />\n              <div\n                className={cn(\n                  \"opacity-0 pointer-events-none transition-opacity h-20 text-sm text-muted-foreground duration-300 flex flex-col gap-2 items-center\",\n                  showLongRunningWarning && \"opacity-100 pointer-events-auto\",\n                )}\n              >\n                Looks like the request is taking longer than expected.\n                <Button\n                  type=\"button\"\n                  onClick={onCancel}\n                  size=\"sm\"\n                  className=\"w-fit\"\n                  variant=\"outline\"\n                >\n                  Cancel\n                </Button>\n              </div>\n            </div>\n          ) : (\n            <span className=\"text-[16px] font-semibold text-muted-foreground\">\n              Send a request first to see the response here\n            </span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ResultPanel;\n", "import { ChevronDownIcon } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"zudoku/ui/DropdownMenu.js\";\nimport { RadioGroup, RadioGroupItem } from \"zudoku/ui/RadioGroup.js\";\nimport { ApiIdentity } from \"../../../core/ZudokuContext.js\";\nimport { NO_IDENTITY } from \"./Playground.js\";\n\nconst SubmitButton = ({\n  identities,\n  formRef,\n  disabled,\n}: {\n  identities: ApiIdentity[];\n  formRef?: React.RefObject<HTMLFormElement | null>;\n  disabled?: boolean;\n}) => {\n  const { setValue } = useFormContext();\n  const [dropdownValue, setDropdownValue] = useState<string | undefined>();\n  if (identities.length === 0) {\n    return <Button disabled={disabled}>Send</Button>;\n  }\n  return (\n    <div className=\"flex\">\n      <Button\n        className=\"rounded-r-none inset-shadow-sm\"\n        disabled={disabled}\n        onClick={() => formRef?.current?.requestSubmit()}\n      >\n        Send\n      </Button>\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button\n            disabled={disabled}\n            className=\"rounded-l-none border-l border-border/40 inset-shadow-sm w-6\"\n            size=\"icon\"\n          >\n            <ChevronDownIcon className=\"w-4 h-4\" />\n          </Button>\n        </DropdownMenuTrigger>\n        <RadioGroup value={dropdownValue}>\n          <DropdownMenuContent className=\"w-56\" align=\"end\" alignOffset={-150}>\n            {[{ id: NO_IDENTITY, label: \"None\" }, ...identities].map(\n              (identity) => (\n                <DropdownMenuItem\n                  key={identity.id}\n                  onClick={() => {\n                    setDropdownValue(identity.id);\n                    setValue(\"identity\", identity.id);\n                    formRef?.current?.requestSubmit();\n                  }}\n                  onMouseEnter={() => setDropdownValue(identity.id)}\n                  onMouseLeave={() => setDropdownValue(undefined)}\n                >\n                  <RadioGroupItem value={identity.id} className=\"mr-2\" />\n\n                  {identity.label}\n                </DropdownMenuItem>\n              ),\n            )}\n          </DropdownMenuContent>\n        </RadioGroup>\n      </DropdownMenu>\n    </div>\n  );\n};\n\nexport default SubmitButton;\n", "import { useMutation } from \"@tanstack/react-query\";\nimport { InfoIcon } from \"lucide-react\";\nimport { Fragment, useEffect, useRef, useState, useTransition } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { Alert, AlertDescription, AlertTitle } from \"zudoku/ui/Alert.js\";\nimport { PathRenderer } from \"../../../components/PathRenderer.js\";\n\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"zudoku/ui/Select.js\";\nimport { Textarea } from \"zudoku/ui/Textarea.js\";\nimport { useApiIdentities } from \"../../../components/context/ZudokuContext.js\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../../../ui/Tabs.js\";\nimport { cn } from \"../../../util/cn.js\";\nimport { objectEntries } from \"../../../util/objectEntries.js\";\nimport { useLatest } from \"../../../util/useLatest.js\";\nimport { ColorizedParam } from \"../ColorizedParam.js\";\nimport { type Content } from \"../SidecarExamples.js\";\nimport { useSelectedServer } from \"../state.js\";\nimport { createUrl } from \"./createUrl.js\";\nimport ExamplesDropdown from \"./ExamplesDropdown.js\";\nimport { Headers } from \"./Headers.js\";\nimport { IdentityDialog } from \"./IdentityDialog.js\";\nimport IdentitySelector from \"./IdentitySelector.js\";\nimport { PathParams } from \"./PathParams.js\";\nimport { QueryParams } from \"./QueryParams.js\";\nimport { useIdentityStore } from \"./rememberedIdentity.js\";\nimport RequestLoginDialog from \"./RequestLoginDialog.js\";\nimport { ResultPanel } from \"./result-panel/ResultPanel.js\";\nimport SubmitButton from \"./SubmitButton.js\";\n\nexport const NO_IDENTITY = \"__none\";\n\nexport type Header = {\n  name: string;\n  defaultValue?: string;\n  defaultActive?: boolean;\n  isRequired?: boolean;\n  enum?: string[];\n  type?: string;\n};\n\nexport type QueryParam = {\n  name: string;\n  defaultValue?: string;\n  defaultActive?: boolean;\n  isRequired?: boolean;\n  enum?: string[];\n  type?: string;\n};\nexport type PathParam = {\n  name: string;\n  defaultValue?: string;\n  isRequired?: boolean;\n};\n\nconst bodyContentTypeMap = {\n  Plain: \"text/plain\",\n  JSON: \"application/json\",\n  XML: \"application/xml\",\n  YAML: \"application/yaml\",\n  CSV: \"text/csv\",\n} as const;\n\nexport type PlaygroundForm = {\n  body: string;\n  bodyContentType: keyof typeof bodyContentTypeMap;\n  queryParams: Array<{\n    name: string;\n    value: string;\n    active: boolean;\n    enum?: string[];\n  }>;\n  pathParams: Array<{ name: string; value: string }>;\n  headers: Array<{\n    name: string;\n    value: string;\n    active: boolean;\n    enum?: string[];\n  }>;\n  identity?: string;\n};\n\nexport type PlaygroundResult = {\n  status: number;\n  headers: Array<[string, string]>;\n  size: number;\n  body: string;\n  time: number;\n  request: {\n    method: string;\n    url: string;\n    headers: Array<[string, string]>;\n    body?: string;\n  };\n};\n\nexport type PlaygroundContentProps = {\n  server?: string;\n  servers?: string[];\n  url: string;\n  method: string;\n  headers?: Header[];\n  queryParams?: QueryParam[];\n  pathParams?: PathParam[];\n  defaultBody?: string;\n  examples?: Content;\n  requiresLogin?: boolean;\n  onLogin?: () => void;\n  onSignUp?: () => void;\n};\n\nexport const Playground = ({\n  server,\n  servers = [],\n  url,\n  method,\n  headers = [],\n  queryParams = [],\n  pathParams = [],\n  defaultBody = \"\",\n  examples,\n  requiresLogin = false,\n  onLogin,\n  onSignUp,\n}: PlaygroundContentProps) => {\n  const { selectedServer, setSelectedServer } = useSelectedServer(\n    servers.map((url) => ({ url })),\n  );\n  const [showSelectIdentity, setShowSelectIdentity] = useState(false);\n  const identities = useApiIdentities();\n  const { setRememberedIdentity, getRememberedIdentity } = useIdentityStore();\n  const [, startTransition] = useTransition();\n  const [skipLogin, setSkipLogin] = useState(false);\n  const [showLongRunningWarning, setShowLongRunningWarning] = useState(false);\n  const abortControllerRef = useRef<AbortController | undefined>(undefined);\n  const latestSetRememberedIdentity = useLatest(setRememberedIdentity);\n\n  const { register, control, handleSubmit, watch, setValue, ...form } =\n    useForm<PlaygroundForm>({\n      defaultValues: {\n        body: defaultBody,\n        bodyContentType: \"JSON\",\n        queryParams: queryParams\n          .map((param) => ({\n            name: param.name,\n            value: param.defaultValue ?? \"\",\n            active: param.defaultActive ?? false,\n            enum: param.enum ?? [],\n          }))\n          .concat([\n            {\n              name: \"\",\n              value: \"\",\n              active: false,\n              enum: [],\n            },\n          ]),\n        pathParams: pathParams.map((param) => ({\n          name: param.name,\n          value: param.defaultValue ?? \"\",\n        })),\n        headers: headers\n          .map((header) => ({\n            name: header.name,\n            value: header.defaultValue ?? \"\",\n            active: header.defaultActive ?? false,\n          }))\n          .concat([\n            {\n              name: \"\",\n              value: \"\",\n              active: false,\n            },\n          ]),\n        identity: getRememberedIdentity(\n          identities.data?.map((i) => i.id) ?? [],\n        ),\n      },\n    });\n  const formState = watch();\n  const formRef = useRef<HTMLFormElement>(null);\n\n  useEffect(() => {\n    if (formState.identity) {\n      latestSetRememberedIdentity.current(formState.identity);\n    }\n  }, [latestSetRememberedIdentity, formState.identity]);\n\n  const queryMutation = useMutation({\n    mutationFn: async (data: PlaygroundForm) => {\n      const start = performance.now();\n\n      const shouldSetContentType = !data.headers.some(\n        (h) => h.active && h.name.toLowerCase() === \"content-type\",\n      );\n\n      const headers = Object.fromEntries([\n        ...data.headers\n          .filter((h) => h.name && h.active)\n          .map((header) => [header.name, header.value]),\n        ...(shouldSetContentType\n          ? [[\"content-type\", bodyContentTypeMap[data.bodyContentType]]]\n          : []),\n      ]);\n\n      const request = new Request(\n        createUrl(server ?? selectedServer, url, data),\n        {\n          method: method.toUpperCase(),\n          headers,\n          body: data.body ? data.body : undefined,\n        },\n      );\n\n      if (data.identity !== NO_IDENTITY) {\n        await identities.data\n          ?.find((i) => i.id === data.identity)\n          ?.authorizeRequest(request);\n      }\n\n      const warningTimeout = setTimeout(\n        () => setShowLongRunningWarning(true),\n        3210,\n      );\n      abortControllerRef.current = new AbortController();\n\n      try {\n        const response = await fetch(request, {\n          signal: abortControllerRef.current.signal,\n        });\n\n        clearTimeout(warningTimeout);\n        setShowLongRunningWarning(false);\n\n        const time = performance.now() - start;\n        const body = await response.text();\n        const url = new URL(request.url);\n\n        return {\n          status: response.status,\n          headers: Array.from(response.headers.entries()),\n          size: body.length,\n          body,\n          time,\n          request: {\n            method: request.method.toUpperCase(),\n            url: request.url,\n            headers: [\n              [\"Host\", url.host],\n              [\"User-Agent\", \"Zudoku Playground\"],\n              ...Array.from(request.headers.entries()),\n            ],\n            body: data.body ? data.body : undefined,\n          },\n        } satisfies PlaygroundResult;\n      } catch (error) {\n        clearTimeout(warningTimeout);\n        setShowLongRunningWarning(false);\n        if (error instanceof TypeError) {\n          throw new Error(\n            \"The request failed, possibly due to network issues or CORS policy.\",\n          );\n        } else {\n          throw error;\n        }\n      }\n    },\n  });\n\n  useEffect(() => {\n    return () => {\n      abortControllerRef.current?.abort();\n    };\n  }, []);\n\n  const path = (\n    <PathRenderer\n      path={url}\n      renderParam={({ name, originalValue, index }) => {\n        const formValue = formState.pathParams.find(\n          (param) => param.name === name,\n        )?.value;\n\n        return (\n          <ColorizedParam\n            name={name}\n            backgroundOpacity=\"0\"\n            slug={name}\n            onClick={() => form.setFocus(`pathParams.${index}.value`)}\n          >\n            {formValue || originalValue}\n          </ColorizedParam>\n        );\n      }}\n    />\n  );\n\n  const urlQueryParams = formState.queryParams\n    .filter((p) => p.active)\n    .map((p, i, arr) => (\n      <Fragment key={p.name}>\n        {p.name}={encodeURIComponent(p.value).replaceAll(\"%20\", \"+\")}\n        {i < arr.length - 1 && \"&\"}\n        <wbr />\n      </Fragment>\n    ));\n\n  const serverSelect = (\n    <div className=\"inline-block opacity-50 hover:opacity-100 transition\">\n      {server ? (\n        <span>{server.replace(/^https?:\\/\\//, \"\").replace(/\\/$/, \"\")}</span>\n      ) : (\n        servers.length > 1 && (\n          <Select\n            onValueChange={(value) => {\n              startTransition(() => setSelectedServer(value));\n            }}\n            value={selectedServer}\n            defaultValue={selectedServer}\n          >\n            <SelectTrigger className=\"p-0 border-none flex-row-reverse bg-transparent text-xs gap-0.5 h-auto translate-y-[4px]\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              {servers.map((s) => (\n                <SelectItem key={s} value={s}>\n                  {s.replace(/^https?:\\/\\//, \"\").replace(/\\/$/, \"\")}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        )\n      )}\n    </div>\n  );\n\n  const showLogin = requiresLogin && !skipLogin;\n  const isBodySupported = [\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(\n    method.toUpperCase(),\n  );\n\n  return (\n    <FormProvider\n      {...{ register, control, handleSubmit, watch, setValue, ...form }}\n    >\n      <form\n        onSubmit={handleSubmit((data) => {\n          if (identities.data?.length === 0 || data.identity) {\n            queryMutation.mutate(data);\n          } else {\n            setShowSelectIdentity(true);\n          }\n        })}\n        ref={formRef}\n        className=\"relative\"\n      >\n        <IdentityDialog\n          identities={identities.data ?? []}\n          open={showSelectIdentity}\n          onOpenChange={setShowSelectIdentity}\n          onSubmit={({ rememberedIdentity, identity }) => {\n            if (rememberedIdentity) {\n              setValue(\"identity\", identity ?? NO_IDENTITY);\n            }\n            setShowSelectIdentity(false);\n            queryMutation.mutate({ ...formState, identity });\n          }}\n        />\n        <RequestLoginDialog\n          open={showLogin}\n          setOpen={(open) => setSkipLogin(!open)}\n          onSignUp={onSignUp}\n          onLogin={onLogin}\n        />\n\n        <div className=\"grid grid-cols-2 text-sm h-full\">\n          <div className=\"flex flex-col gap-4 p-4 after:bg-muted-foreground/20 relative after:absolute after:w-px after:inset-0 after:left-auto\">\n            <div className=\"flex gap-2 items-stretch\">\n              <div className=\"flex flex-1 items-center w-full border rounded-md\">\n                <div className=\"border-r p-2 bg-muted rounded-l-md self-stretch font-semibold font-mono flex items-center\">\n                  {method.toUpperCase()}\n                </div>\n                <div className=\"items-center px-2 py-0.5 font-mono text-xs break-all leading-6\">\n                  {serverSelect}\n                  {path}\n                  {urlQueryParams.length > 0 ? \"?\" : \"\"}\n                  {urlQueryParams}\n                </div>\n              </div>\n\n              <SubmitButton\n                identities={identities.data ?? []}\n                formRef={formRef}\n                disabled={identities.isLoading || form.formState.isSubmitting}\n              />\n            </div>\n            <Tabs defaultValue=\"parameters\">\n              <div className=\"flex flex-wrap gap-1 justify-between\">\n                <TabsList>\n                  <TabsTrigger value=\"parameters\">\n                    Parameters\n                    {(formState.pathParams.some((p) => p.value !== \"\") ||\n                      formState.queryParams.some((p) => p.active)) && (\n                      <div className=\"w-2 h-2 rounded-full bg-blue-400 ml-2\" />\n                    )}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"headers\">\n                    Headers\n                    {formState.headers.filter((h) => h.active).length > 0 && (\n                      <div className=\"w-2 h-2 rounded-full bg-blue-400 ml-2\" />\n                    )}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"auth\">\n                    Auth\n                    {formState.identity !== NO_IDENTITY && (\n                      <div className=\"w-2 h-2 rounded-full bg-blue-400 ml-2\" />\n                    )}\n                  </TabsTrigger>\n                  <TabsTrigger value=\"body\">\n                    Body\n                    {formState.body && (\n                      <div className=\"w-2 h-2 rounded-full bg-blue-400 ml-2\" />\n                    )}\n                  </TabsTrigger>\n                </TabsList>\n              </div>\n              <TabsContent value=\"headers\">\n                <Headers control={control} headers={headers} />\n              </TabsContent>\n              <TabsContent value=\"parameters\">\n                {pathParams.length > 0 && (\n                  <div className=\"flex flex-col gap-4 my-4\">\n                    <span className=\"font-semibold\">Path Parameters</span>\n                    <PathParams url={url} control={control} />\n                  </div>\n                )}\n                <div className=\"flex flex-col gap-4 my-4\">\n                  <span className=\"font-semibold\">Query Parameters</span>\n                  <QueryParams control={control} queryParams={queryParams} />\n                </div>\n              </TabsContent>\n              <TabsContent value=\"body\">\n                {![\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].includes(\n                  method.toUpperCase(),\n                ) && (\n                  <Alert className=\"mb-2\">\n                    <InfoIcon className=\"w-4 h-4\" />\n                    <AlertTitle>Body</AlertTitle>\n                    <AlertDescription>\n                      Body is only supported for POST, PUT, PATCH, and DELETE\n                      requests\n                    </AlertDescription>\n                  </Alert>\n                )}\n                <Textarea\n                  {...register(\"body\")}\n                  className={cn(\n                    \"border w-full rounded-lg bg-muted/40 p-2 h-64 font-mono text-[13px]\",\n                    !isBodySupported && \"h-20 bg-muted\",\n                  )}\n                  placeholder={\n                    !isBodySupported\n                      ? \"This request does not support a body\"\n                      : undefined\n                  }\n                  disabled={!isBodySupported}\n                />\n                {isBodySupported && (\n                  <div className=\"flex items-center gap-2 mt-2 justify-between\">\n                    <Select\n                      value={formState.bodyContentType}\n                      onValueChange={(value) =>\n                        setValue(\n                          \"bodyContentType\",\n                          value as keyof typeof bodyContentTypeMap,\n                        )\n                      }\n                    >\n                      <SelectTrigger className=\"w-[100px]\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {Object.keys(bodyContentTypeMap).map((format) => (\n                          <SelectItem key={format} value={format}>\n                            {format}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    {examples && examples.length > 0 && (\n                      <ExamplesDropdown\n                        examples={examples}\n                        onSelect={(example, mediaType) => {\n                          setValue(\n                            \"body\",\n                            JSON.stringify(example.value, null, 2),\n                          );\n\n                          const format = objectEntries(bodyContentTypeMap).find(\n                            ([_, contentType]) => contentType === mediaType,\n                          )?.[0];\n\n                          if (format) {\n                            setValue(\"bodyContentType\", format);\n                          }\n                        }}\n                      />\n                    )}\n                  </div>\n                )}\n              </TabsContent>\n              <TabsContent value=\"auth\">\n                <div className=\"flex flex-col gap-4 my-4\">\n                  {identities.data?.length === 0 && (\n                    <Alert>\n                      <InfoIcon className=\"w-4 h-4\" />\n                      <AlertTitle>Authentication</AlertTitle>\n                      <AlertDescription>\n                        No identities found. Please create an identity first.\n                      </AlertDescription>\n                    </Alert>\n                  )}\n                  <div className=\"flex flex-col items-center gap-2\">\n                    <IdentitySelector\n                      value={formState.identity}\n                      identities={identities.data ?? []}\n                      setValue={(value) => setValue(\"identity\", value)}\n                    />\n                  </div>\n                </div>\n              </TabsContent>\n            </Tabs>\n          </div>\n          <ResultPanel\n            queryMutation={queryMutation}\n            showPathParamsWarning={formState.pathParams.some(\n              (p) => p.value === \"\",\n            )}\n            showLongRunningWarning={showLongRunningWarning}\n            onCancel={() => {\n              abortControllerRef.current?.abort(\n                \"Request cancelled by the user\",\n              );\n              setShowLongRunningWarning(false);\n            }}\n          />\n        </div>\n      </form>\n    </FormProvider>\n  );\n};\n\nexport default Playground;\n", "import { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport { type PropsWithChildren, useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  DialogTrigger,\n} from \"zudoku/ui/Dialog.js\";\nimport { Playground, type PlaygroundContentProps } from \"./Playground.js\";\n\nexport type PlaygroundDialogProps = PropsWithChildren<PlaygroundContentProps>;\n\nconst HeroPlayIcon = ({\n  className,\n  size = 16,\n}: {\n  className?: string;\n  size?: number;\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    fill=\"currentColor\"\n    className={className}\n    width={size}\n    height={size}\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm14.024-.983a1.125 1.125 0 0 1 0 1.966l-5.603 3.113A1.125 1.125 0 0 1 9 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst PlaygroundDialog = (props: PlaygroundDialogProps) => {\n  const [open, setOpen] = useState(false);\n  return (\n    <Dialog onOpenChange={(open) => setOpen(open)}>\n      <DialogTrigger asChild>\n        {props.children ?? (\n          <button\n            type=\"button\"\n            className=\"flex gap-1 items-center px-2 py-1 rounded-md transition text-xs bg-primary  text-primary-foreground shadow-sm hover:bg-primary/80\"\n          >\n            Test\n            <HeroPlayIcon size={14} />\n          </button>\n        )}\n      </DialogTrigger>\n\n      <DialogContent\n        className=\"max-w-screen-xl w-full h-5/6 overflow-hidden p-0\"\n        aria-describedby={undefined}\n      >\n        <VisuallyHidden>\n          <DialogTitle>Playground</DialogTitle>\n        </VisuallyHidden>\n        {open && <Playground {...props} />}\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport { PlaygroundDialog };\n", "import { ColorMap } from \"../../../components/navigation/SidebarBadge.js\";\n\nexport const MethodColorMap: Record<string, keyof typeof ColorMap> = {\n  get: \"green\",\n  post: \"blue\",\n  put: \"yellow\",\n  delete: \"red\",\n  patch: \"purple\",\n  options: \"gray\",\n  head: \"gray\",\n};\n", "import type { SidebarItem } from \"../../../../config/validators/SidebarSchema.js\";\nimport type { OperationResult } from \"../index.js\";\nimport { MethodColorMap } from \"./methodColorMap.js\";\n\nexport const createSidebarCategory = ({\n  label,\n  path,\n  operations,\n  collapsible,\n  collapsed,\n}: {\n  label: string;\n  path: string;\n  operations: OperationResult[];\n  collapsible?: boolean;\n  collapsed?: boolean;\n}): SidebarItem => ({\n  type: \"category\",\n  label,\n  link: {\n    type: \"doc\" as const,\n    id: path,\n    label,\n  },\n  collapsible,\n  collapsed,\n  items: operations.map((operation) => ({\n    type: \"link\" as const,\n    label: operation.summary ?? operation.path,\n    href: `${path}#${operation.slug}`,\n    badge: {\n      label: operation.method,\n      color: MethodColorMap[operation.method.toLowerCase()]!,\n      invert: true,\n    },\n  })),\n});\n", "import { redirect, type RouteObject } from \"react-router\";\nimport { joinUrl } from \"../../../util/joinUrl.js\";\nimport type { GraphQLClient } from \"../client/GraphQLClient.js\";\nimport { type OpenApiPluginOptions, UNTAGGED_PATH } from \"../index.js\";\nimport type { OasPluginConfig } from \"../interfaces.js\";\n\n// Creates the main provider route that wraps operation routes.\nconst createOasProvider = (opts: {\n  routePath: string;\n  basePath: string;\n  version?: string;\n  routes: RouteObject[];\n  client: GraphQLClient;\n  config: OpenApiPluginOptions;\n}): RouteObject => ({\n  path: opts.routePath,\n  async lazy() {\n    const { OasProvider } = await import(\"../OasProvider.js\");\n    return {\n      element: (\n        <OasProvider\n          basePath={opts.basePath}\n          version={opts.version}\n          client={opts.client}\n          config={opts.config}\n        />\n      ),\n    };\n  },\n  children: opts.routes,\n});\n\n// Creates a route for displaying the operation list used for both tagged and untagged operations.\nconst createRoute = ({\n  path,\n  tag,\n  untagged,\n}: {\n  path: string;\n  tag?: string;\n  untagged?: boolean;\n}): RouteObject => ({\n  path,\n  async lazy() {\n    const { OperationList } = await import(\"../OperationList.js\");\n    return { element: <OperationList tag={tag} untagged={untagged} /> };\n  },\n});\n\n// Creates routes for a specific version, including tag-based routes and the untagged operations route.\nconst createVersionRoutes = (\n  versionPath: string,\n  tagPages: string[],\n): RouteObject[] => {\n  const firstTagRoute = joinUrl(versionPath, tagPages.at(0) ?? UNTAGGED_PATH);\n\n  return [\n    // Redirect to first tag on the index route\n    { index: true, loader: () => redirect(firstTagRoute) },\n    // Create routes for each tag\n    ...tagPages.map((tag) =>\n      createRoute({\n        path: joinUrl(versionPath, tag),\n        tag,\n      }),\n    ),\n    // Category without tagged operations\n    createRoute({\n      path: joinUrl(versionPath, UNTAGGED_PATH),\n      untagged: true,\n    }),\n    {\n      path: joinUrl(versionPath, \"~schemas\"),\n      lazy: async () => {\n        const { SchemaList } = await import(\"../SchemaList.js\");\n        return { element: <SchemaList /> };\n      },\n    },\n  ];\n};\n\nexport const getVersions = (config: OasPluginConfig) =>\n  config.type === \"file\" ? Object.keys(config.input) : [];\n\nexport const getRoutes = ({\n  basePath,\n  config,\n  client,\n}: {\n  client: GraphQLClient;\n  config: OpenApiPluginOptions;\n  basePath: string;\n}): RouteObject[] => {\n  const tagPages = config.tagPages;\n\n  // If the config does not provide tag pages the catch-all\n  // route handles all operations on a single page\n  if (!tagPages) {\n    return [\n      createOasProvider({\n        basePath,\n        routePath: basePath,\n        routes: [createRoute({ path: basePath + \"/:tag?\" })],\n        client,\n        config,\n      }),\n    ];\n  }\n\n  const versions = getVersions(config);\n  // The latest version always is added as index path\n  const versionsInPath =\n    versions.length > 1 ? [undefined, ...versions] : [undefined];\n\n  return versionsInPath.map((version) => {\n    const versionPath = joinUrl(basePath, version);\n    return createOasProvider({\n      basePath,\n      version,\n      routePath: versionPath,\n      routes: createVersionRoutes(versionPath, tagPages),\n      client,\n      config,\n    });\n  });\n};\n", "import { CirclePlayIcon, LogInIcon } from \"lucide-react\";\nimport { type ReactNode } from \"react\";\nimport { matchPath } from \"react-router\";\nimport { useAuth } from \"../../authentication/hook.js\";\nimport { type ZudokuPlugin } from \"../../core/plugins.js\";\nimport { Button } from \"../../ui/Button.js\";\nimport { joinUrl } from \"../../util/joinUrl.js\";\nimport { GraphQLClient } from \"./client/GraphQLClient.js\";\nimport type { GetSidebarOperationsQuery } from \"./graphql/graphql.js\";\nimport { graphql } from \"./graphql/index.js\";\nimport { type OasPluginConfig } from \"./interfaces.js\";\nimport type { PlaygroundContentProps } from \"./playground/Playground.js\";\nimport { PlaygroundDialog } from \"./playground/PlaygroundDialog.js\";\nimport { createSidebarCategory } from \"./util/createSidebarCategory.js\";\nimport { getRoutes, getVersions } from \"./util/getRoutes.js\";\n\nconst GetSidebarOperationsQuery = graphql(`\n  query GetSidebarOperations($input: JSON!, $type: SchemaType!) {\n    schema(input: $input, type: $type) {\n      tags {\n        slug\n        name\n        extensions\n        operations {\n          summary\n          slug\n          method\n          operationId\n          path\n        }\n      }\n      components {\n        schemas {\n          __typename\n        }\n      }\n    }\n  }\n`);\n\nexport type OperationResult =\n  GetSidebarOperationsQuery[\"schema\"][\"tags\"][number][\"operations\"][number];\n\nexport type OpenApiPluginOptions = OasPluginConfig;\n\nexport const UNTAGGED_PATH = \"~endpoints\";\n\nexport const openApiPlugin = (config: OasPluginConfig): ZudokuPlugin => {\n  const basePath = joinUrl(config.navigationId ?? \"/reference\");\n  const client = new GraphQLClient(config);\n\n  return {\n    getHead: () => {\n      if (config.type === \"url\" && !config.skipPreload) {\n        return (\n          <link\n            rel=\"preload\"\n            href={config.input}\n            as=\"fetch\"\n            crossOrigin=\"anonymous\"\n          />\n        );\n      }\n\n      if (config.server) {\n        return <link rel=\"preconnect\" href={config.server} />;\n      }\n    },\n    getMdxComponents: () => ({\n      OpenPlaygroundButton: ({\n        requireAuth,\n        server,\n        method,\n        url,\n        children,\n        ...props\n      }: Partial<PlaygroundContentProps> & { children: ReactNode } & Pick<\n          PlaygroundContentProps,\n          \"server\"\n        > & {\n          requireAuth: boolean;\n        }) => {\n        const auth = useAuth();\n\n        if (!server) {\n          throw new Error(\"Server is required\");\n        }\n\n        if (requireAuth && !auth.isAuthenticated) {\n          return (\n            <Button\n              className=\"gap-2 items-center\"\n              variant=\"outline\"\n              onClick={auth.login}\n            >\n              Login to open in Playground <LogInIcon size={16} />\n            </Button>\n          );\n        }\n\n        return (\n          <PlaygroundDialog\n            url={url ?? \"/\"}\n            method={method ?? \"get\"}\n            server={server}\n            {...props}\n          >\n            <Button className=\"gap-2 items-center\" variant=\"outline\">\n              {children ?? (\n                <>\n                  Open in Playground <CirclePlayIcon size={16} />\n                </>\n              )}\n            </Button>\n          </PlaygroundDialog>\n        );\n      },\n    }),\n    getSidebar: async (path, context) => {\n      if (!matchPath({ path: basePath, end: false }, path)) {\n        return [];\n      }\n\n      const match = matchPath(\n        { path: `${basePath}/:version?/:tag`, end: true },\n        path,\n      );\n\n      try {\n        const versionParam = match?.params.version;\n        const version = versionParam ?? getVersions(config).at(0);\n        const { type } = config;\n        const input = type === \"file\" ? config.input[version!] : config.input;\n\n        const data = await context.queryClient.ensureQueryData({\n          queryKey: [\"sidebar-operations-query\", input],\n          queryFn: () =>\n            client.fetch(GetSidebarOperationsQuery, { type, input }),\n        });\n\n        const categories = data.schema.tags.flatMap((tag) => {\n          if (!tag.name || tag.operations.length === 0) return [];\n\n          const categoryPath = joinUrl(basePath, versionParam, tag.slug);\n\n          const isCollapsed =\n            tag.extensions?.[\"x-zudoku-collapsed\"] ??\n            !config.options?.expandAllTags;\n          const isCollapsible =\n            tag.extensions?.[\"x-zudoku-collapsible\"] ?? true;\n\n          return createSidebarCategory({\n            label: tag.name,\n            path: categoryPath,\n            operations: tag.operations,\n            collapsed: isCollapsed,\n            collapsible: isCollapsible,\n          });\n        });\n\n        const untaggedOperations = data.schema.tags.find(\n          (tag) => !tag.name,\n        )?.operations;\n\n        if (untaggedOperations) {\n          categories.push(\n            createSidebarCategory({\n              label: \"Other endpoints\",\n              path: joinUrl(basePath, versionParam, UNTAGGED_PATH),\n              operations: untaggedOperations,\n              collapsed: !config.options?.expandAllTags,\n            }),\n          );\n        }\n\n        if (data.schema.components?.schemas?.length) {\n          categories.push({\n            type: \"link\" as const,\n            label: \"Schemas\",\n            href: joinUrl(basePath, versionParam, \"~schemas\"),\n          });\n        }\n\n        return categories;\n      } catch {\n        return [];\n      }\n    },\n    getRoutes: () => getRoutes({ basePath, config, client }),\n  };\n};\n"],
  "mappings": "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",
  "names": ["React", "Slot", "Content", "handleScroll", "canScrollUp", "canScrollDown", "v", "_", "Root", "Trigger", "Portal", "Item", "MutationObserver", "_a", "Subscribable", "client", "options", "__privateAdd", "_MutationObserver_instances", "_client", "_currentResult", "_currentMutation", "_mutateOptions", "__privateSet", "__privateMethod", "updateResult_fn", "prevOptions", "__privateGet", "shallowEqualObjects", "hashKey", "action", "notify_fn", "variables", "state", "getDefaultState", "notifyManager", "context", "_b", "_d", "_c", "_f", "_e", "_h", "_g", "listener", "useMutation", "queryClient", "useQueryClient", "observer", "React", "result", "onStoreChange", "mutate", "mutateOptions", "noop", "shouldThrowError", "Select", "Root2", "SelectValue", "SelectTrigger", "className", "children", "props", "ref", "jsxs", "Trigger", "cn", "jsx", "ChevronDown", "SelectScrollUpButton", "ChevronUp", "SelectScrollDownButton", "SelectContent", "position", "Portal", "Content2", "SelectLabel", "SelectItem", "Item", "Check", "SelectSeparator", "React", "import_jsx_runtime", "Root", "TRIGGER_NAME", "CONTENT_NAME", "Trigger", "Content", "Tabs", "Root2", "TabsList", "className", "props", "ref", "jsx", "cn", "TabsTrigger", "Trigger", "TabsContent", "Content", "Card", "className", "props", "ref", "jsx", "cn", "CardHeader", "CardTitle", "CardDescription", "CardContent", "CardFooter", "isCheckBoxInput", "element", "isDateObject", "value", "isNullOrUndefined", "isObjectType", "isObject", "getEventValue", "event", "getNodeParentName", "name", "isNameInFieldArray", "names", "isPlainObject", "tempObject", "prototypeCopy", "isWeb", "cloneObject", "data", "copy", "isArray", "isFileListInstance", "key", "compact", "isUndefined", "val", "get", "object", "path", "defaultValue", "result", "isBoolean", "isKey", "stringToPath", "input", "set", "index", "tempPath", "length", "lastIndex", "newValue", "objValue", "EVENTS", "VALIDATION_MODE", "INPUT_VALIDATION_RULES", "HookFormContext", "React", "useFormContext", "FormProvider", "props", "children", "getProxyFormState", "formState", "control", "localProxyFormState", "isRoot", "_key", "useFormState", "methods", "disabled", "exact", "updateFormState", "_localProxyFormState", "_name", "isString", "generateWatchOutput", "_names", "formValues", "isGlobal", "fieldName", "useWatch", "_defaultValue", "updateValue", "useController", "shouldUnregister", "isArrayField", "_props", "_registerProps", "fieldState", "onChange", "onBlur", "ref", "elm", "field", "message", "_shouldUnregisterField", "updateMounted", "Controller", "appendErrors", "validateAllFieldCriteria", "errors", "type", "convertToArrayPayload", "createSubject", "_observers", "observer", "o", "isPrimitive", "deepEqual", "object1", "object2", "keys1", "keys2", "val1", "val2", "isEmptyObject", "isFileInput", "isFunction", "isHTMLElement", "owner", "isMultipleSelect", "isRadioInput", "isRadioOrCheckbox", "live", "baseGet", "updatePath", "isEmptyArray", "obj", "unset", "paths", "childObject", "objectHasFunction", "markFieldsDirty", "fields", "isParentNodeArray", "getDirtyFieldsFromDefaultValues", "dirtyFieldsFromValues", "getDirtyFields", "defaultValues", "defaultResult", "validResult", "getCheckboxValue", "options", "values", "option", "getFieldValueAs", "valueAsNumber", "valueAsDate", "setValueAs", "defaultReturn", "getRadioValue", "previous", "getFieldValue", "_f", "getResolverOptions", "fieldsNames", "_fields", "criteriaMode", "shouldUseNativeValidation", "isRegex", "getRuleValue", "rule", "getValidationModes", "mode", "ASYNC_FUNCTION", "hasPromiseValidation", "fieldReference", "validateFunction", "hasValidation", "isWatched", "isBlurEvent", "watchName", "iterateFieldsByAction", "action", "abortEarly", "currentField", "schemaErrorLookup", "error", "foundError", "shouldRenderFormState", "formStateData", "_proxyFormState", "shouldSubscribeByName", "signalName", "currentName", "skipValidation", "isTouched", "isSubmitted", "reValidateMode", "unsetEmptyArray", "updateFieldArrayRootError", "fieldArrayErrors", "isMessage", "getValidateError", "getValueAndMessage", "validationData", "validateField", "disabledFieldNames", "isFieldArray", "refs", "required", "maxLength", "minLength", "min", "max", "pattern", "validate", "mount", "inputValue", "inputRef", "setCustomValidity", "isRadio", "isCheckBox", "isEmpty", "appendErrorsCurry", "getMinMaxMessage", "exceedMax", "maxLengthMessage", "minLengthMessage", "maxType", "minType", "exceedMin", "maxOutput", "minOutput", "valueNumber", "valueDate", "convertTimeToDate", "time", "isTime", "isWeek", "maxLengthOutput", "minLengthOutput", "patternValue", "validateError", "validationResult", "defaultOptions", "createFormControl", "_options", "_formState", "_defaultValues", "_formValues", "_state", "delayErrorCallback", "timer", "_proxySubscribeFormState", "_subjects", "validationModeBeforeSubmit", "validationModeAfterSubmit", "shouldDisplayAllAssociatedErrors", "debounce", "callback", "wait", "_setValid", "shouldUpdateValid", "isValid", "_runSchema", "executeBuiltInValidation", "_updateIsValidating", "isValidating", "_setFieldArray", "method", "args", "shouldSetValues", "shouldUpdateFieldsAndState", "fieldValues", "touchedFields", "_getDirty", "updateErrors", "_setErrors", "updateValidAndValue", "shouldSkipSetValueAs", "setFieldValue", "updateTouchAndDirty", "fieldValue", "shouldDirty", "shouldRender", "shouldUpdateField", "isPreviousDirty", "output", "isCurrentFieldPristine", "isPreviousFieldTouched", "shouldRenderByError", "previousFieldError", "updatedFormState", "executeSchemaAndUpdateState", "shouldOnlyCheckValid", "context", "isFieldArrayRoot", "isPromiseFunction", "fieldError", "_removeUnmounted", "unregister", "getValues", "_getWatch", "_getFieldArray", "optionRef", "checkboxRef", "radioRef", "trigger", "setValues", "fieldKey", "setValue", "cloneValue", "target", "isFieldValueUpdated", "_updateIsFieldValueUpdated", "shouldSkipValidation", "watched", "previousErrorLookupResult", "errorLookupResult", "_focusInput", "fieldNames", "getFieldState", "clearErrors", "inputName", "setError", "currentError", "currentRef", "restOfErrorTree", "watch", "payload", "_subscribe", "_setFormState", "subscribe", "_setDisabledField", "register", "disabledIsDefined", "fieldRef", "radioOrCheckbox", "_focusError", "_disableForm", "handleSubmit", "onValid", "onInvalid", "e", "onValidError", "resetField", "_reset", "keepStateOptions", "updatedValues", "cloneUpdatedValues", "isEmptyResetValues", "fieldsToCheck", "form", "reset", "setFocus", "generateId", "d", "c", "r", "getFocusFieldName", "appendAt", "fillEmptyArray", "insert", "moveArrayAt", "from", "to", "prependAt", "removeAtIndexes", "indexes", "i", "temp", "removeArrayAt", "a", "b", "swapArrayAt", "indexA", "indexB", "updateAt", "useFieldArray", "keyName", "rules", "setFields", "ids", "_fieldIds", "_actioned", "fieldArrayName", "updateValues", "updatedFieldArrayValues", "append", "appendValue", "prepend", "prependValue", "remove", "insert$1", "insertValue", "swap", "move", "update", "item", "replace", "existingError", "useForm", "_formControl", "_values", "isDirty", "state", "React", "import_jsx_runtime", "form", "Root", "React", "import_jsx_runtime", "usePopperScope", "TRIGGER_NAME", "getState", "PORTAL_NAME", "CONTENT_NAME", "Slot", "Content", "ARROW_NAME", "Root", "Portal", "Content", "U", "Y", "H", "J", "p", "u", "$", "k", "m", "B", "K", "X", "G", "_", "C", "h", "P", "A", "f", "O", "T", "L", "c", "S", "E", "N", "R", "M", "D", "W", "be", "le", "ce", "Z", "Re", "r", "o", "n", "ae", "ue", "de", "ee", "fe", "me", "e", "a", "d", "pe", "x", "ge", "j", "q", "I", "v", "ke", "ne", "s", "i", "l", "g", "y", "z", "te", "V", "F", "Q", "re", "we", "De", "oe", "ie", "se", "Te", "he", "b", "ve", "t", "Ee", "ye", "Se", "Ce", "xe", "Portal", "Ie", "Pe", "_e", "Me", "Command", "className", "props", "ref", "jsx", "CommandPrimitive", "cn", "CommandInput", "className", "props", "ref", "jsxs", "jsx", "Search", "CommandPrimitive", "cn", "CommandInlineInput", "CommandList", "CommandEmpty", "CommandGroup", "CommandSeparator", "CommandItem", "stylesMap", "InfoIcon", "LightbulbIcon", "AlertTriangleIcon", "ShieldAlertIcon", "Callout", "type", "children", "title", "icon", "border", "bg", "iconColor", "titleColor", "textColor", "Icon", "Input", "className", "type", "props", "ref", "jsx", "cn", "React", "import_jsx_runtime", "Label", "Root", "React2", "React", "import_jsx_runtime", "getState", "BubbleInput", "INDICATOR_NAME", "createContextScope", "useRovingFocusGroupScope", "jsx", "Root", "Primitive", "ITEM_NAME", "useComposedRefs", "composeEventHandlers", "Item", "Indicator", "Collapsible", "Root", "CollapsibleTrigger", "CollapsibleContent", "localServerPromise", "throwIfError", "response", "_a", "ZudokuError", "GraphQLClient", "config", "__privateAdd", "_getLocalServer", "m", "_executeFetch", "init", "__privateGet", "__publicField", "query", "variables", "operationName", "result", "TypedDocumentString", "value", "__meta__", "OperationsFragmentFragmentDoc", "ServersQueryDocument", "SchemaWarmupDocument", "OperationsForTagDocument", "GetSchemasDocument", "GetServerQueryDocument", "GetSidebarOperationsDocument", "documents", "types.ServersQueryDocument", "types.OperationsFragmentFragmentDoc", "types.SchemaWarmupDocument", "types.OperationsForTagDocument", "types.GetSchemasDocument", "types.GetServerQueryDocument", "types.GetSidebarOperationsDocument", "graphql", "source", "alertVariants", "cva", "Alert", "className", "variant", "props", "ref", "jsx", "cn", "AlertTitle", "AlertDescription", "PathRenderer", "path", "renderParam", "paramIndex", "part", "i", "arr", "matches", "elements", "lastIndex", "match", "originalValue", "name", "startIndex", "Fragment", "Textarea", "c2n", "c", "s2n", "s", "a", "pastellize", "options", "hue", "saturation", "lightness", "DATA_ATTR", "usePastellizedColor", "resolvedTheme", "useTheme", "ColorizedParam", "slug", "title", "children", "onClick", "useRef", "normalizedSlug", "normalized", "text", "background", "textColor", "backgroundColor", "borderColor", "useEffect", "onMouseEnter", "el", "onMouseLeave", "useSelectedServerStore", "create", "persist", "set", "newServer", "useSelectedServer", "servers", "selectedServer", "setSelectedServer", "useMemo", "createUrl", "host", "data", "filledPath", "key", "url", "param", "DropdownMenu", "Root2", "DropdownMenuTrigger", "DropdownMenuGroup", "DropdownMenuSubTrigger", "inset", "jsxs", "ChevronRightIcon", "DropdownMenuSubContent", "DropdownMenuContent", "sideOffset", "Portal2", "Content2", "DropdownMenuItem", "DropdownMenuCheckboxItem", "checked", "CheckIcon", "DropdownMenuRadioItem", "DotIcon", "DropdownMenuLabel", "DropdownMenuSeparator", "ExamplesDropdown", "examples", "onSelect", "Button", "t", "mediaTypeObject", "example", "Card", "CardHeader", "CardTitle", "CardDescription", "CardContent", "CardFooter", "Checkbox", "Root", "Check", "Popover", "PopoverContent", "align", "Portal", "AutocompletePopover", "onChange", "placeholder", "onEnterPress", "open", "setOpen", "useState", "dontClose", "setDontClose", "count", "useCommandState", "state", "inputRef", "PopoverAnchor", "CommandInlineInput", "e", "CommandList", "enumValue", "CommandItem", "selected", "Autocomplete", "shouldFilter", "Command", "createVariantComponent", "tag", "cvx", "MyVariant", "asChild", "Comp", "Slot", "ParamsGrid", "ParamsGridItem", "headerOptions", "Headers", "control", "schemaHeaders", "fields", "append", "remove", "useFieldArray", "setValue", "watch", "useFormContext", "valueRefs", "nameRefs", "watchedHeaders", "addNewHeader", "useCallback", "handleHeaderEnter", "index", "handleValueEnter", "missingHeaders", "h", "f", "field", "currentHeader", "Controller", "Input", "XIcon", "labelVariants", "Label", "RadioGroup", "RadioGroupItem", "Item2", "Indicator", "Circle", "IdentitySelector", "identities", "NO_IDENTITY", "identity", "IdentityDialog", "onSubmit", "onOpenChange", "setIdentity", "rememberedIdentity", "setRememberedIdentity", "Dialog", "DialogContent", "DialogTitle", "DialogDescription", "DialogFooter", "PathParams", "sortedFields", "b", "InlineInput", "QueryParams", "queryParams", "form", "requiredFields", "currentParam", "useIdentityStore", "get", "availableIdentities", "createJSONStorage", "RequestLoginDialog", "onSignUp", "onLogin", "TextColorMap", "methodToColor", "methodForColor", "method", "RequestTab", "headers", "body", "Collapsible", "CollapsibleTrigger", "CollapsibleContent", "inferType", "firstValue", "generateInterface", "obj", "indentation", "lines", "propertyType", "convertToTypes", "json", "statusCodeMap", "humanFileSize", "bytes", "exponent", "mimeTypeToLanguage", "mimeType", "mime", "detectLanguage", "contentType", "tryParseJson", "sortHeadersByRelevance", "priorityOrder", "keyA", "keyB", "indexA", "indexB", "SYNTAX_HIGHLIGHT_MAX_SIZE_THRESHOLD", "ResponseTab", "status", "time", "size", "detectedLanguage", "jsonContent", "beautifiedBody", "view", "setView", "types", "useQuery", "sortedHeaders", "shouldDisableHighlighting", "j", "Callout", "SyntaxHighlight", "Select", "SelectTrigger", "SelectValue", "SelectContent", "SelectItem", "ResultPanel", "queryMutation", "showPathParamsWarning", "showLongRunningWarning", "onCancel", "Tabs", "TabsList", "TabsTrigger", "TabsContent", "Spinner", "SubmitButton", "formRef", "disabled", "dropdownValue", "setDropdownValue", "ChevronDownIcon", "bodyContentTypeMap", "Playground", "server", "pathParams", "defaultBody", "requiresLogin", "showSelectIdentity", "setShowSelectIdentity", "useApiIdentities", "getRememberedIdentity", "startTransition", "useTransition", "skipLogin", "setSkipLogin", "setShowLongRunningWarning", "abortControllerRef", "latestSetRememberedIdentity", "useLatest", "register", "handleSubmit", "useForm", "header", "formState", "useMutation", "start", "shouldSetContentType", "request", "_b", "warningTimeout", "error", "formValue", "urlQueryParams", "p", "serverSelect", "o", "showLogin", "isBodySupported", "FormProvider", "InfoIcon", "format", "mediaType", "objectEntries", "_", "HeroPlayIcon", "PlaygroundDialog", "DialogTrigger", "VisuallyHidden", "MethodColorMap", "createSidebarCategory", "label", "operations", "collapsible", "collapsed", "operation", "createOasProvider", "opts", "OasProvider", "createRoute", "untagged", "OperationList", "createVersionRoutes", "versionPath", "tagPages", "firstTagRoute", "joinUrl", "UNTAGGED_PATH", "redirect", "SchemaList", "getVersions", "getRoutes", "basePath", "client", "versions", "version", "GetSidebarOperationsQuery", "openApiPlugin", "requireAuth", "auth", "useAuth", "LogInIcon", "CirclePlayIcon", "context", "matchPath", "versionParam", "type", "input", "categories", "categoryPath", "isCollapsed", "isCollapsible", "_c", "untaggedOperations", "_d"]
}
