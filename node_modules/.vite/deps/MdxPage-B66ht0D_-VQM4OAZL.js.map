{
  "version": 3,
  "sources": ["../../zudoku/src/lib/plugins/markdown/MdxPage.tsx"],
  "sourcesContent": ["import { useMDXComponents } from \"@mdx-js/react\";\nimport slugify from \"@sindresorhus/slugify\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { type PropsWithChildren, useEffect } from \"react\";\nimport { CategoryHeading } from \"../../components/CategoryHeading.js\";\nimport { Heading } from \"../../components/Heading.js\";\nimport { ProseClasses } from \"../../components/Markdown.js\";\nimport { Pagination } from \"../../components/Pagination.js\";\nimport { Toc } from \"../../components/navigation/Toc.js\";\nimport {\n  useCurrentItem,\n  usePrevNext,\n} from \"../../components/navigation/utils.js\";\nimport type { MdxComponentsType } from \"../../util/MdxComponents.js\";\nimport { cn } from \"../../util/cn.js\";\nimport { type MarkdownPluginDefaultOptions, type MDXImport } from \"./index.js\";\n\ndeclare global {\n  interface Window {\n    __getReactRefreshIgnoredExports?: (args: {\n      id: string;\n    }) => string[] | undefined;\n  }\n}\n\nconst MarkdownHeadings = {\n  h2: ({ children, id }) => (\n    <Heading level={2} id={id} registerSidebarAnchor>\n      {children}\n    </Heading>\n  ),\n  h3: ({ children, id }) => (\n    <Heading level={3} id={id} registerSidebarAnchor>\n      {children}\n    </Heading>\n  ),\n} satisfies MdxComponentsType;\n\nexport const MdxPage = ({\n  mdxComponent: MdxComponent,\n  file,\n  frontmatter = {},\n  defaultOptions,\n  tableOfContents,\n  excerpt,\n}: PropsWithChildren<\n  Omit<MDXImport, \"default\"> & {\n    file: string;\n    mdxComponent: MDXImport[\"default\"];\n    defaultOptions?: MarkdownPluginDefaultOptions;\n  }\n>) => {\n  const categoryTitle = useCurrentItem()?.categoryLabel;\n\n  const title = frontmatter.title;\n  const category = frontmatter.category ?? categoryTitle;\n  const hideToc = frontmatter.toc === false || defaultOptions?.toc === false;\n  const pageTitle =\n    tableOfContents.find((item) => item.depth === 1)?.value ?? title;\n  const hidePager =\n    frontmatter.disablePager ?? defaultOptions?.disablePager ?? false;\n\n  const tocEntries =\n    tableOfContents.find((item) => item.depth === 1)?.children ??\n    // if `title` is provided by frontmatter it does not appear in the table of contents\n    tableOfContents.filter((item) => item.depth === 2);\n\n  const showToc = !hideToc && tocEntries.length > 0;\n\n  const { prev, next } = usePrevNext();\n\n  useEffect(() => {\n    if (process.env.NODE_ENV === \"development\") {\n      window.__getReactRefreshIgnoredExports = ({ id }) => {\n        if (!id.endsWith(file)) return;\n\n        return [\"frontmatter\", \"tableOfContents\"];\n      };\n\n      return () => {\n        window.__getReactRefreshIgnoredExports = undefined;\n      };\n    }\n  }, [file]);\n\n  return (\n    <div\n      className=\"grid grid-cols-1 xl:grid-cols-[--sidecar-grid-cols] gap-8 justify-between\"\n      data-pagefind-filter=\"section:markdown\"\n      data-pagefind-meta=\"section:markdown\"\n    >\n      <Helmet>\n        <title>{pageTitle}</title>\n        {excerpt && <meta name=\"description\" content={excerpt} />}\n      </Helmet>\n      <div\n        className={cn(\n          ProseClasses,\n          \"max-w-full xl:w-full xl:max-w-3xl flex-1 flex-shrink pt-[--padding-content-top]\",\n        )}\n      >\n        {(category || title) && (\n          <header>\n            {category && <CategoryHeading>{category}</CategoryHeading>}\n            {title && (\n              <Heading level={1} id={slugify(title)}>\n                {title}\n              </Heading>\n            )}\n          </header>\n        )}\n        <MdxComponent\n          components={{ ...useMDXComponents(), ...MarkdownHeadings }}\n        />\n        {!hidePager && (\n          <>\n            <hr className=\"my-10\" />\n            <Pagination\n              prev={prev ? { to: prev.id, label: prev.label } : undefined}\n              next={next ? { to: next.id, label: next.label } : undefined}\n              className=\"mb-4\"\n            />\n          </>\n        )}\n      </div>\n      <div className=\"hidden xl:block\">\n        {showToc && <Toc entries={tocEntries} />}\n      </div>\n    </div>\n  );\n};\n"],
  "mappings": "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",
  "names": ["MarkdownHeadings", "children", "id", "jsx", "Heading", "MdxPage", "MdxComponent", "file", "frontmatter", "defaultOptions", "tableOfContents", "excerpt", "categoryTitle", "_a", "useCurrentItem", "title", "category", "hideToc", "pageTitle", "_b", "item", "hidePager", "tocEntries", "_c", "showToc", "prev", "next", "usePrevNext", "useEffect", "jsxs", "Helmet", "cn", "ProseClasses", "CategoryHeading", "slugify", "useMDXComponents", "Fragment", "Pagination", "Toc"]
}
