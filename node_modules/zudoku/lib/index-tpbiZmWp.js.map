{"version":3,"file":"index-tpbiZmWp.js","sources":["../../../node_modules/.pnpm/@mdx-js+react@3.1.0_@types+react@19.1.1_react@19.1.0/node_modules/@mdx-js/react/lib/index.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/queryCache.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/queryClient.js","../../../node_modules/.pnpm/@tanstack+query-core@5.74.3/node_modules/@tanstack/query-core/build/modern/hydration.js","../../../node_modules/.pnpm/@tanstack+react-query@5.74.3_react@19.1.0/node_modules/@tanstack/react-query/build/modern/HydrationBoundary.js","../src/lib/errors/ServerError.tsx","../../../node_modules/.pnpm/react-router@7.5.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/react-router/dist/development/dom-export.mjs","../src/lib/plugins/openapi/StaggeredRender.tsx","../src/lib/components/Bootstrap.tsx","../src/lib/util/useScrollToTop.ts","../src/lib/components/Footer.tsx","../src/lib/ui/Skeleton.tsx","../src/lib/components/Banner.tsx","../src/lib/components/navigation/ZudokuLogo.tsx","../src/lib/components/navigation/PoweredByZudoku.tsx","../src/lib/util/detectOS.ts","../src/lib/components/Search.tsx","../src/lib/components/ThemeSwitch.tsx","../../../node_modules/.pnpm/@babel+runtime@7.27.0/node_modules/@babel/runtime/helpers/esm/extends.js","../../../node_modules/.pnpm/react-is@16.13.1/node_modules/react-is/cjs/react-is.production.min.js","../../../node_modules/.pnpm/react-is@16.13.1/node_modules/react-is/cjs/react-is.development.js","../../../node_modules/.pnpm/react-is@16.13.1/node_modules/react-is/index.js","../../../node_modules/.pnpm/hoist-non-react-statics@3.3.2/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../../../node_modules/.pnpm/@tanem+react-nprogress@5.0.55_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@tanem/react-nprogress/dist/react-nprogress.esm.js","../src/lib/components/TopNavigation.tsx","../src/lib/components/MobileTopNavigation.tsx","../src/lib/components/Header.tsx","../src/lib/ui/Drawer.tsx","../src/lib/components/navigation/SidebarWrapper.tsx","../src/lib/components/navigation/Sidebar.tsx","../src/lib/components/Main.tsx","../src/lib/components/Layout.tsx","../src/lib/components/ErrorPage.tsx","../src/lib/components/StatusPage.tsx","../../../node_modules/.pnpm/react-error-boundary@5.0.0_react@19.1.0/node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../../node_modules/.pnpm/nanoevents@9.1.0/node_modules/nanoevents/index.js","../src/lib/core/ZudokuContext.ts","../src/lib/errors/TopLevelError.tsx","../src/lib/util/requestIdleCallbackPolyfill.ts","../src/lib/components/context/ComponentsContext.tsx","../src/lib/components/context/RouterEventsEmitter.tsx","../src/lib/components/context/ZudokuProvider.tsx","../src/lib/components/Zudoku.tsx","../src/lib/components/index.ts"],"sourcesContent":["/**\n * @import {MDXComponents} from 'mdx/types.js'\n * @import {Component, ReactElement, ReactNode} from 'react'\n */\n\n/**\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Readonly<MDXComponents>} currentComponents\n *   Current components from the context.\n * @returns {MDXComponents}\n *   Additional components.\n *\n * @typedef Props\n *   Configuration for `MDXProvider`.\n * @property {ReactNode | null | undefined} [children]\n *   Children (optional).\n * @property {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context (default: `false`).\n */\n\nimport React from 'react'\n\n/** @type {Readonly<MDXComponents>} */\nconst emptyComponents = {}\n\nconst MDXContext = React.createContext(emptyComponents)\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @returns {MDXComponents}\n *   Current components.\n */\nexport function useMDXComponents(components) {\n  const contextComponents = React.useContext(MDXContext)\n\n  // Memoize to avoid unnecessary top-level context changes\n  return React.useMemo(\n    function () {\n      // Custom merge via a function prop\n      if (typeof components === 'function') {\n        return components(contextComponents)\n      }\n\n      return {...contextComponents, ...components}\n    },\n    [contextComponents, components]\n  )\n}\n\n/**\n * Provider for MDX context.\n *\n * @param {Readonly<Props>} properties\n *   Properties.\n * @returns {ReactElement}\n *   Element.\n * @satisfies {Component}\n */\nexport function MDXProvider(properties) {\n  /** @type {Readonly<MDXComponents>} */\n  let allComponents\n\n  if (properties.disableParentContext) {\n    allComponents =\n      typeof properties.components === 'function'\n        ? properties.components(emptyComponents)\n        : properties.components || emptyComponents\n  } else {\n    allComponents = useMDXComponents(properties.components)\n  }\n\n  return React.createElement(\n    MDXContext.Provider,\n    {value: allComponents},\n    properties.children\n  )\n}\n","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const queryFnContext = {\n            client: context.client,\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? \"backward\" : \"forward\",\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const page = await queryFn(\n            queryFnContext\n          );\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","// src/hydration.ts\nfunction defaultTransformerFn(data) {\n  return data;\n}\nfunction dehydrateMutation(mutation) {\n  return {\n    mutationKey: mutation.options.mutationKey,\n    state: mutation.state,\n    ...mutation.options.scope && { scope: mutation.options.scope },\n    ...mutation.meta && { meta: mutation.meta }\n  };\n}\nfunction dehydrateQuery(query, serializeData, shouldRedactErrors) {\n  return {\n    state: {\n      ...query.state,\n      ...query.state.data !== void 0 && {\n        data: serializeData(query.state.data)\n      }\n    },\n    queryKey: query.queryKey,\n    queryHash: query.queryHash,\n    ...query.state.status === \"pending\" && {\n      promise: query.promise?.then(serializeData).catch((error) => {\n        if (!shouldRedactErrors(error)) {\n          return Promise.reject(error);\n        }\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `A query that was dehydrated as pending ended up rejecting. [${query.queryHash}]: ${error}; The error will be redacted in production builds`\n          );\n        }\n        return Promise.reject(new Error(\"redacted\"));\n      })\n    },\n    ...query.meta && { meta: query.meta }\n  };\n}\nfunction defaultShouldDehydrateMutation(mutation) {\n  return mutation.state.isPaused;\n}\nfunction defaultShouldDehydrateQuery(query) {\n  return query.state.status === \"success\";\n}\nfunction defaultShouldRedactErrors(_) {\n  return true;\n}\nfunction dehydrate(client, options = {}) {\n  const filterMutation = options.shouldDehydrateMutation ?? client.getDefaultOptions().dehydrate?.shouldDehydrateMutation ?? defaultShouldDehydrateMutation;\n  const mutations = client.getMutationCache().getAll().flatMap(\n    (mutation) => filterMutation(mutation) ? [dehydrateMutation(mutation)] : []\n  );\n  const filterQuery = options.shouldDehydrateQuery ?? client.getDefaultOptions().dehydrate?.shouldDehydrateQuery ?? defaultShouldDehydrateQuery;\n  const shouldRedactErrors = options.shouldRedactErrors ?? client.getDefaultOptions().dehydrate?.shouldRedactErrors ?? defaultShouldRedactErrors;\n  const serializeData = options.serializeData ?? client.getDefaultOptions().dehydrate?.serializeData ?? defaultTransformerFn;\n  const queries = client.getQueryCache().getAll().flatMap(\n    (query) => filterQuery(query) ? [dehydrateQuery(query, serializeData, shouldRedactErrors)] : []\n  );\n  return { mutations, queries };\n}\nfunction hydrate(client, dehydratedState, options) {\n  if (typeof dehydratedState !== \"object\" || dehydratedState === null) {\n    return;\n  }\n  const mutationCache = client.getMutationCache();\n  const queryCache = client.getQueryCache();\n  const deserializeData = options?.defaultOptions?.deserializeData ?? client.getDefaultOptions().hydrate?.deserializeData ?? defaultTransformerFn;\n  const mutations = dehydratedState.mutations || [];\n  const queries = dehydratedState.queries || [];\n  mutations.forEach(({ state, ...mutationOptions }) => {\n    mutationCache.build(\n      client,\n      {\n        ...client.getDefaultOptions().hydrate?.mutations,\n        ...options?.defaultOptions?.mutations,\n        ...mutationOptions\n      },\n      state\n    );\n  });\n  queries.forEach(({ queryKey, state, queryHash, meta, promise }) => {\n    let query = queryCache.get(queryHash);\n    const data = state.data === void 0 ? state.data : deserializeData(state.data);\n    if (query) {\n      if (query.state.dataUpdatedAt < state.dataUpdatedAt) {\n        const { fetchStatus: _ignored, ...serializedState } = state;\n        query.setState({\n          ...serializedState,\n          data\n        });\n      }\n    } else {\n      query = queryCache.build(\n        client,\n        {\n          ...client.getDefaultOptions().hydrate?.queries,\n          ...options?.defaultOptions?.queries,\n          queryKey,\n          queryHash,\n          meta\n        },\n        // Reset fetch status to idle to avoid\n        // query being stuck in fetching state upon hydration\n        {\n          ...state,\n          data,\n          fetchStatus: \"idle\"\n        }\n      );\n    }\n    if (promise) {\n      const initialPromise = Promise.resolve(promise).then(deserializeData);\n      void query.fetch(void 0, { initialPromise });\n    }\n  });\n}\nexport {\n  defaultShouldDehydrateMutation,\n  defaultShouldDehydrateQuery,\n  dehydrate,\n  hydrate\n};\n//# sourceMappingURL=hydration.js.map","\"use client\";\n\n// src/HydrationBoundary.tsx\nimport * as React from \"react\";\nimport { hydrate } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nvar hasProperty = (obj, key) => {\n  return typeof obj === \"object\" && obj !== null && key in obj;\n};\nvar HydrationBoundary = ({\n  children,\n  options = {},\n  state,\n  queryClient\n}) => {\n  const client = useQueryClient(queryClient);\n  const [hydrationQueue, setHydrationQueue] = React.useState();\n  const optionsRef = React.useRef(options);\n  optionsRef.current = options;\n  React.useMemo(() => {\n    if (state) {\n      if (typeof state !== \"object\") {\n        return;\n      }\n      const queryCache = client.getQueryCache();\n      const queries = state.queries || [];\n      const newQueries = [];\n      const existingQueries = [];\n      for (const dehydratedQuery of queries) {\n        const existingQuery = queryCache.get(dehydratedQuery.queryHash);\n        if (!existingQuery) {\n          newQueries.push(dehydratedQuery);\n        } else {\n          const hydrationIsNewer = dehydratedQuery.state.dataUpdatedAt > existingQuery.state.dataUpdatedAt || // RSC special serialized then-able chunks\n          hasProperty(dehydratedQuery.promise, \"status\") && hasProperty(existingQuery.promise, \"status\") && dehydratedQuery.promise.status !== existingQuery.promise.status;\n          const queryAlreadyQueued = hydrationQueue?.find(\n            (query) => query.queryHash === dehydratedQuery.queryHash\n          );\n          if (hydrationIsNewer && (!queryAlreadyQueued || dehydratedQuery.state.dataUpdatedAt > queryAlreadyQueued.state.dataUpdatedAt)) {\n            existingQueries.push(dehydratedQuery);\n          }\n        }\n      }\n      if (newQueries.length > 0) {\n        hydrate(client, { queries: newQueries }, optionsRef.current);\n      }\n      if (existingQueries.length > 0) {\n        setHydrationQueue(\n          (prev) => prev ? [...prev, ...existingQueries] : existingQueries\n        );\n      }\n    }\n  }, [client, hydrationQueue, state]);\n  React.useEffect(() => {\n    if (hydrationQueue) {\n      hydrate(client, { queries: hydrationQueue }, optionsRef.current);\n      setHydrationQueue(void 0);\n    }\n  }, [client, hydrationQueue]);\n  return children;\n};\nexport {\n  HydrationBoundary\n};\n//# sourceMappingURL=HydrationBoundary.js.map","import { ErrorAlert } from \"./ErrorAlert.js\";\n\nexport function ServerError({ error }: { error: unknown }) {\n  return <ErrorAlert error={error} />;\n}\n","/**\n * react-router v7.5.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport {\n  FrameworkContext,\n  RemixErrorBoundary,\n  RouterProvider,\n  createBrowserHistory,\n  createClientRoutes,\n  createClientRoutesWithHMRRevalidationOptOut,\n  createRouter,\n  decodeViaTurboStream,\n  deserializeErrors,\n  getPatchRoutesOnNavigationFunction,\n  getSingleFetchDataStrategy,\n  invariant,\n  mapRouteProperties,\n  matchRoutes,\n  shouldHydrateRouteLoader,\n  useFogOFWarDiscovery\n} from \"./chunk-KNED5TY2.mjs\";\n\n// lib/dom-export/dom-router-provider.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nfunction RouterProvider2(props) {\n  return /* @__PURE__ */ React.createElement(RouterProvider, { flushSync: ReactDOM.flushSync, ...props });\n}\n\n// lib/dom-export/hydrated-router.tsx\nimport * as React2 from \"react\";\nvar ssrInfo = null;\nvar router = null;\nfunction initSsrInfo() {\n  if (!ssrInfo && window.__reactRouterContext && window.__reactRouterManifest && window.__reactRouterRouteModules) {\n    if (window.__reactRouterManifest.sri === true) {\n      const importMap = document.querySelector(\"script[rr-importmap]\");\n      if (importMap?.textContent) {\n        try {\n          window.__reactRouterManifest.sri = JSON.parse(\n            importMap.textContent\n          ).integrity;\n        } catch (err) {\n          console.error(\"Failed to parse import map\", err);\n        }\n      }\n    }\n    ssrInfo = {\n      context: window.__reactRouterContext,\n      manifest: window.__reactRouterManifest,\n      routeModules: window.__reactRouterRouteModules,\n      stateDecodingPromise: void 0,\n      router: void 0,\n      routerInitialized: false\n    };\n  }\n}\nfunction createHydratedRouter({\n  unstable_getContext\n}) {\n  initSsrInfo();\n  if (!ssrInfo) {\n    throw new Error(\n      \"You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`\"\n    );\n  }\n  let localSsrInfo = ssrInfo;\n  if (!ssrInfo.stateDecodingPromise) {\n    let stream = ssrInfo.context.stream;\n    invariant(stream, \"No stream found for single fetch decoding\");\n    ssrInfo.context.stream = void 0;\n    ssrInfo.stateDecodingPromise = decodeViaTurboStream(stream, window).then((value) => {\n      ssrInfo.context.state = value.value;\n      localSsrInfo.stateDecodingPromise.value = true;\n    }).catch((e) => {\n      localSsrInfo.stateDecodingPromise.error = e;\n    });\n  }\n  if (ssrInfo.stateDecodingPromise.error) {\n    throw ssrInfo.stateDecodingPromise.error;\n  }\n  if (!ssrInfo.stateDecodingPromise.value) {\n    throw ssrInfo.stateDecodingPromise;\n  }\n  let routes = createClientRoutes(\n    ssrInfo.manifest.routes,\n    ssrInfo.routeModules,\n    ssrInfo.context.state,\n    ssrInfo.context.ssr,\n    ssrInfo.context.isSpaMode\n  );\n  let hydrationData = void 0;\n  let loaderData = ssrInfo.context.state.loaderData;\n  if (ssrInfo.context.isSpaMode) {\n    if (ssrInfo.manifest.routes.root?.hasLoader && loaderData && \"root\" in loaderData) {\n      hydrationData = {\n        loaderData: {\n          root: loaderData.root\n        }\n      };\n    }\n  } else {\n    hydrationData = {\n      ...ssrInfo.context.state,\n      loaderData: { ...loaderData }\n    };\n    let initialMatches = matchRoutes(\n      routes,\n      window.location,\n      window.__reactRouterContext?.basename\n    );\n    if (initialMatches) {\n      for (let match of initialMatches) {\n        let routeId = match.route.id;\n        let route = ssrInfo.routeModules[routeId];\n        let manifestRoute = ssrInfo.manifest.routes[routeId];\n        if (route && manifestRoute && shouldHydrateRouteLoader(\n          manifestRoute,\n          route,\n          ssrInfo.context.isSpaMode\n        ) && (route.HydrateFallback || !manifestRoute.hasLoader)) {\n          delete hydrationData.loaderData[routeId];\n        } else if (manifestRoute && !manifestRoute.hasLoader) {\n          hydrationData.loaderData[routeId] = null;\n        }\n      }\n    }\n    if (hydrationData && hydrationData.errors) {\n      hydrationData.errors = deserializeErrors(hydrationData.errors);\n    }\n  }\n  let router2 = createRouter({\n    routes,\n    history: createBrowserHistory(),\n    basename: ssrInfo.context.basename,\n    unstable_getContext,\n    hydrationData,\n    mapRouteProperties,\n    future: {\n      unstable_middleware: ssrInfo.context.future.unstable_middleware\n    },\n    dataStrategy: getSingleFetchDataStrategy(\n      ssrInfo.manifest,\n      ssrInfo.routeModules,\n      ssrInfo.context.ssr,\n      ssrInfo.context.basename,\n      () => router2\n    ),\n    patchRoutesOnNavigation: getPatchRoutesOnNavigationFunction(\n      ssrInfo.manifest,\n      ssrInfo.routeModules,\n      ssrInfo.context.ssr,\n      ssrInfo.context.isSpaMode,\n      ssrInfo.context.basename\n    )\n  });\n  ssrInfo.router = router2;\n  if (router2.state.initialized) {\n    ssrInfo.routerInitialized = true;\n    router2.initialize();\n  }\n  router2.createRoutesForHMR = /* spacer so ts-ignore does not affect the right hand of the assignment */\n  createClientRoutesWithHMRRevalidationOptOut;\n  window.__reactRouterDataRouter = router2;\n  return router2;\n}\nfunction HydratedRouter(props) {\n  if (!router) {\n    router = createHydratedRouter({\n      unstable_getContext: props.unstable_getContext\n    });\n  }\n  let [criticalCss, setCriticalCss] = React2.useState(\n    process.env.NODE_ENV === \"development\" ? ssrInfo?.context.criticalCss : void 0\n  );\n  if (process.env.NODE_ENV === \"development\") {\n    if (ssrInfo) {\n      window.__reactRouterClearCriticalCss = () => setCriticalCss(void 0);\n    }\n  }\n  let [location, setLocation] = React2.useState(router.state.location);\n  React2.useLayoutEffect(() => {\n    if (ssrInfo && ssrInfo.router && !ssrInfo.routerInitialized) {\n      ssrInfo.routerInitialized = true;\n      ssrInfo.router.initialize();\n    }\n  }, []);\n  React2.useLayoutEffect(() => {\n    if (ssrInfo && ssrInfo.router) {\n      return ssrInfo.router.subscribe((newState) => {\n        if (newState.location !== location) {\n          setLocation(newState.location);\n        }\n      });\n    }\n  }, [location]);\n  invariant(ssrInfo, \"ssrInfo unavailable for HydratedRouter\");\n  useFogOFWarDiscovery(\n    router,\n    ssrInfo.manifest,\n    ssrInfo.routeModules,\n    ssrInfo.context.ssr,\n    ssrInfo.context.isSpaMode\n  );\n  return (\n    // This fragment is important to ensure we match the <ServerRouter> JSX\n    // structure so that useId values hydrate correctly\n    /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\n      FrameworkContext.Provider,\n      {\n        value: {\n          manifest: ssrInfo.manifest,\n          routeModules: ssrInfo.routeModules,\n          future: ssrInfo.context.future,\n          criticalCss,\n          ssr: ssrInfo.context.ssr,\n          isSpaMode: ssrInfo.context.isSpaMode\n        }\n      },\n      /* @__PURE__ */ React2.createElement(RemixErrorBoundary, { location }, /* @__PURE__ */ React2.createElement(RouterProvider2, { router }))\n    ), /* @__PURE__ */ React2.createElement(React2.Fragment, null))\n  );\n}\nexport {\n  HydratedRouter,\n  RouterProvider2 as RouterProvider\n};\n","import {\n  Children,\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\n\nexport const StaggeredRenderContext = createContext({ stagger: false });\n\nconst StaggeredRender = ({ children }: { children: ReactNode[] }) => {\n  const { stagger } = useContext(StaggeredRenderContext);\n  const [renderAll, setRenderAll] = useState(!stagger);\n\n  useEffect(() => {\n    if (renderAll) {\n      return;\n    }\n\n    const idle = requestIdleCallback(() => {\n      setRenderAll(true);\n    });\n\n    return () => cancelIdleCallback(idle);\n  }, [renderAll]);\n\n  return !renderAll ? Children.toArray(children).slice(0, 3) : children;\n};\n\nexport default StaggeredRender;\n","import {\n  HydrationBoundary,\n  QueryClient,\n  QueryClientProvider,\n} from \"@tanstack/react-query\";\nimport { type HelmetData, HelmetProvider } from \"@zudoku/react-helmet-async\";\nimport { StrictMode } from \"react\";\nimport {\n  type createBrowserRouter,\n  type createStaticRouter,\n  type StaticHandlerContext,\n  StaticRouterProvider,\n} from \"react-router\";\nimport { RouterProvider } from \"react-router/dom\";\nimport { StaggeredRenderContext } from \"../plugins/openapi/StaggeredRender.js\";\nimport { BypassProtectedRoutesContext } from \"./context/BypassProtectedRoutesContext.js\";\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5,\n    },\n  },\n});\n\nconst Bootstrap = ({\n  router,\n  hydrate = false,\n}: {\n  hydrate?: boolean;\n  router: ReturnType<typeof createBrowserRouter>;\n}) => (\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <HydrationBoundary state={hydrate ? (window as any).DATA : undefined}>\n        <BypassProtectedRoutesContext value={false}>\n          <HelmetProvider>\n            <StaggeredRenderContext.Provider value={{ stagger: !hydrate }}>\n              <RouterProvider router={router} />\n            </StaggeredRenderContext.Provider>\n          </HelmetProvider>\n        </BypassProtectedRoutesContext>\n      </HydrationBoundary>\n    </QueryClientProvider>\n  </StrictMode>\n);\n\nconst BootstrapStatic = ({\n  router,\n  context,\n  queryClient,\n  helmetContext,\n  bypassProtection = false,\n}: {\n  helmetContext: HelmetData[\"context\"];\n  context: StaticHandlerContext;\n  queryClient: QueryClient;\n  router: ReturnType<typeof createStaticRouter>;\n  bypassProtection?: boolean;\n}) => (\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <HelmetProvider context={helmetContext}>\n        <BypassProtectedRoutesContext value={bypassProtection}>\n          <StaticRouterProvider router={router} context={context} />\n        </BypassProtectedRoutesContext>\n      </HelmetProvider>\n    </QueryClientProvider>\n  </StrictMode>\n);\n\nexport { Bootstrap, BootstrapStatic };\n","import { useEffect, useRef } from \"react\";\nimport { useLocation } from \"react-router\";\n\nexport const useScrollToTop = () => {\n  const location = useLocation();\n  const previousPath = useRef(location.pathname);\n\n  useEffect(() => {\n    const isNewPage = previousPath.current !== location.pathname;\n    const hasAnchor = location.hash !== \"\";\n\n    if (isNewPage && !hasAnchor) {\n      window.scrollTo(0, 0);\n    }\n\n    previousPath.current = location.pathname;\n  }, [location.pathname, location.hash]);\n};\n","import { ExternalLink as ExternalLinkIcon } from \"lucide-react\";\nimport type { CSSProperties, ReactNode } from \"react\";\nimport type { FooterSocialIcons } from \"../../config/validators/common.js\";\nimport { cn } from \"../util/cn.js\";\nimport { AnchorLink } from \"./AnchorLink.js\";\nimport { useZudoku } from \"./index.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nconst SocialIcon = ({\n  icon,\n}: {\n  icon: (typeof FooterSocialIcons)[number] | ReactNode;\n}) => {\n  if (typeof icon === \"string\") {\n    return (\n      <img\n        src={`https://cdn.simpleicons.org/${icon}/000000/ffffff`}\n        className=\"size-5\"\n        alt={icon}\n      />\n    );\n  }\n  return icon;\n};\n\nconst isExternalUrl = (href: string) => /^https?:/.test(href);\n\nexport const Footer = () => {\n  const { page } = useZudoku();\n  const footer = page?.footer;\n\n  if (!footer) return null;\n\n  return (\n    <footer className=\"border-t bg-background\">\n      <div className=\"mx-auto max-w-screen-2xl px-4 lg:px-8 py-8 pt-20\">\n        <div\n          className={cn(\"flex flex-row gap-8\", {\n            \"justify-center\": !footer.position || footer.position === \"center\",\n            \"justify-start\": footer.position === \"start\",\n            \"justify-end\": footer.position === \"end\",\n          })}\n        >\n          <Slotlet name=\"footer-before\" />\n          {footer.columns && (\n            <div\n              className=\"w-full md:max-w-screen-md grid grid-cols-[1fr_1fr] gap-8 md:grid-cols-[repeat(var(--columns),minmax(0,1fr))]\"\n              style={{ \"--columns\": footer.columns.length } as CSSProperties}\n            >\n              {footer.columns.map((column) => (\n                <div\n                  className={cn({\n                    \"justify-self-center\":\n                      !column.position || column.position === \"center\",\n                    \"justify-self-start\": column.position === \"start\",\n                    \"justify-self-end\": column.position === \"end\",\n                  })}\n                  key={column.title}\n                >\n                  <span className=\"text-sm font-semibold\">{column.title}</span>\n                  <ul className=\"mt-4 space-y-2\">\n                    {column.links.map((link, i) => {\n                      const className =\n                        \"flex flex-row gap-1 items-center text-sm text-muted-foreground hover:text-accent-foreground\";\n\n                      return (\n                        <li key={link.href + i}>\n                          {isExternalUrl(link.href) ? (\n                            <a\n                              href={link.href}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className={className}\n                            >\n                              <span>{link.label}</span>\n                              <ExternalLinkIcon size={12} />\n                            </a>\n                          ) : (\n                            <AnchorLink\n                              to={link.href + i}\n                              className={className}\n                            >\n                              <span>{link.label}</span>\n                            </AnchorLink>\n                          )}\n                        </li>\n                      );\n                    })}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          )}\n          <Slotlet name=\"footer-after\" />\n        </div>\n        <div\n          className={cn(\n            \"flex items-center justify-between\",\n            footer.columns && \"border-t mt-8 pt-8\",\n          )}\n        >\n          {footer.logo && (\n            <>\n              <img\n                src={footer.logo.src.light}\n                alt={footer.logo.alt}\n                className=\"w-8 dark:hidden\"\n                style={{ width: footer.logo.width }}\n              />\n              <img\n                src={footer.logo.src.dark}\n                alt={footer.logo.alt}\n                className=\"w-8 hidden dark:block\"\n                style={{ width: footer.logo.width }}\n              />\n            </>\n          )}\n          {footer.copyright && (\n            <p className=\"text-sm text-muted-foreground\">{footer.copyright}</p>\n          )}\n          <div className=\"flex items-center gap-2\">\n            {footer.social?.map((social) => (\n              <a\n                key={social.href}\n                href={social.href}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"w-auto gap-2 flex text-muted-foreground hover:text-accent-foreground\"\n              >\n                <SocialIcon icon={social.icon} />\n                {social.label}\n              </a>\n            ))}\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n","import { cn } from \"../util/cn.js\";\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Skeleton };\n","import { CircleXIcon } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { cn } from \"../util/cn.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\n\nconst COLOR_MAP = {\n  info: \"bg-blue-500\",\n  note: \"bg-gray-500\",\n  tip: \"bg-green-600\",\n  caution: \"bg-orange-500\",\n  danger: \"bg-rose-500\",\n} as const;\n\nexport const Banner = () => {\n  const { page } = useZudoku();\n  const [isBannerOpen, setIsBannerOpen] = useState(true);\n\n  if (!page?.banner || !isBannerOpen) {\n    return <style>{`:root { --banner-height: 0px; }`}</style>;\n  }\n\n  const mappedColor =\n    page.banner.color && page.banner.color in COLOR_MAP\n      ? COLOR_MAP[page.banner.color as keyof typeof COLOR_MAP]\n      : !page.banner.color\n        ? \"bg-primary\"\n        : undefined;\n\n  const style = !mappedColor ? { backgroundColor: page.banner.color } : {};\n\n  return (\n    <div\n      className={cn(\n        \"relative text-primary-foreground text-sm font-medium px-4 py-2 flex gap-2 items-center\",\n        mappedColor,\n      )}\n      data-pagefind-ignore=\"all\"\n      style={style}\n    >\n      <div className=\"w-full\">{page.banner.message}</div>\n      {page.banner.dismissible && (\n        <button\n          type=\"button\"\n          className=\"md:absolute md:right-4 -m-1.5 p-1.5 hover:bg-accent-foreground/10 rounded-md\"\n          onClick={() => setIsBannerOpen(false)}\n        >\n          <CircleXIcon size={16} />\n        </button>\n      )}\n    </div>\n  );\n};\n","import * as React from \"react\";\n\nconst ZudokuLogo = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 132 100\"\n    fill=\"none\"\n    {...props}\n  >\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M80.092 2.963A4.66 4.66 0 0 1 84.449 0h34.049c6.325 0 10.835 6.135 8.948 12.172L116.653 46.71a4.688 4.688 0 0 1-4.474 3.29H75c-5.178 0-7.813 4.687-9.375 9.374-1.288 3.864-11.07 28.963-14.467 37.662A4.66 4.66 0 0 1 46.801 100H12.75c-6.324 0-10.834-6.134-8.947-12.171l10.793-34.54A4.688 4.688 0 0 1 19.071 50H56.25c5.178 0 7.813-4.687 9.375-9.375 1.288-3.864 11.07-28.962 14.467-37.662Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      d=\"M83.54 57.813a7.813 7.813 0 0 0-7.316 5.07L63.888 95.777c-.766 2.043.744 4.222 2.926 4.222h36.828c5.211 0 9.875-3.232 11.704-8.11l8.821-23.522c1.915-5.107-1.861-10.555-7.315-10.555H83.539ZM29.17 0a12.5 12.5 0 0 0-11.704 8.111l-8.82 23.521c-1.915 5.107 1.86 10.556 7.315 10.556h33.312a7.813 7.813 0 0 0 7.316-5.07L68.924 4.223C69.691 2.18 68.18 0 65.998 0H29.17Z\"\n    />\n  </svg>\n);\n\nZudokuLogo.displayName = \"ZudokuLogo\";\n\nexport default ZudokuLogo;\n","import { ChevronRightIcon } from \"lucide-react\";\nimport { cn } from \"../../util/cn.js\";\nimport ZudokuLogo from \"./ZudokuLogo.js\";\n\nexport const PoweredByZudoku = ({ className }: { className?: string }) => (\n  <a\n    href=\"https://zudoku.dev\"\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    className={cn(\n      \"flex justify-between items-center w-full border border-transparent hover:border-border rounded-full hover:shadow-sm h-7 px-3 text-nowrap hover:bg-muted/80 transition-all\",\n      className,\n    )}\n  >\n    <div className=\"opacity-70 hover:opacity-100 transition-opacity gap-1.5 text-[11px] font-medium rounded-full h-7 flex items-center text-nowrap\">\n      <ZudokuLogo className=\"w-3.5 h-3.5 dark:fill-white\" />\n      powered by Zudoku\n    </div>\n    <div className=\"text-xs font-medium opacity-70 hover:text-foreground transition-colors cursor-pointer\">\n      <ChevronRightIcon size={12} absoluteStrokeWidth strokeWidth={1.5} />\n    </div>\n  </a>\n);\n","export function detectOS() {\n  const userAgent = navigator.userAgent.toLowerCase();\n\n  if (userAgent.includes(\"win\")) return \"Windows\";\n  if (userAgent.includes(\"mac\")) return \"macOS\";\n  if (userAgent.includes(\"linux\")) return \"Linux\";\n\n  return undefined;\n}\n","import { SearchIcon } from \"lucide-react\";\nimport { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { isSearchPlugin } from \"../core/plugins.js\";\nimport { detectOS } from \"../util/detectOS.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\n\nexport const Search = ({ className }: { className?: string }) => {\n  const ctx = useZudoku();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onClose = useCallback(() => setIsOpen(false), []);\n\n  useEffect(() => {\n    if (isOpen) {\n      return;\n    }\n\n    function onKeyDown(event: KeyboardEvent) {\n      if (event.key === \"k\" && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        setIsOpen(true);\n      }\n    }\n\n    window.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [isOpen, setIsOpen]);\n\n  const searchPlugin = ctx.plugins.find(isSearchPlugin);\n\n  if (!searchPlugin) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n        className=\"flex items-center border border-input hover:bg-accent hover:text-accent-foreground p-4 relative h-8 justify-start rounded-lg bg-background text-sm text-muted-foreground shadow-none w-full sm:w-72\"\n      >\n        <div className=\"flex items-center gap-2 flex-grow\">\n          <SearchIcon size={14} />\n          Search\n        </div>\n        <ClientOnly>\n          <KbdShortcut />\n        </ClientOnly>\n      </button>\n      <Suspense fallback={null}>\n        {searchPlugin.renderSearch({\n          isOpen,\n          onClose,\n        })}\n      </Suspense>\n    </div>\n  );\n};\n\nconst KbdShortcut = () => {\n  const os = detectOS();\n  return (\n    <kbd className=\"absolute right-[0.3rem] top-[0.35rem] hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[11px] font-medium opacity-100 sm:flex\">\n      {os === \"macOS\" ? \"\" : \"Ctrl\"}+K\n    </kbd>\n  );\n};\n","import { MoonIcon, SunIcon } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport { cn } from \"../util/cn.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\n\nexport const ThemeSwitch = () => {\n  const { resolvedTheme, setTheme } = useTheme();\n\n  return (\n    <ClientOnly fallback={<Button variant=\"ghost\" size=\"icon\" />}>\n      <button\n        type=\"button\"\n        className=\"flex rounded-full border p-0.5 gap-0.5 group\"\n        onClick={() => setTheme(resolvedTheme === \"dark\" ? \"light\" : \"dark\")}\n        aria-label={\n          resolvedTheme === \"dark\"\n            ? \"Switch to light mode\"\n            : \"Switch to dark mode\"\n        }\n      >\n        <div\n          className={cn(\n            \"border border-transparent rounded-full p-0.5 [&>svg>circle]:transition-colors [&>svg>path]:transition-transform transition-all [&>svg>path]:duration-200 [&>svg>circle]:duration-500 [&>svg>circle]:fill-transparent\",\n            resolvedTheme === \"light\" && \"border-border bg-muted\",\n            resolvedTheme === \"dark\" &&\n              \"group-hover:[&>svg>path]:scale-110 group-hover:[&>svg>path]:-translate-x-[1px] group-hover:[&>svg>path]:-translate-y-[1px] group-hover:rotate-[15deg] \",\n          )}\n        >\n          <SunIcon size={16} />\n        </div>\n        <div\n          className={cn(\n            \"border border-transparent rounded-full p-0.5 transition-transform transform-gpu duration-500\",\n            resolvedTheme === \"dark\" &&\n              \"border-border bg-muted [&>svg>path]:fill-white [&>svg>path]:stroke-transparent\",\n            resolvedTheme === \"light\" &&\n              \"group-hover:rotate-[-10deg] [&>svg>path]:stroke-currentColor\",\n          )}\n        >\n          <MoonIcon size={16} />\n        </div>\n      </button>\n    </ClientOnly>\n  );\n};\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/extends';\nimport * as React from 'react';\nimport { useEffect, useRef, useCallback, useState } from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\n\nvar clamp = function clamp(num, lower, upper) {\n  num = num <= upper ? num : upper;\n  num = num >= lower ? num : lower;\n  return num;\n};\n\nvar createQueue = function createQueue() {\n  var isRunning = false;\n  var pending = [];\n  var _next = function next() {\n    isRunning = true;\n    var cb = pending.shift();\n    if (cb) {\n      return cb(_next);\n    }\n    isRunning = false;\n  };\n  var clear = function clear() {\n    isRunning = false;\n    pending = [];\n  };\n  var enqueue = function enqueue(cb) {\n    pending.push(cb);\n    if (!isRunning && pending.length === 1) {\n      _next();\n    }\n  };\n  return {\n    clear: clear,\n    enqueue: enqueue\n  };\n};\n\nvar createTimeout = function createTimeout() {\n  var handle;\n  var cancel = function cancel() {\n    if (handle) {\n      window.cancelAnimationFrame(handle);\n    }\n  };\n  var schedule = function schedule(callback, delay) {\n    var deltaTime;\n    var start;\n    var _frame = function frame(time) {\n      start = start || time;\n      deltaTime = time - start;\n      if (deltaTime > delay) {\n        callback();\n        return;\n      }\n      handle = window.requestAnimationFrame(_frame);\n    };\n    handle = window.requestAnimationFrame(_frame);\n  };\n  return {\n    cancel: cancel,\n    schedule: schedule\n  };\n};\n\nvar increment = function increment(progress) {\n  var amount = 0;\n  if (progress >= 0 && progress < 0.2) {\n    amount = 0.1;\n  } else if (progress >= 0.2 && progress < 0.5) {\n    amount = 0.04;\n  } else if (progress >= 0.5 && progress < 0.8) {\n    amount = 0.02;\n  } else if (progress >= 0.8 && progress < 0.99) {\n    amount = 0.005;\n  }\n  return clamp(progress + amount, 0, 0.994);\n};\n\n// Hat-tip:\n// https://github.com/streamich/react-use/blob/master/src/useEffectOnce.ts.\n//\n// `react-use` appears to be unmaintained, so moving the required code into\n// this project for now.\nvar useEffectOnce = function useEffectOnce(effect) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(effect, []);\n};\n\nvar incrementParameter = function incrementParameter(num) {\n  return ++num % 1000000;\n};\nvar useUpdate = function useUpdate() {\n  var _useState = useState(0),\n    setState = _useState[1];\n  return useCallback(function () {\n    return setState(incrementParameter);\n  }, []);\n};\nvar useGetSetState = function useGetSetState(/* istanbul ignore next */\ninitialState) {\n  if (initialState === undefined) {\n    initialState = {};\n  }\n  var update = useUpdate();\n  var state = useRef(_extends({}, initialState));\n  var get = useCallback(function () {\n    return state.current;\n  }, []);\n  var set = useCallback(function (patch) {\n    if (!patch) {\n      return;\n    }\n    Object.assign(state.current, patch);\n    update();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return [get, set];\n};\n\n// Hat-tip:\n// https://github.com/streamich/react-use/blob/master/src/useUpdateEffect.ts.\n//\n// `react-use` appears to be unmaintained, so moving the required code into\n// this project for now.\nvar useFirstMountState = function useFirstMountState() {\n  var isFirst = useRef(true);\n  if (isFirst.current) {\n    isFirst.current = false;\n    return true;\n  }\n  return isFirst.current;\n};\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var isFirstMount = useFirstMountState();\n  useEffect(function () {\n    if (!isFirstMount) {\n      return effect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n};\n\n/* istanbul ignore next */\nvar noop = function noop() {\n  return undefined;\n};\nvar initialState = {\n  isFinished: true,\n  progress: 0,\n  sideEffect: noop\n};\nvar useNProgress = function useNProgress(_temp) {\n  var _ref = _temp === undefined ? {} : _temp,\n    _ref$animationDuratio = _ref.animationDuration,\n    animationDuration = _ref$animationDuratio === undefined ? 200 : _ref$animationDuratio,\n    _ref$incrementDuratio = _ref.incrementDuration,\n    incrementDuration = _ref$incrementDuratio === undefined ? 800 : _ref$incrementDuratio,\n    _ref$isAnimating = _ref.isAnimating,\n    isAnimating = _ref$isAnimating === undefined ? false : _ref$isAnimating,\n    _ref$minimum = _ref.minimum,\n    minimum = _ref$minimum === undefined ? 0.08 : _ref$minimum;\n  var _useGetSetState = useGetSetState(initialState),\n    get = _useGetSetState[0],\n    setState = _useGetSetState[1];\n  var queue = useRef(null);\n  var timeout = useRef(null);\n  useEffectOnce(function () {\n    queue.current = createQueue();\n    timeout.current = createTimeout();\n  });\n  var cleanup = useCallback(function () {\n    var _timeout$current, _queue$current;\n    (_timeout$current = timeout.current) == null || _timeout$current.cancel();\n    (_queue$current = queue.current) == null || _queue$current.clear();\n  }, []);\n  var set = useCallback(function (n) {\n    var _queue$current4;\n    n = clamp(n, minimum, 1);\n    if (n === 1) {\n      var _queue$current2, _queue$current3;\n      cleanup();\n      (_queue$current2 = queue.current) == null || _queue$current2.enqueue(function (next) {\n        setState({\n          progress: n,\n          sideEffect: function sideEffect() {\n            var _timeout$current2;\n            return (_timeout$current2 = timeout.current) == null ? undefined : _timeout$current2.schedule(next, animationDuration);\n          }\n        });\n      });\n      (_queue$current3 = queue.current) == null || _queue$current3.enqueue(function () {\n        setState({\n          isFinished: true,\n          sideEffect: cleanup\n        });\n      });\n      return;\n    }\n    (_queue$current4 = queue.current) == null || _queue$current4.enqueue(function (next) {\n      setState({\n        isFinished: false,\n        progress: n,\n        sideEffect: function sideEffect() {\n          var _timeout$current3;\n          return (_timeout$current3 = timeout.current) == null ? undefined : _timeout$current3.schedule(next, animationDuration);\n        }\n      });\n    });\n  }, [animationDuration, cleanup, minimum, queue, setState, timeout]);\n  var trickle = useCallback(function () {\n    set(increment(get().progress));\n  }, [get, set]);\n  var start = useCallback(function () {\n    var _work = function work() {\n      var _queue$current5;\n      trickle();\n      (_queue$current5 = queue.current) == null || _queue$current5.enqueue(function (next) {\n        var _timeout$current4;\n        (_timeout$current4 = timeout.current) == null || _timeout$current4.schedule(function () {\n          _work();\n          next();\n        }, incrementDuration);\n      });\n    };\n    _work();\n  }, [incrementDuration, queue, timeout, trickle]);\n  var savedTrickle = useRef(noop);\n  var sideEffect = get().sideEffect;\n  useEffect(function () {\n    savedTrickle.current = trickle;\n  });\n  useEffectOnce(function () {\n    if (isAnimating) {\n      start();\n    }\n    return cleanup;\n  });\n  useUpdateEffect(function () {\n    get().sideEffect();\n  }, [get, sideEffect]);\n  useUpdateEffect(function () {\n    if (!isAnimating) {\n      set(1);\n    } else {\n      setState(_extends({}, initialState, {\n        sideEffect: start\n      }));\n    }\n  }, [isAnimating, set, setState, start]);\n  return {\n    animationDuration: animationDuration,\n    isFinished: get().isFinished,\n    progress: get().progress\n  };\n};\n\nvar _excluded = [\"children\"];\nvar NProgress = function NProgress(_ref) {\n  var children = _ref.children,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var renderProps = useNProgress(restProps);\n  return children(renderProps);\n};\n\nfunction withNProgress(BaseComponent) {\n  var WithNProgress = function WithNProgress(props) {\n    var hookProps = useNProgress(props);\n    return /*#__PURE__*/React.createElement(BaseComponent, _extends({}, props, hookProps));\n  };\n  hoistNonReactStatics(WithNProgress, BaseComponent);\n  return WithNProgress;\n}\n\nexport { NProgress, useNProgress, withNProgress };\n//# sourceMappingURL=react-nprogress.esm.js.map\n","import { useNProgress } from \"@tanem/react-nprogress\";\nimport { cx } from \"class-variance-authority\";\nimport { Suspense, useEffect, useState } from \"react\";\nimport { NavLink, useNavigation } from \"react-router\";\nimport type { TopNavigationItem } from \"../../config/validators/common.js\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { useCurrentNavigation, useZudoku } from \"./context/ZudokuContext.js\";\nimport { traverseSidebar } from \"./navigation/utils.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nexport const isHiddenItem =\n  (isAuthenticated?: boolean) =>\n  (item: { display?: \"auth\" | \"anon\" | \"always\" | \"hide\" }): boolean => {\n    if (item.display === \"hide\") return false;\n    return (\n      (item.display === \"auth\" && isAuthenticated) ||\n      (item.display === \"anon\" && !isAuthenticated) ||\n      !item.display ||\n      item.display === \"always\"\n    );\n  };\n\nexport const PageProgress = () => {\n  const navigation = useNavigation();\n  const isNavigating = navigation.state === \"loading\";\n  // delay the animation to avoid flickering\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setIsAnimating(isNavigating), 100);\n\n    return () => clearTimeout(timer);\n  }, [isNavigating]);\n\n  const { isFinished, progress } = useNProgress({ isAnimating });\n\n  return (\n    <div\n      className=\"absolute w-0 left-0 right-0 bottom-[-1px] h-[2px] bg-primary transition-all duration-300 ease-in-out\"\n      style={{\n        opacity: isFinished ? 0 : 1,\n        width: isFinished ? 0 : `${progress * 100}%`,\n      }}\n    />\n  );\n};\n\nexport const TopNavigation = () => {\n  const { topNavigation } = useZudoku();\n  const { isAuthenticated } = useAuth();\n\n  const filteredItems = topNavigation.filter(isHiddenItem(isAuthenticated));\n\n  if (filteredItems.length === 0) {\n    return <style>{`:root { --top-nav-height: 0px; }`}</style>;\n  }\n\n  return (\n    <Suspense>\n      <div className=\"items-center justify-between px-8 h-[--top-nav-height] hidden lg:flex text-sm relative\">\n        <nav className=\"text-sm\">\n          <ul className=\"flex flex-row items-center gap-8\">\n            {filteredItems.map((item) => (\n              <li key={item.id}>\n                <TopNavItem {...item} />\n              </li>\n            ))}\n          </ul>\n        </nav>\n        <Slotlet name=\"top-navigation-side\" />\n      </div>\n      <PageProgress />\n    </Suspense>\n  );\n};\n\nexport const TopNavItem = ({\n  id,\n  label,\n  default: defaultLink,\n}: TopNavigationItem) => {\n  const { sidebars } = useZudoku();\n  const currentSidebar = sidebars[id];\n  const currentNav = useCurrentNavigation();\n  const isNavigating = Boolean(useNavigation().location);\n  const isActive = currentNav.topNavItem?.id === id && !isNavigating;\n\n  // TODO: This is a bit of a hack to get the first link in the sidebar\n  // We should really process this when we load the config so we can validate\n  // that the sidebar is actually set. In this case we just fall back to linking\n  // to the id if we can't resolve a sidebar.\n  const first =\n    defaultLink ??\n    (currentSidebar\n      ? traverseSidebar(currentSidebar, (item) => {\n          if (item.type === \"doc\") return joinUrl(item.id);\n        })\n      : joinUrl(id)) ??\n    joinUrl(id);\n\n  return (\n    // We don't use isActive here because it has to be inside the sidebar,\n    // the top nav id doesn't necessarily start with the sidebar id\n    <NavLink\n      className={({ isPending }) =>\n        cx(\n          \"block lg:py-3.5 font-medium -mb-px\",\n          isActive || isPending\n            ? \"border-primary text-foreground\"\n            : \"border-transparent text-foreground/75 hover:text-foreground hover:border-accent-foreground/25\",\n        )\n      }\n      to={first}\n    >\n      {label}\n    </NavLink>\n  );\n};\n","import { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport { MenuIcon } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport {\n  Drawer,\n  DrawerContent,\n  DrawerTitle,\n  DrawerTrigger,\n} from \"../ui/Drawer.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { PoweredByZudoku } from \"./navigation/PoweredByZudoku.js\";\nimport { Search } from \"./Search.js\";\nimport { ThemeSwitch } from \"./ThemeSwitch.js\";\nimport { isHiddenItem, PageProgress, TopNavItem } from \"./TopNavigation.js\";\n\nexport const MobileTopNavigation = () => {\n  const { topNavigation, options } = useZudoku();\n  const { isAuthenticated } = useAuth();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n\n  return (\n    <Drawer\n      direction=\"right\"\n      open={drawerOpen}\n      onOpenChange={(open) => setDrawerOpen(open)}\n    >\n      <div className=\"flex lg:hidden justify-self-end\">\n        <DrawerTrigger className=\"lg:hidden\">\n          <MenuIcon size={22} />\n        </DrawerTrigger>\n        <PageProgress />\n      </div>\n      <DrawerContent\n        className=\"lg:hidden h-[100dvh] right-0 left-auto w-[320px] rounded-none\"\n        aria-describedby={undefined}\n      >\n        <div className=\"p-4 overflow-y-auto overscroll-none h-full flex flex-col justify-between\">\n          <div>\n            <VisuallyHidden>\n              <DrawerTitle>Navigation</DrawerTitle>\n            </VisuallyHidden>\n            <Search className=\"flex p-4\" />\n            <ul className=\"flex flex-col items-center gap-4 p-4\">\n              <li>\n                <ThemeSwitch />\n              </li>\n              {topNavigation\n                .filter(isHiddenItem(isAuthenticated))\n                .map((item) => (\n                  <li key={item.label}>\n                    <button type=\"button\" onClick={() => setDrawerOpen(false)}>\n                      <TopNavItem {...item} />\n                    </button>\n                  </li>\n                ))}\n            </ul>\n          </div>\n          {options.page?.showPoweredBy !== false && (\n            <PoweredByZudoku className=\"flex-grow-0 justify-center gap-1\" />\n          )}\n        </div>\n      </DrawerContent>\n    </Drawer>\n  );\n};\n","import { memo } from \"react\";\nimport { Link } from \"react-router\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport { Skeleton } from \"zudoku/ui/Skeleton.js\";\nimport { useAuth } from \"../authentication/hook.js\";\nimport {\n  isProfileMenuPlugin,\n  type ProfileNavigationItem,\n} from \"../core/plugins.js\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from \"../ui/DropdownMenu.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { Banner } from \"./Banner.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { MobileTopNavigation } from \"./MobileTopNavigation.js\";\nimport { Search } from \"./Search.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\nimport { ThemeSwitch } from \"./ThemeSwitch.js\";\nimport { TopNavigation } from \"./TopNavigation.js\";\n\nconst RecursiveMenu = ({ item }: { item: ProfileNavigationItem }) => {\n  return item.children ? (\n    <DropdownMenuSub key={item.label}>\n      <DropdownMenuSubTrigger>{item.label}</DropdownMenuSubTrigger>\n      <DropdownMenuPortal>\n        <DropdownMenuSubContent>\n          {item.children.map((item, i) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <RecursiveMenu key={i} item={item} />\n          ))}\n        </DropdownMenuSubContent>\n      </DropdownMenuPortal>\n    </DropdownMenuSub>\n  ) : (\n    <Link to={item.path ?? \"\"}>\n      <DropdownMenuItem key={item.label} className=\"flex gap-2\">\n        {item.icon && (\n          <item.icon size={16} strokeWidth={1} absoluteStrokeWidth />\n        )}\n        {item.label}\n      </DropdownMenuItem>\n    </Link>\n  );\n};\n\nexport const Header = memo(function HeaderInner() {\n  const auth = useAuth();\n  const { isAuthenticated, profile, isAuthEnabled } = useAuth();\n  const context = useZudoku();\n  const { page, plugins } = context;\n\n  const accountItems = plugins\n    .filter((p) => isProfileMenuPlugin(p))\n    .flatMap((p) => p.getProfileMenuItems(context))\n    .sort((i) => i.weight ?? 0);\n\n  return (\n    <header className=\"sticky lg:top-0 z-10 bg-background/80 backdrop-blur w-full\">\n      <Banner />\n      <div className=\"border-b\">\n        <div className=\"max-w-screen-2xl mx-auto flex relative items-center justify-between px-4 lg:px-8 h-[--top-header-height] border-transparent\">\n          <div className=\"flex\">\n            <Link to=\"/\">\n              <div className=\"flex items-center gap-3.5\">\n                {page?.logo && (\n                  <>\n                    <img\n                      src={\n                        /https?:\\/\\//.test(page.logo.src.light)\n                          ? page.logo.src.light\n                          : joinUrl(\n                              import.meta.env.BASE_URL,\n                              page.logo.src.light,\n                            )\n                      }\n                      alt={page.logo.alt ?? page.pageTitle}\n                      style={{ width: page.logo.width }}\n                      className=\"h-10 dark:hidden\"\n                      loading=\"lazy\"\n                    />\n                    <img\n                      src={\n                        /https?:\\/\\//.test(page.logo.src.dark)\n                          ? page.logo.src.dark\n                          : joinUrl(\n                              import.meta.env.BASE_URL,\n                              page.logo.src.dark,\n                            )\n                      }\n                      alt={page.logo.alt ?? page.pageTitle}\n                      style={{ width: page.logo.width }}\n                      className=\"h-10 hidden dark:block\"\n                      loading=\"lazy\"\n                    />\n                  </>\n                )}\n                <span className=\"font-bold text-2xl text-foreground/85 tracking-wide\">\n                  {page?.pageTitle}\n                </span>\n              </div>\n            </Link>\n          </div>\n\n          <div className=\"absolute inset-x-0 justify-center items-center hidden lg:flex w-full pointer-events-none\">\n            <Search className=\"pointer-events-auto\" />\n          </div>\n\n          <div className=\"flex items-center gap-8\">\n            <MobileTopNavigation />\n            <div className=\"hidden lg:flex items-center justify-self-end text-sm gap-2\">\n              <Slotlet name=\"head-navigation-start\" />\n              {isAuthEnabled && (\n                <ClientOnly\n                  fallback={<Skeleton className=\"rounded h-5 w-24 mr-4\" />}\n                >\n                  {!isAuthenticated ? (\n                    <Button variant=\"ghost\" onClick={() => auth.login()}>\n                      Login\n                    </Button>\n                  ) : (\n                    Object.values(accountItems).length > 0 && (\n                      <DropdownMenu modal={false}>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\">\n                            {profile?.name ? `${profile.name}` : \"My Account\"}\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent className=\"w-56\">\n                          <DropdownMenuLabel>\n                            {profile?.name ? `${profile.name}` : \"My Account\"}\n                            {profile?.email && (\n                              <div className=\"font-normal text-muted-foreground\">\n                                {profile.email}\n                              </div>\n                            )}\n                          </DropdownMenuLabel>\n                          {accountItems.filter((i) => i.category === \"top\")\n                            .length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter((i) => i.category === \"top\")\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                          {accountItems.filter(\n                            (i) => !i.category || i.category === \"middle\",\n                          ).length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter(\n                              (i) => !i.category || i.category === \"middle\",\n                            )\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                          {accountItems.filter((i) => i.category === \"bottom\")\n                            .length > 0 && <DropdownMenuSeparator />}\n                          {accountItems\n                            .filter((i) => i.category === \"bottom\")\n                            .map((i) => (\n                              <RecursiveMenu key={i.label} item={i} />\n                            ))}\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    )\n                  )}\n                </ClientOnly>\n              )}\n              <Slotlet name=\"head-navigation-end\" />\n              <ThemeSwitch />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"border-b hidden lg:block\">\n        <div className=\"max-w-screen-2xl mx-auto border-transparent\">\n          <Slotlet name=\"top-navigation-before\" />\n          <TopNavigation />\n          <Slotlet name=\"top-navigation-after\" />\n        </div>\n      </div>\n    </header>\n  );\n});\n","import * as React from \"react\";\nimport { Drawer as DrawerPrimitive } from \"vaul\";\nimport { cn } from \"../util/cn.js\";\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n);\nDrawer.displayName = \"Drawer\";\n\nconst DrawerTrigger: typeof DrawerPrimitive.Trigger = DrawerPrimitive.Trigger;\n\nconst DrawerPortal: typeof DrawerPrimitive.Portal = DrawerPrimitive.Portal;\n\nconst DrawerClose: typeof DrawerPrimitive.Close = DrawerPrimitive.Close;\n\nconst DrawerOverlay: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Overlay>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n));\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\n\nconst DrawerContent: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content> & {\n    hideBar?: boolean;\n  } & React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Content>>\n> = React.forwardRef(\n  ({ className, children, hideBar = true, ...props }, ref) => (\n    <DrawerPortal>\n      <DrawerOverlay />\n      <DrawerPrimitive.Content\n        ref={ref}\n        className={cn(\n          \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n          className,\n        )}\n        {...props}\n      >\n        {!hideBar && (\n          <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n        )}\n        {children}\n      </DrawerPrimitive.Content>\n    </DrawerPortal>\n  ),\n);\n\nDrawerContent.displayName = \"DrawerContent\";\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n);\nDrawerHeader.displayName = \"DrawerHeader\";\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n);\nDrawerFooter.displayName = \"DrawerFooter\";\n\nconst DrawerTitle: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Title>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className,\n    )}\n    {...props}\n  />\n));\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\n\nconst DrawerDescription: React.ForwardRefExoticComponent<\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description> &\n    React.RefAttributes<React.ElementRef<typeof DrawerPrimitive.Description>>\n> = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\n\nexport {\n  Drawer,\n  DrawerClose,\n  DrawerContent,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerOverlay,\n  DrawerPortal,\n  DrawerTitle,\n  DrawerTrigger,\n};\n","import { useEffect, useRef, type PropsWithChildren } from \"react\";\nimport { cn } from \"../../util/cn.js\";\nimport { scrollIntoViewIfNeeded } from \"../../util/scrollIntoViewIfNeeded.js\";\nimport { useZudoku } from \"../context/ZudokuContext.js\";\nimport { PoweredByZudoku } from \"./PoweredByZudoku.js\";\n\nexport const SidebarWrapper = ({\n  children,\n  className,\n}: PropsWithChildren<{\n  className?: string;\n}>) => {\n  const { options } = useZudoku();\n  const navRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const active = navRef.current?.querySelector('[aria-current=\"page\"]');\n    scrollIntoViewIfNeeded(active ?? null);\n  }, []);\n\n  return (\n    <div className=\"grid sticky top-[--header-height] lg:h-[calc(100vh-var(--header-height))] grid-rows-[1fr_min-content] border-r\">\n      <nav\n        ref={navRef}\n        className={cn(\n          \"hidden max-w-[calc(var(--side-nav-width)+var(--padding-nav-item))] lg:flex scrollbar flex-col overflow-y-auto shrink-0 text-sm pe-3 ps-4 lg:ps-8\",\n          \"-mx-[--padding-nav-item] pb-[8vh] pt-[--padding-content-top] scroll-pt-2 gap-1\",\n          // Revert the padding/margin on the first child\n          \"-mt-2.5\",\n          className,\n        )}\n        style={{\n          maskImage: `linear-gradient(180deg, transparent 1%, rgba(0, 0, 0, 1) 20px, rgba(0, 0, 0, 1) 90%, transparent 99%)`,\n        }}\n      >\n        {children}\n      </nav>\n\n      <div className=\"bg-background border-t p-2 mx-5  gap-2 items-center mt-2 drop-shadow-[0_-3px_1px_rgba(0,0,0,0.015)] hidden lg:[&:has(>_:nth-child(1):last-child)]:flex\">\n        {options.page?.showPoweredBy !== false && <PoweredByZudoku />}\n      </div>\n    </div>\n  );\n};\n\nSidebarWrapper.displayName = \"SidebarWrapper\";\n","import { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport type { SidebarItem as SidebarItemType } from \"../../../config/validators/SidebarSchema.js\";\nimport { DrawerContent, DrawerTitle } from \"../../ui/Drawer.js\";\nimport { Slotlet } from \"../SlotletProvider.js\";\nimport { SidebarItem } from \"./SidebarItem.js\";\nimport { SidebarWrapper } from \"./SidebarWrapper.js\";\n\nexport const Sidebar = ({\n  onRequestClose,\n  sidebar,\n}: {\n  onRequestClose?: () => void;\n  sidebar: SidebarItemType[];\n}) => (\n  <>\n    <SidebarWrapper>\n      <Slotlet name=\"zudoku-before-navigation\" />\n      {sidebar.map((item) => (\n        <SidebarItem\n          key={\n            (\"id\" in item ? item.id : \"\") +\n            (\"href\" in item ? item.href : \"\") +\n            item.label\n          }\n          item={item}\n        />\n      ))}\n      <Slotlet name=\"zudoku-after-navigation\" />\n    </SidebarWrapper>\n    <DrawerContent\n      className=\"lg:hidden h-[100dvh] left-0 w-[320px] rounded-none\"\n      aria-describedby={undefined}\n    >\n      <div className=\"p-4 overflow-y-auto overscroll-none\">\n        <VisuallyHidden>\n          <DrawerTitle>Sidebar</DrawerTitle>\n        </VisuallyHidden>\n        {sidebar.map((item) => (\n          <SidebarItem\n            key={item.label}\n            item={item}\n            onRequestClose={onRequestClose}\n          />\n        ))}\n      </div>\n    </DrawerContent>\n  </>\n);\n","import { PanelLeftIcon } from \"lucide-react\";\nimport { type PropsWithChildren, useState } from \"react\";\nimport { useNavigation } from \"react-router\";\nimport { Drawer, DrawerTrigger } from \"zudoku/ui/Drawer.js\";\nimport { cn } from \"../util/cn.js\";\nimport { useCurrentNavigation } from \"./context/ZudokuContext.js\";\nimport { Sidebar } from \"./navigation/Sidebar.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\n\nexport const Main = ({ children }: PropsWithChildren) => {\n  const [isDrawerOpen, setDrawerOpen] = useState(false);\n  const { sidebar } = useCurrentNavigation();\n  const hasSidebar = sidebar.length > 0;\n  const isNavigating = useNavigation().state === \"loading\";\n\n  return (\n    <Drawer\n      direction=\"left\"\n      open={isDrawerOpen}\n      onOpenChange={(open) => setDrawerOpen(open)}\n    >\n      {hasSidebar && (\n        <Sidebar\n          onRequestClose={() => setDrawerOpen(false)}\n          sidebar={sidebar}\n        />\n      )}\n      {hasSidebar && (\n        <div className=\"lg:hidden -mx-4 px-4 py-2 sticky bg-background/80 backdrop-blur z-10 top-0 left-0 right-0 border-b\">\n          <DrawerTrigger className=\"flex items-center gap-2 px-4\">\n            <PanelLeftIcon size={16} strokeWidth={1.5} />\n            <span className=\"text-sm\">Menu</span>\n          </DrawerTrigger>\n        </div>\n      )}\n      <main\n        data-pagefind-body\n        className={cn(\n          \"px-4 lg:pe-8 lg:px-8\",\n          !hasSidebar && \"col-span-full\",\n          isNavigating && \"animate-pulse\",\n        )}\n      >\n        <Slotlet name=\"zudoku-before-content\" />\n        {children}\n        <Slotlet name=\"zudoku-after-content\" />\n      </main>\n    </Drawer>\n  );\n};\n","import { Helmet } from \"@zudoku/react-helmet-async\";\nimport { Suspense, useEffect, type ReactNode } from \"react\";\nimport { Outlet, useLocation } from \"react-router\";\nimport { cn } from \"../util/cn.js\";\nimport { joinUrl } from \"../util/joinUrl.js\";\nimport { useScrollToAnchor } from \"../util/useScrollToAnchor.js\";\nimport { useScrollToTop } from \"../util/useScrollToTop.js\";\nimport { useZudoku } from \"./context/ZudokuContext.js\";\nimport { Footer } from \"./Footer.js\";\nimport { Header } from \"./Header.js\";\nimport { Main } from \"./Main.js\";\nimport { Slotlet } from \"./SlotletProvider.js\";\nimport { Spinner } from \"./Spinner.js\";\n\nconst LoadingFallback = () => (\n  <main className=\"col-span-full row-span-full grid place-items-center\">\n    <Spinner />\n  </main>\n);\n\nexport const Layout = ({ children }: { children?: ReactNode }) => {\n  const { meta, authentication, options } = useZudoku();\n  const location = useLocation();\n\n  useScrollToAnchor();\n  useScrollToTop();\n\n  useEffect(() => {\n    // Initialize the authentication plugin\n    authentication?.onPageLoad?.();\n  }, [authentication]);\n\n  return (\n    <>\n      {import.meta.env.MODE === \"standalone\" && (\n        <style>{`:root { --top-nav-height: 0px; }`}</style>\n      )}\n      <Helmet titleTemplate={meta?.title}>\n        {options.canonicalUrlOrigin && (\n          <link\n            rel=\"canonical\"\n            href={joinUrl(\n              options.canonicalUrlOrigin,\n              options.basePath,\n              location.pathname,\n            )}\n          />\n        )}\n        {meta?.description && (\n          <meta name=\"description\" content={meta.description} />\n        )}\n        {meta?.favicon && <link rel=\"icon\" href={meta.favicon} />}\n      </Helmet>\n      <Slotlet name=\"layout-before-head\" />\n      <Header />\n      <Slotlet name=\"layout-after-head\" />\n\n      <div\n        className={cn(\n          \"grid max-w-screen-2xl w-full lg:mx-auto\",\n          \"has-[:only-child]:grid-rows-1 grid-rows-[0_min-content_1fr] lg:grid-rows-[min-content_1fr]\",\n          \"grid-cols-1 lg:grid-cols-[var(--side-nav-width)_1fr]\",\n        )}\n      >\n        <Suspense fallback={<LoadingFallback />}>\n          <Main>{children ?? <Outlet />}</Main>\n        </Suspense>\n      </div>\n      <Footer />\n    </>\n  );\n};\n","import type { ReactNode } from \"react\";\nimport { CategoryHeading } from \"./CategoryHeading.js\";\nimport { Heading } from \"./Heading.js\";\nimport { ProseClasses } from \"./Markdown.js\";\n\nexport const ErrorPage = ({\n  title = \"An error occurred\",\n  message,\n  category,\n}: {\n  title?: ReactNode;\n  message?: ReactNode;\n  category?: ReactNode;\n}) => {\n  return (\n    <div className={ProseClasses + \" h-full pt-[--padding-content-top]\"}>\n      {category && <CategoryHeading>{category}</CategoryHeading>}\n      {title && (\n        <Heading level={1} className=\"flex gap-3.5 items-center\">\n          {title}\n        </Heading>\n      )}\n      <p>{message}</p>\n    </div>\n  );\n};\n","import type { ReactNode } from \"react\";\nimport { ErrorPage } from \"./ErrorPage.js\";\n\ntype StatusPageProps = {\n  statusCode: number;\n  message?: ReactNode;\n};\n\nconst getDefaultContent = (\n  statusCode: number,\n): { title: string; message: string } => {\n  switch (statusCode) {\n    case 400:\n      return {\n        title: \"Bad Request\",\n        message:\n          \"The request could not be understood by the server due to malformed syntax.\",\n      };\n    case 403:\n      return {\n        title: \"Forbidden\",\n        message: \"You don't have permission to access this resource.\",\n      };\n    case 404:\n      return {\n        title: \"Not Found\",\n        message: \"The requested resource could not be found.\",\n      };\n    case 405:\n      return {\n        title: \"Method Not Allowed\",\n        message:\n          \"The request method is not supported for the requested resource.\",\n      };\n    case 414:\n      return {\n        title: \"Request URI Too Large\",\n        message: \"The request URI is too large.\",\n      };\n    case 416:\n      return {\n        title: \"Range Not Satisfiable\",\n        message: \"The server cannot satisfy the request range.\",\n      };\n    case 500:\n      return {\n        title: \"Internal Server Error\",\n        message: \"An unexpected error occurred while processing your request.\",\n      };\n    case 501:\n      return {\n        title: \"Not Implemented\",\n        message:\n          \"The server does not support the functionality required to fulfill the request.\",\n      };\n    case 502:\n      return {\n        title: \"Bad Gateway\",\n        message:\n          \"The server received an invalid response from the upstream server.\",\n      };\n    case 503:\n      return {\n        title: \"Service Unavailable\",\n        message: \"The server is temporarily unable to handle the request.\",\n      };\n    case 504:\n      return {\n        title: \"Gateway Timeout\",\n        message:\n          \"The server did not receive a timely response from the upstream server.\",\n      };\n    default:\n      return {\n        title: \"An error occurred\",\n        message: \"Something went wrong while processing your request.\",\n      };\n  }\n};\n\nexport const StatusPage = ({ statusCode, message }: StatusPageProps) => {\n  const defaultContent = getDefaultContent(statusCode);\n\n  return (\n    <ErrorPage\n      title={defaultContent.title}\n      message={message ?? defaultContent.message}\n      category={statusCode}\n    />\n  );\n};\n","'use client';\nimport { createContext, Component, createElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n","export let createNanoEvents = () => ({\n  emit(event, ...args) {\n    for (\n      let callbacks = this.events[event] || [],\n        i = 0,\n        length = callbacks.length;\n      i < length;\n      i++\n    ) {\n      callbacks[i](...args)\n    }\n  },\n  events: {},\n  on(event, cb) {\n    ;(this.events[event] ||= []).push(cb)\n    return () => {\n      this.events[event] = this.events[event]?.filter(i => cb !== i)\n    }\n  }\n})\n","import type { QueryClient } from \"@tanstack/react-query\";\nimport { createNanoEvents } from \"nanoevents\";\nimport type { ReactNode } from \"react\";\nimport type { Location } from \"react-router\";\nimport type { z } from \"zod\";\nimport type {\n  FooterSchema,\n  TopNavigationItem,\n} from \"../../config/validators/common.js\";\nimport type { SidebarConfig } from \"../../config/validators/SidebarSchema.js\";\nimport type { AuthenticationProvider } from \"../authentication/authentication.js\";\nimport { type AuthState, useAuthState } from \"../authentication/state.js\";\nimport type { ComponentsContextType } from \"../components/context/ComponentsContext.js\";\nimport type { Slotlets } from \"../components/SlotletProvider.js\";\nimport { joinPath } from \"../util/joinPath.js\";\nimport type { MdxComponentsType } from \"../util/MdxComponents.js\";\nimport { objectEntries } from \"../util/objectEntries.js\";\nimport {\n  isApiIdentityPlugin,\n  isEventConsumerPlugin,\n  isNavigationPlugin,\n  type NavigationPlugin,\n  needsInitialization,\n  type ZudokuPlugin,\n} from \"./plugins.js\";\n\nexport interface ZudokuEvents {\n  location: (event: { from?: Location; to: Location }) => void;\n  auth: (auth: { prev: AuthState; next: AuthState }) => void;\n}\n\nexport interface ApiIdentity {\n  authorizeRequest: (request: Request) => Promise<Request> | Request;\n  authorizationFields?: {\n    headers?: string[];\n    queryParams?: string[];\n  };\n  label: string;\n  id: string;\n}\n\nexport type ApiKeyCache = \"api-keys\";\n\ntype Metadata = Partial<{\n  title: string;\n  description: string;\n  logo: string;\n  favicon: string;\n  generator: string;\n  applicationName: string;\n  referrer: string;\n  keywords: string[];\n  authors: string[];\n  creator: string;\n  publisher: string;\n}>;\n\ntype Page = Partial<{\n  showPoweredBy: boolean;\n  pageTitle?: string;\n  logo?: {\n    src: {\n      light: string;\n      dark: string;\n    };\n    width?: string | number;\n    alt?: string;\n  };\n  banner?: {\n    message: ReactNode;\n    color?: \"note\" | \"tip\" | \"info\" | \"caution\" | \"danger\" | (string & {});\n    dismissible?: boolean;\n  };\n  footer?: z.infer<typeof FooterSchema>;\n}>;\n\nexport type ZudokuContextOptions = {\n  basePath?: string;\n  canonicalUrlOrigin?: string;\n  metadata?: Metadata;\n  page?: Page;\n  authentication?: AuthenticationProvider;\n  topNavigation?: TopNavigationItem[];\n  sidebars?: SidebarConfig;\n  plugins?: ZudokuPlugin[];\n  slotlets?: Slotlets;\n  mdx?: {\n    components?: MdxComponentsType;\n  };\n  overrides?: ComponentsContextType;\n  protectedRoutes?: string[];\n};\n\nexport class ZudokuContext {\n  public plugins: NonNullable<ZudokuContextOptions[\"plugins\"]>;\n  public sidebars: SidebarConfig;\n  public topNavigation: NonNullable<ZudokuContextOptions[\"topNavigation\"]>;\n  public meta: ZudokuContextOptions[\"metadata\"];\n  public page: ZudokuContextOptions[\"page\"];\n  public authentication?: ZudokuContextOptions[\"authentication\"];\n  private readonly navigationPlugins: NavigationPlugin[];\n  private emitter = createNanoEvents<ZudokuEvents>();\n\n  constructor(\n    public readonly options: ZudokuContextOptions,\n    public readonly queryClient: QueryClient,\n  ) {\n    this.plugins = options.plugins ?? [];\n    this.topNavigation = options.topNavigation ?? [];\n    this.sidebars = options.sidebars ?? {};\n    this.navigationPlugins = this.plugins.filter(isNavigationPlugin);\n    this.authentication = options.authentication;\n    this.meta = options.metadata;\n    this.page = options.page;\n    this.plugins.forEach((plugin) => {\n      if (!isEventConsumerPlugin(plugin)) return;\n\n      objectEntries(plugin.events).forEach(([event, handler]) => {\n        this.emitter.on(event, handler!);\n      });\n    });\n\n    useAuthState.subscribe((state, prevState) => {\n      this.emitEvent(\"auth\", {\n        prev: prevState,\n        next: state,\n      });\n    });\n  }\n\n  initialize = async (): Promise<void> => {\n    await Promise.all(\n      this.plugins\n        .filter(needsInitialization)\n        .map((plugin) => plugin.initialize?.(this)),\n    );\n  };\n\n  getApiIdentities = async () => {\n    const keys = await Promise.all(\n      this.plugins\n        .filter(isApiIdentityPlugin)\n        .map((plugin) => plugin.getIdentities(this)),\n    );\n\n    return keys.flat();\n  };\n\n  addEventListener<E extends keyof ZudokuEvents>(\n    event: E,\n    callback: ZudokuEvents[E],\n  ) {\n    return this.emitter.on(event, callback);\n  }\n\n  emitEvent = <E extends keyof ZudokuEvents>(\n    event: E,\n    ...data: Parameters<ZudokuEvents[E]>\n  ) => {\n    return this.emitter.emit(event, ...data);\n  };\n\n  getPluginSidebar = async (path: string) => {\n    const navigations = await Promise.all(\n      this.navigationPlugins.map((plugin) =>\n        plugin.getSidebar?.(joinPath(path), this),\n      ),\n    );\n\n    return navigations.flatMap((nav) => nav ?? []);\n  };\n\n  signRequest = async (request: Request) => {\n    if (!this.authentication) {\n      throw new Error(\"No authentication provider configured\");\n    }\n\n    return await this.authentication.signRequest(request);\n  };\n}\n","import { FallbackProps } from \"react-error-boundary\";\nimport { ErrorAlert } from \"./ErrorAlert.js\";\n\nexport function TopLevelError({ error, resetErrorBoundary }: FallbackProps) {\n  // Call resetErrorBoundary() to reset the error boundary and retry the render.\n\n  return <ErrorAlert error={error} />;\n}\n","const root = globalThis;\n\nif (!root.requestIdleCallback || !root.cancelIdleCallback) {\n  root.requestIdleCallback = (cb: IdleRequestCallback) => setTimeout(cb, 1);\n  root.cancelIdleCallback = clearTimeout;\n}\n","import {\n  createContext,\n  useContext,\n  type ComponentProps,\n  type ComponentType,\n} from \"react\";\nimport { Header } from \"../Header.js\";\n\nexport const DEFAULT_COMPONENTS = {\n  Header,\n};\n\nexport type ComponentsContextType = {\n  Header?: ComponentType<ComponentProps<typeof Header>>;\n};\n\nconst ComponentsContext =\n  createContext<Required<ComponentsContextType>>(DEFAULT_COMPONENTS);\n\nexport const ComponentsProvider = ComponentsContext.Provider;\n\nexport const useComponents = () => {\n  return useContext(ComponentsContext);\n};\n","import { useEffect, useRef } from \"react\";\nimport { useLocation, type Location } from \"react-router\";\nimport { useZudoku } from \"./ZudokuContext.js\";\n\nexport const RouterEventsEmitter = () => {\n  const location = useLocation();\n  const zudoku = useZudoku();\n  const previousLocation = useRef<Location | undefined>(undefined);\n\n  useEffect(() => {\n    zudoku.emitEvent(\"location\", {\n      from: previousLocation.current,\n      to: location,\n    });\n    previousLocation.current = location;\n  }, [zudoku, location]);\n\n  return null;\n};\n","import { useSuspenseQuery } from \"@tanstack/react-query\";\nimport type { PropsWithChildren } from \"react\";\nimport { ZudokuContext } from \"../../core/ZudokuContext.js\";\nimport { ZudokuReactContext } from \"./ZudokuContext.js\";\n\nexport const ZudokuProvider = ({\n  children,\n  context,\n}: PropsWithChildren<{ context: ZudokuContext }>) => {\n  useSuspenseQuery({\n    queryFn: async () => {\n      await context.initialize();\n      return true;\n    },\n    queryKey: [\"zudoku-initialize\"],\n  });\n\n  return (\n    <ZudokuReactContext.Provider value={context}>\n      {children}\n    </ZudokuReactContext.Provider>\n  );\n};\n","import { MDXProvider } from \"@mdx-js/react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { ThemeProvider } from \"next-themes\";\nimport {\n  memo,\n  type PropsWithChildren,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { Outlet, useLocation, useNavigation } from \"react-router\";\nimport { hasHead, isMdxProviderPlugin } from \"../core/plugins.js\";\nimport {\n  ZudokuContext,\n  type ZudokuContextOptions,\n} from \"../core/ZudokuContext.js\";\nimport { TopLevelError } from \"../errors/TopLevelError.js\";\nimport { StaggeredRenderContext } from \"../plugins/openapi/StaggeredRender.js\";\nimport { MdxComponents } from \"../util/MdxComponents.js\";\nimport \"../util/requestIdleCallbackPolyfill.js\";\nimport {\n  ComponentsProvider,\n  DEFAULT_COMPONENTS,\n} from \"./context/ComponentsContext.js\";\nimport { RouterEventsEmitter } from \"./context/RouterEventsEmitter.js\";\nimport { ViewportAnchorProvider } from \"./context/ViewportAnchorContext.js\";\nimport { ZudokuProvider } from \"./context/ZudokuProvider.js\";\nimport { SlotletProvider } from \"./SlotletProvider.js\";\n\nlet zudokuContext: ZudokuContext | undefined;\n\nconst ZudokoInner = memo(\n  ({ children, ...props }: PropsWithChildren<ZudokuContextOptions>) => {\n    const components = useMemo(\n      () => ({ ...DEFAULT_COMPONENTS, ...props.overrides }),\n      [props.overrides],\n    );\n\n    const location = useLocation();\n    const mdxComponents = useMemo(() => {\n      const componentsFromPlugins = (props.plugins ?? [])\n        .filter(isMdxProviderPlugin)\n        .flatMap((plugin) =>\n          plugin.getMdxComponents ? [plugin.getMdxComponents()] : [],\n        );\n\n      return {\n        ...componentsFromPlugins.reduce(\n          (acc, curr) => ({ ...acc, ...curr }),\n          {},\n        ),\n        ...MdxComponents,\n        ...props.mdx?.components,\n      };\n    }, [props.mdx?.components, props.plugins]);\n    const { stagger } = useContext(StaggeredRenderContext);\n    const [didNavigate, setDidNavigate] = useState(false);\n    const staggeredValue = useMemo(\n      () => (didNavigate ? { stagger: true } : { stagger }),\n      [stagger, didNavigate],\n    );\n    const navigation = useNavigation();\n    const queryClient = useQueryClient();\n\n    useEffect(() => {\n      if (didNavigate) {\n        return;\n      }\n      setDidNavigate(true);\n    }, [didNavigate, navigation.location]);\n\n    if (!zudokuContext) {\n      zudokuContext = new ZudokuContext(props, queryClient);\n    }\n\n    const heads = props.plugins\n      ?.flatMap((plugin) =>\n        hasHead(plugin) ? (plugin.getHead?.({ location }) ?? []) : [],\n      )\n      // eslint-disable-next-line react/no-array-index-key\n      .map((entry, i) => <Helmet key={i}>{entry}</Helmet>);\n\n    return (\n      <>\n        {heads}\n        <StaggeredRenderContext.Provider value={staggeredValue}>\n          <ZudokuProvider context={zudokuContext}>\n            <RouterEventsEmitter />\n            <MDXProvider components={mdxComponents}>\n              <ThemeProvider attribute=\"class\" disableTransitionOnChange>\n                <ComponentsProvider value={components}>\n                  <SlotletProvider slotlets={props.slotlets}>\n                    <ViewportAnchorProvider>\n                      {children ?? <Outlet />}\n                    </ViewportAnchorProvider>\n                  </SlotletProvider>\n                </ComponentsProvider>\n              </ThemeProvider>\n            </MDXProvider>\n          </ZudokuProvider>\n        </StaggeredRenderContext.Provider>\n      </>\n    );\n  },\n);\n\nZudokoInner.displayName = \"ZudokoInner\";\n\nconst Zudoku = (props: ZudokuContextOptions) => {\n  return (\n    <ErrorBoundary FallbackComponent={TopLevelError}>\n      <ZudokoInner {...props} />\n    </ErrorBoundary>\n  );\n};\nZudoku.displayName = \"Zudoku\";\n\nexport { Zudoku };\n","import { useMDXComponents as useMDXComponentsImport } from \"@mdx-js/react\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { useTheme as useThemeImport } from \"next-themes\";\nimport { Link as LinkImport } from \"react-router\";\nimport { useAuth as useAuthImport } from \"../authentication/hook.js\";\nimport { RouteGuard as RouteGuardImport } from \"../core/RouteGuard.js\";\nimport { RouterError as RouterErrorImport } from \"../errors/RouterError.js\";\nimport { ServerError as ServerErrorImport } from \"../errors/ServerError.js\";\nimport { Button as ButtonImport } from \"../ui/Button.js\";\nimport { Callout as CalloutImport } from \"../ui/Callout.js\";\nimport {\n  Bootstrap as BootstrapImport,\n  BootstrapStatic as BootstrapStaticImport,\n} from \"./Bootstrap.js\";\nimport {\n  CACHE_KEYS as CACHE_KEYS_IMPORT,\n  useCache as useCacheImport,\n} from \"./cache.js\";\nimport { ClientOnly as ClientOnlyImport } from \"./ClientOnly.js\";\nimport { useZudoku as useZudokuImport } from \"./context/ZudokuContext.js\";\nimport { Layout as LayoutImport } from \"./Layout.js\";\nimport { Markdown as MarkdownImport } from \"./Markdown.js\";\nimport { Spinner as SpinnerImport } from \"./Spinner.js\";\nimport { StatusPage as StatusPageImport } from \"./StatusPage.js\";\nimport { Zudoku as ZudokuImport } from \"./Zudoku.js\";\n\nexport const useMDXComponents = /*@__PURE__*/ useMDXComponentsImport;\nexport const Layout = /*@__PURE__*/ LayoutImport;\nexport const RouterError = /*@__PURE__*/ RouterErrorImport;\nexport const ServerError = /*@__PURE__*/ ServerErrorImport;\nexport const Bootstrap = /*@__PURE__*/ BootstrapImport;\nexport const BootstrapStatic = /*@__PURE__*/ BootstrapStaticImport;\nexport const RouteGuard = /*@__PURE__*/ RouteGuardImport;\n\nexport const Head = /*@__PURE__*/ Helmet;\n\nexport const useZudoku = /*@__PURE__*/ useZudokuImport;\nexport const useAuth = /*@__PURE__*/ useAuthImport;\nexport const useCache = /*@__PURE__*/ useCacheImport;\nexport const CACHE_KEYS = /*@__PURE__*/ CACHE_KEYS_IMPORT;\nexport const Zudoku = /*@__PURE__*/ ZudokuImport;\n\nexport const StatusPage = /*@__PURE__*/ StatusPageImport;\nexport const Callout = /*@__PURE__*/ CalloutImport;\nexport const Markdown = /*@__PURE__*/ MarkdownImport;\nexport const Spinner = /*@__PURE__*/ SpinnerImport;\nexport const ClientOnly = /*@__PURE__*/ ClientOnlyImport;\nexport const Button = /*@__PURE__*/ ButtonImport;\nexport const Link = /*@__PURE__*/ LinkImport;\nexport const useTheme = /*@__PURE__*/ useThemeImport;\n"],"names":["emptyComponents","MDXContext","React","useMDXComponents","components","contextComponents","MDXProvider","properties","allComponents","QueryCache","_a","Subscribable","config","__privateAdd","_queries","__privateSet","client","options","state","queryKey","queryHash","hashQueryKeyByOptions","query","Query","__privateGet","queryInMap","notifyManager","filters","defaultedFilters","matchQuery","queries","event","listener","MutationCache","_mutations","_scopes","_mutationId","mutation","Mutation","__privateWrapper","scope","scopeFor","scopedMutations","index","mutationsWithSameScope","firstPendingMutation","m","foundMutation","matchMutation","pausedMutations","x","noop","infiniteQueryBehavior","pages","context","direction","_c","_b","oldPages","_d","oldPageParams","_e","result","currentPage","fetchFn","cancelled","addSignalProperty","object","queryFn","ensureQueryFn","fetchPage","data","param","previous","queryFnContext","page","maxPages","addTo","addToStart","addToEnd","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","QueryClient","_queryCache","_mutationCache","_defaultOptions","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","focusManager","focused","onlineManager","online","defaultedOptions","cachedData","resolveStaleTime","updater","prevData","functionalUpdate","queryCache","cancelOptions","defaultedCancelOptions","promises","fetchOptions","promise","hashKey","defaults","queryDefault","partialMatchKey","mutationKey","skipToken","defaultTransformerFn","hydrate","dehydratedState","mutationCache","deserializeData","mutations","mutationOptions","meta","_ignored","serializedState","initialPromise","hasProperty","obj","key","HydrationBoundary","children","queryClient","useQueryClient","hydrationQueue","setHydrationQueue","optionsRef","newQueries","existingQueries","dehydratedQuery","existingQuery","hydrationIsNewer","queryAlreadyQueued","prev","ServerError","error","jsx","ErrorAlert","RouterProvider2","props","RouterProvider","ReactDOM","StaggeredRenderContext","createContext","Bootstrap","router","StrictMode","QueryClientProvider","BypassProtectedRoutesContext","HelmetProvider","BootstrapStatic","helmetContext","bypassProtection","StaticRouterProvider","useScrollToTop","location","useLocation","previousPath","useRef","useEffect","isNewPage","hasAnchor","SocialIcon","icon","isExternalUrl","href","Footer","useZudoku","footer","jsxs","cn","Slotlet","column","link","className","ExternalLinkIcon","AnchorLink","Fragment","social","Skeleton","COLOR_MAP","Banner","isBannerOpen","setIsBannerOpen","useState","mappedColor","style","CircleXIcon","ZudokuLogo","PoweredByZudoku","ChevronRightIcon","detectOS","userAgent","Search","ctx","isOpen","setIsOpen","onClose","useCallback","onKeyDown","searchPlugin","isSearchPlugin","SearchIcon","ClientOnly","KbdShortcut","Suspense","os","ThemeSwitch","resolvedTheme","setTheme","useTheme","Button","SunIcon","MoonIcon","_extends","n","t","r","b","c","d","e","f","g","h","k","l","p","q","v","w","y","z","a","u","A","reactIs_production_min","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","isValidElementType","type","typeOf","$$typeof","$$typeofType","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Lazy","Memo","Portal","Profiler","hasWarnedAboutDeprecatedIsAsyncMode","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","reactIs_development","reactIsModule","require$$0","require$$1","reactIs","REACT_STATICS","KNOWN_STATICS","FORWARD_REF_STATICS","MEMO_STATICS","TYPE_STATICS","getStatics","component","defineProperty","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","targetStatics","sourceStatics","i","descriptor","hoistNonReactStatics_cjs","clamp","num","lower","upper","createQueue","isRunning","pending","_next","cb","clear","enqueue","createTimeout","handle","cancel","schedule","callback","delay","deltaTime","start","_frame","time","increment","progress","amount","useEffectOnce","effect","incrementParameter","useUpdate","_useState","setState","useGetSetState","initialState","update","get","set","patch","useFirstMountState","isFirst","useUpdateEffect","deps","isFirstMount","useNProgress","_temp","_ref","_ref$animationDuratio","animationDuration","_ref$incrementDuratio","incrementDuration","_ref$isAnimating","isAnimating","_ref$minimum","minimum","_useGetSetState","queue","timeout","cleanup","_timeout$current","_queue$current","_queue$current4","_queue$current2","_queue$current3","next","_timeout$current2","_timeout$current3","trickle","_work","_queue$current5","_timeout$current4","savedTrickle","sideEffect","isHiddenItem","isAuthenticated","item","PageProgress","isNavigating","useNavigation","setIsAnimating","timer","isFinished","TopNavigation","topNavigation","useAuth","filteredItems","TopNavItem","id","label","defaultLink","sidebars","currentSidebar","currentNav","useCurrentNavigation","isActive","first","traverseSidebar","joinUrl","NavLink","isPending","cx","MobileTopNavigation","drawerOpen","setDrawerOpen","Drawer","open","DrawerTrigger","MenuIcon","DrawerContent","VisuallyHidden","DrawerTitle","RecursiveMenu","DropdownMenuSub","DropdownMenuSubTrigger","DropdownMenuPortal","DropdownMenuSubContent","Link","DropdownMenuItem","Header","memo","auth","profile","isAuthEnabled","plugins","accountItems","isProfileMenuPlugin","DropdownMenu","DropdownMenuTrigger","DropdownMenuContent","DropdownMenuLabel","DropdownMenuSeparator","shouldScaleBackground","DrawerPrimitive","DrawerPortal","DrawerOverlay","ref","hideBar","DrawerDescription","SidebarWrapper","navRef","active","scrollIntoViewIfNeeded","Sidebar","onRequestClose","sidebar","SidebarItem","Main","isDrawerOpen","hasSidebar","PanelLeftIcon","LoadingFallback","Spinner","Layout","authentication","useScrollToAnchor","Helmet","Outlet","ErrorPage","title","message","category","ProseClasses","CategoryHeading","Heading","getDefaultContent","statusCode","StatusPage","defaultContent","ErrorBoundaryContext","ErrorBoundary","Component","_this$props$onReset","_this$props","_len","args","_key","info","_this$props$onError","_this$props2","prevProps","prevState","didCatch","resetKeys","hasArrayChanged","_this$props$onReset2","_this$props3","fallbackRender","FallbackComponent","fallback","childToRender","createElement","createNanoEvents","callbacks","length","ZudokuContext","__publicField","needsInitialization","plugin","isApiIdentityPlugin","path","joinPath","nav","request","isNavigationPlugin","isEventConsumerPlugin","objectEntries","handler","useAuthState","TopLevelError","resetErrorBoundary","root","DEFAULT_COMPONENTS","ComponentsContext","ComponentsProvider","RouterEventsEmitter","zudoku","previousLocation","ZudokuProvider","useSuspenseQuery","ZudokuReactContext","zudokuContext","ZudokoInner","useMemo","mdxComponents","isMdxProviderPlugin","acc","curr","MdxComponents","stagger","useContext","didNavigate","setDidNavigate","staggeredValue","navigation","heads","hasHead","entry","ThemeProvider","SlotletProvider","ViewportAnchorProvider","Zudoku","useMDXComponentsImport","LayoutImport","RouterError","RouterErrorImport","ServerErrorImport","BootstrapImport","BootstrapStaticImport","RouteGuard","RouteGuardImport","Head","useZudokuImport","useAuthImport","useCache","useCacheImport","CACHE_KEYS","CACHE_KEYS_IMPORT","ZudokuImport","StatusPageImport","Callout","CalloutImport","Markdown","MarkdownImport","SpinnerImport","ClientOnlyImport","ButtonImport","LinkImport","useThemeImport"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,8,20,21,22,23,24,25,36,37]}