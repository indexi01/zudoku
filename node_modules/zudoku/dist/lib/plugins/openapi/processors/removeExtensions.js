import { traverse } from "./traverse.js";
// Remove all `x-` prefixed key/value pairs, or filter by names if provided
export const removeExtensions = ({ keys, shouldRemove } = {}) => ({ schema }) => traverse(schema, (spec) => {
    const result = {};
    for (const [key, value] of Object.entries(spec)) {
        const isExtension = key.startsWith("x-");
        const shouldBeRemoved = isExtension &&
            (keys === undefined || keys.includes(key)) &&
            (!shouldRemove || shouldRemove(key));
        if (shouldBeRemoved)
            continue;
        result[key] = value;
    }
    return result;
});
//# sourceMappingURL=removeExtensions.js.map