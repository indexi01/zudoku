import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { ExternalLink as ExternalLinkIcon } from "lucide-react";
import { cn } from "../util/cn.js";
import { AnchorLink } from "./AnchorLink.js";
import { useZudoku } from "./index.js";
import { Slotlet } from "./SlotletProvider.js";
const SocialIcon = ({ icon, }) => {
    if (typeof icon === "string") {
        return (_jsx("img", { src: `https://cdn.simpleicons.org/${icon}/000000/ffffff`, className: "size-5", alt: icon }));
    }
    return icon;
};
const isExternalUrl = (href) => /^https?:/.test(href);
export const Footer = () => {
    const { page } = useZudoku();
    const footer = page?.footer;
    if (!footer)
        return null;
    return (_jsx("footer", { className: "border-t bg-background", children: _jsxs("div", { className: "mx-auto max-w-screen-2xl px-4 lg:px-8 py-8 pt-20", children: [_jsxs("div", { className: cn("flex flex-row gap-8", {
                        "justify-center": !footer.position || footer.position === "center",
                        "justify-start": footer.position === "start",
                        "justify-end": footer.position === "end",
                    }), children: [_jsx(Slotlet, { name: "footer-before" }), footer.columns && (_jsx("div", { className: "w-full md:max-w-screen-md grid grid-cols-[1fr_1fr] gap-8 md:grid-cols-[repeat(var(--columns),minmax(0,1fr))]", style: { "--columns": footer.columns.length }, children: footer.columns.map((column) => (_jsxs("div", { className: cn({
                                    "justify-self-center": !column.position || column.position === "center",
                                    "justify-self-start": column.position === "start",
                                    "justify-self-end": column.position === "end",
                                }), children: [_jsx("span", { className: "text-sm font-semibold", children: column.title }), _jsx("ul", { className: "mt-4 space-y-2", children: column.links.map((link, i) => {
                                            const className = "flex flex-row gap-1 items-center text-sm text-muted-foreground hover:text-accent-foreground";
                                            return (_jsx("li", { children: isExternalUrl(link.href) ? (_jsxs("a", { href: link.href, target: "_blank", rel: "noopener noreferrer", className: className, children: [_jsx("span", { children: link.label }), _jsx(ExternalLinkIcon, { size: 12 })] })) : (_jsx(AnchorLink, { to: link.href + i, className: className, children: _jsx("span", { children: link.label }) })) }, link.href + i));
                                        }) })] }, column.title))) })), _jsx(Slotlet, { name: "footer-after" })] }), _jsxs("div", { className: cn("flex items-center justify-between", footer.columns && "border-t mt-8 pt-8"), children: [footer.logo && (_jsxs(_Fragment, { children: [_jsx("img", { src: footer.logo.src.light, alt: footer.logo.alt, className: "w-8 dark:hidden", style: { width: footer.logo.width } }), _jsx("img", { src: footer.logo.src.dark, alt: footer.logo.alt, className: "w-8 hidden dark:block", style: { width: footer.logo.width } })] })), footer.copyright && (_jsx("p", { className: "text-sm text-muted-foreground", children: footer.copyright })), _jsx("div", { className: "flex items-center gap-2", children: footer.social?.map((social) => (_jsxs("a", { href: social.href, target: "_blank", rel: "noopener noreferrer", className: "w-auto gap-2 flex text-muted-foreground hover:text-accent-foreground", children: [_jsx(SocialIcon, { icon: social.icon }), social.label] }, social.href))) })] })] }) }));
};
//# sourceMappingURL=Footer.js.map