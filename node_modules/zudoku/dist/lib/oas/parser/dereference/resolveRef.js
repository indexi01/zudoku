const cache = new Map();
/**
 * Resolves a $ref pointer in a schema and returns the referenced value.
 */
export const resolveLocalRef = (schema, ref) => {
    if (!cache.has(schema)) {
        cache.set(schema, new Map());
    }
    const schemaCache = cache.get(schema);
    if (schemaCache.has(ref)) {
        return schemaCache.get(ref);
    }
    const path = ref.split("/").slice(1);
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    let current = schema;
    for (const segment of path) {
        if (!current || typeof current !== "object") {
            // we've reached a dead end
            current = null;
        }
        current = current[segment] ?? null;
    }
    schemaCache.set(ref, current);
    return current;
};
//# sourceMappingURL=resolveRef.js.map